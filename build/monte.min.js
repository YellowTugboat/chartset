!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Monte=t.Monte||{})}(this,function(t){"use strict";function e(t){var e="undefined"==typeof t?"undefined":De(t);return null!=t&&("object"==e||"function"==e)}function n(t){var n=e(t)?Ge.call(t):"";return n==Ve||n==Ie}function r(t){return!!qe&&qe in t}function i(t){if(null!=t){try{return Ye.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function o(t){if(!e(t)||r(t))return!1;var o=n(t)?rn:Ke;return o.test(i(t))}function a(t,e){return null==t?void 0:t[e]}function s(t,e){var n=a(t,e);return o(n)?n:void 0}function u(){this.__data__=on?on(null):{},this.size=0}function c(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function p(t){var e=this.__data__;if(on){var n=e[t];return n===an?void 0:n}return un.call(e,t)?e[t]:void 0}function l(t){var e=this.__data__;return on?void 0!==e[t]:pn.call(e,t)}function h(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=on&&void 0===e?ln:e,this}function f(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(){this.__data__=[],this.size=0}function y(t,e){return t===e||t!==t&&e!==e}function _(t,e){for(var n=t.length;n--;)if(y(t[n][0],e))return n;return-1}function v(t){var e=this.__data__,n=_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fn.call(e,n,1),--this.size,!0}function g(t){var e=this.__data__,n=_(e,t);return n<0?void 0:e[n][1]}function b(t){return _(this.__data__,t)>-1}function m(t,e){var n=this.__data__,r=_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function O(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function x(){this.size=0,this.__data__={hash:new f,map:new(dn||O),string:new f}}function k(t){var e="undefined"==typeof t?"undefined":De(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function A(t,e){var n=t.__data__;return k(e)?n["string"==typeof e?"string":"hash"]:n.map}function j(t){var e=A(this,t).delete(t);return this.size-=e?1:0,e}function P(t){return A(this,t).get(t)}function C(t){return A(this,t).has(t)}function S(t,e){var n=A(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function w(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function E(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(yn);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(E.Cache||w),n}function z(t){var e=E(t,function(t){return n.size===_n&&n.clear(),t}),n=e.cache;return e}function D(t){return null!=t&&"object"==("undefined"==typeof t?"undefined":De(t))}function R(t){return"symbol"==("undefined"==typeof t?"undefined":De(t))||D(t)&&mn.call(t)==gn}function B(t){if("string"==typeof t)return t;if(R(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-On?"-0":e}function F(t){return null==t?"":B(t)}function L(t){return ze(t)?t:Cn(t)}function T(t,e){if(ze(t))return!1;var n="undefined"==typeof t?"undefined":De(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!R(t))||(wn.test(t)||!Sn.test(t)||null!=e&&t in Object(e))}function M(t){if("string"==typeof t||R(t))return t;var e=t+"";return"0"==e&&1/t==-En?"-0":e}function W(t,e){e=T(e,t)?[e]:L(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[M(e[n++])];return n&&n==r?t:void 0}function V(t,e,n){var r=null==t?void 0:W(t,e);return void 0===r?n:r}function I(t,e,n){"__proto__"==e&&zn?zn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function H(t,e,n){var r=t[e];Rn.call(t,e)&&y(r,n)&&(void 0!==n||e in t)||I(t,e,n)}function G(t,e){return e=null==e?Bn:e,!!e&&("number"==typeof t||Fn.test(t))&&t>-1&&t%1==0&&t<e}function U(t,n,r,i){if(!e(t))return t;n=T(n,t)?[n]:L(n);for(var o=-1,a=n.length,s=a-1,u=t;null!=u&&++o<a;){var c=M(n[o]),p=r;if(o!=s){var l=u[c];p=i?i(l,c,u):void 0,void 0===p&&(p=e(l)?l:G(n[o+1])?[]:{})}H(u,c,p),u=u[c]}return t}function N(t,e,n){return null==t?t:U(t,e,n)}function $(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Z(t){return t}function q(t,e,n){return e=Ln(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Ln(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),$(t,this,s)}}function X(t){return function(){return t}}function Y(t){var e=0,n=0;return function(){var r=In(),i=Vn-(r-n);if(n=r,i>0){if(++e>=Wn)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function J(t,e){return Hn(q(t,e,Z),t+"")}function K(){this.__data__=new O,this.size=0}function Q(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function tt(t){return this.__data__.get(t)}function et(t){return this.__data__.has(t)}function nt(t,e){var n=this.__data__;if(n instanceof O){var r=n.__data__;if(!dn||r.length<Gn-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new w(r)}return n.set(t,e),this.size=n.size,this}function rt(t){var e=this.__data__=new O(t);this.size=e.size}function it(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function ot(t,e,n){(void 0===n||y(t[e],n))&&("number"!=typeof e||void 0!==n||e in t)||I(t,e,n)}function at(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Un;return t===n}function st(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function ut(t){if(!e(t))return st(t);var n=at(t),r=[];for(var i in t)("constructor"!=i||!n&&$n.call(t,i))&&r.push(i);return r}function ct(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?I(n,s,u):H(n,s,u)}return n}function pt(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function lt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Zn}function ht(t){return null!=t&&lt(t.length)&&!n(t)}function ft(t){return D(t)&&ht(t)}function dt(t){return ft(t)&&Yn.call(t,"callee")&&(!Kn.call(t,"callee")||Jn.call(t)==qn)}function yt(t,e){var n=ze(t)||dt(t)?pt(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!tr.call(t,o)||i&&("length"==o||G(o,r))||n.push(o);return n}function _t(t,e){return function(n){return t(e(n))}}function vt(t){if(!at(t))return er(t);var e=[];for(var n in Object(t))rr.call(t,n)&&"constructor"!=n&&e.push(n);return e}function gt(t){return ht(t)?yt(t):vt(t)}function bt(t,e){return t&&ct(e,gt(e),t)}function mt(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function Ot(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function xt(){return[]}function kt(t,e){return ct(t,or(t),e)}function At(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function jt(t,e,n){var r=e(t);return ze(t)?r:At(r,n(t))}function Pt(t){return jt(t,gt,or)}function Ct(t){return lr.call(t)}function St(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Sr.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function wt(t){var e=new t.constructor(t.byteLength);return new wr(e).set(new wr(t)),e}function Et(t,e){var n=e?wt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function zt(t,e){return t.set(e[0],e[1]),t}function Dt(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Rt(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Bt(t,e,n){var r=e?n(Rt(t),!0):Rt(t);return Dt(r,zt,new t.constructor)}function Ft(t){var e=new t.constructor(t.source,Er.exec(t));return e.lastIndex=t.lastIndex,e}function Lt(t,e){return t.add(e),t}function Tt(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Mt(t,e,n){var r=e?n(Tt(t),!0):Tt(t);return Dt(r,Lt,new t.constructor)}function Wt(t){return Dr?Object(Dr.call(t)):{}}function Vt(t,e){var n=e?wt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function It(t,e,n,r){var i=t.constructor;switch(e){case Ir:return wt(t);case Rr:case Br:return new i(+t);case Hr:return Et(t,r);case Gr:case Ur:case Nr:case $r:case Zr:case qr:case Xr:case Yr:case Jr:return Vt(t,r);case Fr:return Bt(t,r,n);case Lr:case Wr:return new i(t);case Tr:return Ft(t);case Mr:return Mt(t,r,n);case Vr:return Wt(t)}}function Ht(t){return e(t)?Kr(t):{}}function Gt(t){return"function"!=typeof t.constructor||at(t)?{}:Ht(Qr(t))}function Ut(){return!1}function Nt(t,n,r,i,o,a,s){var u;if(i&&(u=a?i(t,o,a,s):i(t)),void 0!==u)return u;if(!e(t))return t;var c=ze(t);if(c){if(u=St(t),!n)return Ot(t,u)}else{var p=Pr(t),l=p==li||p==hi;if(oi(t))return mt(t,n);if(p==yi||p==ai||l&&!a){if(u=Gt(l?{}:t),!n)return kt(t,bt(u,t))}else{if(!Di[p])return a?t:{};u=It(t,p,Nt,n)}}s||(s=new rt);var h=s.get(t);if(h)return h;if(s.set(t,u),!c)var f=r?Pt(t):gt(t);return it(f||t,function(e,o){f&&(o=e,e=t[o]),H(u,o,Nt(e,n,r,i,o,t,s))}),u}function $t(t){if(!D(t)||Wi.call(t)!=Ri)return!1;var e=Qr(t);if(null===e)return!0;var n=Ti.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Li.call(n)==Mi}function Zt(t){return D(t)&&lt(t.length)&&!!po[ho.call(t)]}function qt(t){return function(e){return t(e)}}function Xt(t){return ht(t)?yt(t,!0):ut(t)}function Yt(t){return ct(t,Xt(t))}function Jt(t,r,i,o,a,s,u){var c=t[i],p=r[i],l=u.get(p);if(l)return void ot(t,i,l);var h=s?s(c,p,i+"",t,r,u):void 0,f=void 0===h;f&&(h=p,ze(p)||mo(p)?ze(c)?h=c:ft(c)?h=Ot(c):(f=!1,h=Nt(p,!0)):$t(p)||dt(p)?dt(c)?h=Yt(c):!e(c)||o&&n(c)?(f=!1,h=Nt(p,!0)):h=c:f=!1),f&&(u.set(p,h),a(h,p,o,s,u),u.delete(p)),ot(t,i,h)}function Kt(t,n,r,i,o){if(t!==n){if(!ze(n)&&!mo(n))var a=ut(n);it(a||n,function(s,u){if(a&&(u=s,s=n[u]),e(s))o||(o=new rt),Jt(t,n,u,r,Kt,i,o);else{var c=i?i(t[u],s,u+"",t,n,o):void 0;void 0===c&&(c=s),ot(t,u,c)}})}}function Qt(t,n,r,i,o,a){return e(t)&&e(n)&&(a.set(n,t),Kt(t,n,void 0,Qt,a),a.delete(n)),t}function te(t,n,r){if(!e(r))return!1;var i="undefined"==typeof n?"undefined":De(n);return!!("number"==i?ht(r)&&G(n,r.length):"string"==i&&n in r)&&y(r[n],t)}function ee(t){return J(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&te(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function ne(t){return"number"==typeof t&&isFinite(t)}function re(t){return"function"==typeof t}function ie(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":De(t))}function oe(t){return Array.isArray(t)}function ae(t){return null!==t&&t!==Po}function se(t){return t instanceof Co?t.value:t}function ue(t){var e=null;if(Array.isArray(t)){for(var n=-1,r=t.length-1;r>=0;r--){var i=t[r];if(i instanceof So){n=r;break}}e=n!==-1?t.slice(n):t;for(var o=0;o<e.length;o++)e[o]=se(e[o])}else e=se(t);return e}function ce(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ko.apply(void 0,[{}].concat(e));for(var i in r)r.hasOwnProperty(i)&&(r[i]=ue(r[i]));return r}function pe(){for(var t=[],e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i];t.push(o+":mouseover"),t.push(o+":mouseout"),t.push(o+":click"),t.push(o+":touchstart")}return t}function le(){}function he(t){t&&t.domain&&t.domain([])}function fe(t){return[0,t[1]]}function de(t){var e=t[0],n=t[1];if(e>=0)return[0,n];if(e<0&&n<0)return[e,0];var r=Math.abs(e),i=Math.abs(n),o=i>r?i:r;return[-o,o]}function ye(t){return function(){return[0,t]}}function _e(t,e){return null==e&&(e=t),function(n){return[n[0]-t,n[1]+e]}}function ve(t){return function(e){var n=Math.abs(e[1]-e[0])*t;return[e[0]-n,e[1]+n]}}function ge(t,e,n){var r=d3.interpolate(e,n);return function(e){return t(r(e))}}function be(){return function(t,e){var n=t,r=e/2,i="-"+r+" 0",o="0 -"+n,a=r+" 0",s=[r+" "+r,0,0,1,"-"+r+" 0"].join(","),u=["M",i,o,a,"A",s,"Z"].join(" ");return u}}function me(){return function(t,e){var n=t,r=e/2,i="-"+r+" 0",o="0 -"+n,a=r+" 0",s=["M",i,o,a,"Z"].join(" ");return s}}function Oe(t){var e=ce(t,oa);return function(t,n){var r=t,i=e.smallNeedleHeight||t*e.smallNeedleRatio,o=n/2,a="-"+o+" 0",s="0 -"+r,u=o+" 0",c="0 "+i,p=["M",a,s,u,c,"Z"].join(" ");return p}}function xe(t){var e=ce(t,oa);return function(t,n){var r=t,i=e.smallNeedleHeight||t*e.smallNeedleRatio,o=n/2;return"M -"+o+" 0  -"+o+" -"+r+"  "+o+" -"+r+"  "+o+" 0 "+o+" "+i+" -"+o+" "+i+" Z"}}function ke(t,e){var n=(t-e)/Go;return Number.isInteger(n)}function Ae(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}function je(t){var e=/(.*?)\((.*?)\)\s*/g,n=e.exec(t),r={};if(n)for(var i=1;i<n.length;i+=2){var o=n[i],a=n[i+1].trim();(a.indexOf(" ")>-1||a.indexOf(",")>-1)&&(a=a.split(/,\s*|\s+/)),r[o]=a}return r}function Pe(t){return t.tickSize(0),t}function Ce(t){return t.tickFormat(d3.format(",.0f")),t}function Se(t,e){var n=parseFloat(t.getPropertyValue(e),10);return isNaN(n)?0:n}function we(t){var e=window.getComputedStyle(t,null);return{rect:t.getBoundingClientRect(),style:e,pl:Se(e,"padding-left"),pr:Se(e,"padding-right"),pt:Se(e,"padding-top"),pb:Se(e,"padding-bottom")}}var Ee="0.0.0-alpha10",ze=Array.isArray,De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Re=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Be=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Fe=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Le=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Te=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Me=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},We=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Ve="[object Function]",Ie="[object GeneratorFunction]",He=Object.prototype,Ge=He.toString,Ue="object"==("undefined"==typeof global?"undefined":De(global))&&global&&global.Object===Object&&global,Ne="object"==("undefined"==typeof self?"undefined":De(self))&&self&&self.Object===Object&&self,$e=Ue||Ne||Function("return this")(),Ze=$e["__core-js_shared__"],qe=function(){var t=/[^.]+$/.exec(Ze&&Ze.keys&&Ze.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Xe=Function.prototype,Ye=Xe.toString,Je=/[\\^$.*+?()[\]{}|]/g,Ke=/^\[object .+?Constructor\]$/,Qe=Function.prototype,tn=Object.prototype,en=Qe.toString,nn=tn.hasOwnProperty,rn=RegExp("^"+en.call(nn).replace(Je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),on=s(Object,"create"),an="__lodash_hash_undefined__",sn=Object.prototype,un=sn.hasOwnProperty,cn=Object.prototype,pn=cn.hasOwnProperty,ln="__lodash_hash_undefined__";f.prototype.clear=u,f.prototype.delete=c,f.prototype.get=p,f.prototype.has=l,f.prototype.set=h;var hn=Array.prototype,fn=hn.splice;O.prototype.clear=d,O.prototype.delete=v,O.prototype.get=g,O.prototype.has=b,O.prototype.set=m;var dn=s($e,"Map");w.prototype.clear=x,w.prototype.delete=j,w.prototype.get=P,w.prototype.has=C,w.prototype.set=S;var yn="Expected a function";E.Cache=w;var _n=500,vn=$e.Symbol,gn="[object Symbol]",bn=Object.prototype,mn=bn.toString,On=1/0,xn=vn?vn.prototype:void 0,kn=xn?xn.toString:void 0,An=/^\./,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pn=/\\(\\)?/g,Cn=z(function(t){t=F(t);var e=[];return An.test(t)&&e.push(""),t.replace(jn,function(t,n,r,i){e.push(r?i.replace(Pn,"$1"):n||t)}),e}),Sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wn=/^\w*$/,En=1/0,zn=Object.defineProperty,Dn=Object.prototype,Rn=Dn.hasOwnProperty,Bn=9007199254740991,Fn=/^(?:0|[1-9]\d*)$/,Ln=Math.max,Tn=s(Object,"defineProperty"),Mn=Tn?function(t,e){return Tn(t,"toString",{configurable:!0,enumerable:!1,value:X(e),writable:!0})}:Z,Wn=500,Vn=16,In=Date.now,Hn=Y(Mn),Gn=200;rt.prototype.clear=K,rt.prototype.delete=Q,rt.prototype.get=tt,rt.prototype.has=et,rt.prototype.set=nt;var Un=Object.prototype,Nn=Object.prototype,$n=Nn.hasOwnProperty,Zn=9007199254740991,qn="[object Arguments]",Xn=Object.prototype,Yn=Xn.hasOwnProperty,Jn=Xn.toString,Kn=Xn.propertyIsEnumerable,Qn=Object.prototype,tr=Qn.hasOwnProperty,er=_t(Object.keys,Object),nr=Object.prototype,rr=nr.hasOwnProperty,ir=Object.getOwnPropertySymbols,or=ir?_t(ir,Object):xt,ar=s($e,"DataView"),sr=s($e,"Promise"),ur=s($e,"Set"),cr=s($e,"WeakMap"),pr=Object.prototype,lr=pr.toString,hr="[object Map]",fr="[object Object]",dr="[object Promise]",yr="[object Set]",_r="[object WeakMap]",vr="[object DataView]",gr=Object.prototype,br=gr.toString,mr=i(ar),Or=i(dn),xr=i(sr),kr=i(ur),Ar=i(cr),jr=Ct;(ar&&jr(new ar(new ArrayBuffer(1)))!=vr||dn&&jr(new dn)!=hr||sr&&jr(sr.resolve())!=dr||ur&&jr(new ur)!=yr||cr&&jr(new cr)!=_r)&&(jr=function(t){var e=br.call(t),n=e==fr?t.constructor:void 0,r=n?i(n):void 0;if(r)switch(r){case mr:return vr;case Or:return hr;case xr:return dr;case kr:return yr;case Ar:return _r}return e});var Pr=jr,Cr=Object.prototype,Sr=Cr.hasOwnProperty,wr=$e.Uint8Array,Er=/\w*$/,zr=vn?vn.prototype:void 0,Dr=zr?zr.valueOf:void 0,Rr="[object Boolean]",Br="[object Date]",Fr="[object Map]",Lr="[object Number]",Tr="[object RegExp]",Mr="[object Set]",Wr="[object String]",Vr="[object Symbol]",Ir="[object ArrayBuffer]",Hr="[object DataView]",Gr="[object Float32Array]",Ur="[object Float64Array]",Nr="[object Int8Array]",$r="[object Int16Array]",Zr="[object Int32Array]",qr="[object Uint8Array]",Xr="[object Uint8ClampedArray]",Yr="[object Uint16Array]",Jr="[object Uint32Array]",Kr=Object.create,Qr=_t(Object.getPrototypeOf,Object),ti="object"==("undefined"==typeof t?"undefined":De(t))&&t&&!t.nodeType&&t,ei=ti&&"object"==("undefined"==typeof module?"undefined":De(module))&&module&&!module.nodeType&&module,ni=ei&&ei.exports===ti,ri=ni?$e.Buffer:void 0,ii=ri?ri.isBuffer:void 0,oi=ii||Ut,ai="[object Arguments]",si="[object Array]",ui="[object Boolean]",ci="[object Date]",pi="[object Error]",li="[object Function]",hi="[object GeneratorFunction]",fi="[object Map]",di="[object Number]",yi="[object Object]",_i="[object RegExp]",vi="[object Set]",gi="[object String]",bi="[object Symbol]",mi="[object WeakMap]",Oi="[object ArrayBuffer]",xi="[object DataView]",ki="[object Float32Array]",Ai="[object Float64Array]",ji="[object Int8Array]",Pi="[object Int16Array]",Ci="[object Int32Array]",Si="[object Uint8Array]",wi="[object Uint8ClampedArray]",Ei="[object Uint16Array]",zi="[object Uint32Array]",Di={};Di[ai]=Di[si]=Di[Oi]=Di[xi]=Di[ui]=Di[ci]=Di[ki]=Di[Ai]=Di[ji]=Di[Pi]=Di[Ci]=Di[fi]=Di[di]=Di[yi]=Di[_i]=Di[vi]=Di[gi]=Di[bi]=Di[Si]=Di[wi]=Di[Ei]=Di[zi]=!0,Di[pi]=Di[li]=Di[mi]=!1;var Ri="[object Object]",Bi=Function.prototype,Fi=Object.prototype,Li=Bi.toString,Ti=Fi.hasOwnProperty,Mi=Li.call(Object),Wi=Fi.toString,Vi="[object Arguments]",Ii="[object Array]",Hi="[object Boolean]",Gi="[object Date]",Ui="[object Error]",Ni="[object Function]",$i="[object Map]",Zi="[object Number]",qi="[object Object]",Xi="[object RegExp]",Yi="[object Set]",Ji="[object String]",Ki="[object WeakMap]",Qi="[object ArrayBuffer]",to="[object DataView]",eo="[object Float32Array]",no="[object Float64Array]",ro="[object Int8Array]",io="[object Int16Array]",oo="[object Int32Array]",ao="[object Uint8Array]",so="[object Uint8ClampedArray]",uo="[object Uint16Array]",co="[object Uint32Array]",po={};po[eo]=po[no]=po[ro]=po[io]=po[oo]=po[ao]=po[so]=po[uo]=po[co]=!0,po[Vi]=po[Ii]=po[Qi]=po[Hi]=po[to]=po[Gi]=po[Ui]=po[Ni]=po[$i]=po[Zi]=po[qi]=po[Xi]=po[Yi]=po[Ji]=po[Ki]=!1;var lo=Object.prototype,ho=lo.toString,fo="object"==("undefined"==typeof t?"undefined":De(t))&&t&&!t.nodeType&&t,yo=fo&&"object"==("undefined"==typeof module?"undefined":De(module))&&module&&!module.nodeType&&module,_o=yo&&yo.exports===fo,vo=_o&&Ue.process,go=function(){try{return vo&&vo.binding("util")}catch(t){}}(),bo=go&&go.isTypedArray,mo=bo?qt(bo):Zt,Oo=ee(function(t,e,n,r){Kt(t,e,n,r)}),xo=J(function(t){return t.push(void 0,Qt),$(Oo,void 0,t)}),ko=xo,Ao=N,jo=V,Po=void 0,Co=function t(e){Re(this,t),this.value=e},So=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),e}(Co),wo={FPS_30:33,FPS_20:50,FPS_15:66,FPS_10:100,FPS_05:200},Eo={timeoutDelayMs:wo.FPS_15,target:window,eventName:"resize",documentLoadRun:!0},zo=function(){function t(e){var n=this;if(Re(this,t),this.opts=ce(e,Eo),this.callbacks=[],this.running=!1,this.pendingFrame=null,this.pendingTimeout=null,this.listenerAttached=!1,this.documentReady=null,!this.opts.eventName)throw new t.EventWatcherException("An event name must be given!");this.opts.documentLoadRun&&!function(){var t=function(){document.removeEventListener("DOMContentLoaded",t),window.removeEventListener("load",t),n.documentReady=!0,n.runCallbacks()}.bind(n);n.documentReady=!1,document.addEventListener("DOMContentLoaded",t),window.addEventListener("load",t)}()}return Be(t,[{key:"_fired",value:function(){if(!this.running){this.running=!0;var t=this._runCallbacks.bind(this);window.requestAnimationFrame?this.pendingFrame=window.requestAnimationFrame(t):this.pendingTimeout=setTimeout(t,this.opts.timeoutDelayMs)}}},{key:"_runCallbacks",value:function(){this.pendingFrame=this.pendingTimeout=null,this.runCallbacks(),this.running=!1}},{key:"runCallbacks",value:function(){this.callbacks.forEach(function(t){return t()})}},{key:"add",value:function(t){this.listenerAttached||(this.opts.target.addEventListener(this.opts.eventName,this._fired.bind(this)),this.listenerAttached=!0),t&&this.callbacks.push(t)}},{key:"remove",value:function(t){if(this.callbacks.length){var e=this.callbacks.indexOf(t);e>-1&&this.callbacks.splice(e,1)}return this}},{key:"destroy",value:function(){this.pendingFrame?window.cancelAnimationFrame(this.pendingFrame):this.pendingTimeout&&clearTimeout(this.pendingTimeout),this.listenerAttached&&this.opts.target.removeEventListener(this.opts.eventName,this._fired.bind(this))}},{key:"timeoutDelay",value:function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null===t?this.opts.timeoutDelayMs:(this.opts.timeoutDelayMs=t,this)}}]),t}(),Do=["click","touchstart","touchend","mouseover","mouseout"],Ro=function(t){function e(t){Re(this,e);var n=Me(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.name=n.constructor.name,n.message=t,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(n,n.constructor):n.stack=new Error(t).stack,n}return Te(e,t),Be(e,null,[{key:"UnimplementedMethod",value:function(t,n){return new e(t+" (`"+n+"`) needs to be defined in order for the chart to be useful.")}}]),e}(Error),Bo=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,null,[{key:"RequiredOption",value:function(t){return new Ro('Option "'+t+'" is required.')}}]),e}(Ro),Fo=window?window.MonteGlobals={}:{},Lo={css:"",boundingWidth:800,boundingHeight:450,margin:{top:0,right:0,bottom:0,left:0},customEvents:[],extensions:[],transitionDuration:250,resize:null,autoResetCssDomains:!0,directUse:!1},To={mouseover:{action:"add",css:"over"},mouseout:{action:"remove",css:"over"},touchstart:{action:"add",css:"touch"},touchend:{action:"remove",css:"touch"}},Mo=function(){function t(e,n,r){Re(this,t),this._constructed=!1,this._optsSet=!1,this.parentSelector=e,this.hasRendered=!1,this.layers=[],this.extensions=[],this._initOptions(n),this._initPublicEvents.apply(this,We(Do).concat(["suppressedError","extension","rendering","rendered","updating","updated","updatingBounds","updatedBounds","cssDomainsReseting","cssDomainsReset","destroying","destroyed"],We(this.opts.customEvents))),(this.opts.developerMode||Fo.developerMode)&&this._initDeveloperMode(),this._bindExt(this.opts.extensions),this._initCore(),this._initCustomize(),this._updateBounds(),this._initRender(),this._constructed=!0,this._resizeHandler&&Fo.resizeWatch.documentReady&&this._resizeHandler(),r&&this.data(r)}return Be(t,[{key:"_initOptions",value:function(){this.opts={};for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ce.apply(void 0,e.concat([Lo]));for(var i in r)r.hasOwnProperty(i)&&this.option(i,r[i]);this._optsSet=!0}},{key:"_initCore",value:function(){var t=this,e=d3.select(this.parentSelector);"svg"===e.node().tagName.toLowerCase()?this.bound=e:this.bound=e.append("svg"),this.bound.attr("class",this._buildCss(["monte-chart",this.opts.css,this.opts.chartCss])),this.defs=this.bound.append("defs"),this.clip=this.defs.append("clipPath").attr("id","drawClip"),this.clipRect=this.clip.append("rect"),this.addLayer("bg"),this.addLayer("support"),this.addLayer("draw"),this.addLayer("overlay");var n=this;if(Do.forEach(function(e){t.bound.on(e,function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];n.__notify.apply(n,[e,this].concat(r))})}),this.opts.resize){Fo.resizeWatch||(Fo.resizeWatch=new zo);var r=this.opts.resize;this._resizeHandler=r.resize.bind(r,this),Fo.resizeWatch.add(this._resizeHandler)}}},{key:"_initPublicEvents",value:function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._events=n,this.dispatch=(t=d3).dispatch.apply(t,n)}},{key:"_initDeveloperMode",value:function(){var t=this,e=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o="(no arguments)";r&&r.length>0&&(o="\n",r.forEach(function(t,e){return o+="\t"+e+": "+t+"\n"})),console.log("["+t+'] "'+e+'": '+o)};this._events.forEach(function(n){return t.on(n,e.bind(t,n))})}},{key:"_initCustomize",value:function(){}},{key:"_initRender",value:function(){}},{key:"_updateBounds",value:function(){var t=this,e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.__notify("updatingBounds"),this.margin=this.opts.margin,this.width=this.opts.boundingWidth-this.margin.left-this.margin.right,this.height=this.opts.boundingHeight-this.margin.top-this.margin.bottom,this.layers.forEach(function(e){return e.attr("transform",t._getLayerTranslate())}),this.bound&&this.bound.attr("width",this.opts.boundingWidthAttr||this.opts.boundingWidth).attr("height",this.opts.boundingHeightAttr||this.opts.boundingHeight),this.clipRect&&this.clipRect.attr("width",this.width).attr("height",this.height);var r=function(){t._constructed&&t.__notify("updatedBounds")},i=function(){t.hasRendered&&t.update()};return e||r(),n||i(),{notify:r,update:i}}},{key:"checkSize",value:function(){return this._resizeHandler&&this._resizeHandler(),this}},{key:"destroy",value:function(){this.__notify("destroying"),this._resizeHandler&&Fo.resizeWatch.remove(this._resizeHandler),this._destroy(),this.bound.remove(),this.__notify("destroyed")}},{key:"_destroy",value:function(){}},{key:"addLayer",value:function(t){var e=this.bound.append("g").attr("class","monte-"+t);this[t]=e,this.layers.push(e)}},{key:"_getLayerTranslate",value:function(){return"translate("+this.margin.left+", "+this.margin.top+")"}},{key:"boundingRect",value:function(t,e){return 0===arguments.length?[this.opts.boundingWidth,this.opts.boundingHeight]:(this.opts.boundingWidth=t,2===arguments.length&&(this.opts.boundingHeight=e),this._updateBounds(),this.update(),this)}},{key:"on",value:function(t,e){return e?(this.dispatch.on(t,e),this):this.dispatch.on(t)}},{key:"emit",value:function(t){if(t){if(!this.dispatch._[t])throw new Ro("Unknown event "+t+". Double check the spelling or register the event. Custom events must registered at chart creation.");for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.__notify.apply(this,[t].concat(n)),this}}},{key:"option",value:function(t,e){return void 0===e?jo(this.opts,t):(Ao(this.opts,t,e),"margin"===t&&("object"!==("undefined"==typeof e?"undefined":De(e))&&(this.opts.margin={top:e,left:e,right:e,bottom:e}),this._optsSet&&this._updateBounds()),this)}},{key:"optInvoke",value:function(t){if(null==t)throw new Bo("Option not initialized.");try{for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return re(t)?t.call.apply(t,[this].concat(n)):t}catch(t){return this.__notify("suppressedError",t),null}}},{key:"_clearDataElements",value:function(){}},{key:"clear",value:function(){this.displayData=null,this._clearDataElements(),this.opts.autoResetCssDomains&&this.resetCssDomains()}},{key:"resetCssDomains",value:function(){return this.__notify("cssDomainsReseting"),this._resetCssDomains(),this.__notify("cssDomainsReset"),this}},{key:"_resetCssDomains",value:function(){}},{key:"_buildCss",value:function(t,e,n){var r=this,i=[],o=Array.isArray(t)?t:[t];return o.forEach(function(t){ae(t)&&i.push(r.optInvoke(t,e&&e.id||n))}),i.join(" ")}},{key:"classed",value:function(){var t;return(t=this.bound).classed.apply(t,arguments),(arguments.length<=0?void 0:arguments[0])&&alert(),(arguments.length<=1?void 0:arguments[1])&&alert(),this}},{key:"call",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.call.apply(t,[this].concat(n)),this}},{key:"updateData",value:function(t){return this.data(t,!0),this}},{key:"data",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return void 0===t?this.displayData:(e||this.clear(),this._data(t),n||this.update(),this)}},{key:"_data",value:function(t){this.displayData=t}},{key:"addExt",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this._bindExt(e)}},{key:"_bindExt",value:function(t){var e=this;t.forEach(function(t){t.opts.binding?(t.setChart(e),e.extensions.push(t)):e.__notify("suppressedError","Extensions must have the `binding` option specified.")})}},{key:"__updateExt",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.extensions.forEach(function(e){e.opts.binding.indexOf(t)>-1&&e.update.apply(e,[t].concat(n))})}},{key:"replaceScale",value:function(t,e){var n=e();n.range(this[t].range()).domain(this[t].domain()),this[t]=n,this.update()}},{key:"update",value:function(){this.data()&&(this.hasRendered||this.__notify("rendering"),this.__notify("updating"),this._update(),this.hasRendered||(this.hasRendered=!0,this.__notify("rendered")),this.__notify("updated"))}},{key:"_update",value:function(){if(!this.opts.directUse)throw Ro.UnimplementedMethod("Update","_update")}},{key:"__bindCommonEvents",value:function(t){var e=this;return function(n){Do.forEach(function(r){return n.on(r,function(n,i,o){return e.__elemEvent(r,t+":"+r,n,i,o)})})}}},{key:"__notify",value:function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.__updateExt.apply(this,[t,this].concat(r)),(e=this.dispatch).call.apply(e,[t,this].concat(r))}},{key:"__elemEvent",value:function(t,e,n,r,i){
var o=i[r],a=To[t];a&&("add"===a.action?o.classList.add(a.css):"remove"===a.action&&o.classList.remove(a.css)),this.__notify(e,n,r,i)}},{key:"toString",value:function(){return this.constructor.name}}]),t}(),Wo={axes:["x","y"],xProp:"x",xScale:d3.scaleLinear,xAxisCustomize:null,xDomainCustomize:null,xRange:function(t,e){return[0,t]},xAxisConstructor:d3.axisBottom,xAxisTransform:function(t,e){return"translate(0,"+e+")"},xLabel:"",yProp:"y",yScale:d3.scaleLinear,yAxisCustomize:null,yDomainCustomize:null,yRange:function(t,e){return[e,0]},yAxisConstructor:d3.axisLeft,yAxisTransform:null,yLabel:""},Vo=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"__axisOpt",value:function(t,e){return this.opts[""+t+e]}},{key:"_initOptions",value:function(){for(var t,n=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(i,[Wo])),ae(this.opts.axes)?this.forEachAxisScale(function(t){var r=void 0;r="x"===t||"y"===t?e.prototype:n,r[t+"Get"]||(r[t+"Get"]=function(e){return this.scaleGet(t,e)})}):this.opts.axes=[]}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,["axisRendered"]))}},{key:"_initCore",value:function(){var t=this;Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.forEachAxisScale(function(e){var n=t.__axisOpt(e,"Range")(t.width,t.height),r=t.__axisOpt(e,"Scale")().range(n);t[e]=r,t[e+"Axis"]=t.__axisOpt(e,"AxisConstructor")(r)})}},{key:"_initCustomize",value:function(){var t=this;this.forEachAxisScale(function(e){var n=t.__axisOpt(e,"AxisCustomize");oe(n)?!function(){var r=t[e+"Axis"];n.forEach(function(t){return t(r)})}():re(n)&&n(t[e+"Axis"])})}},{key:"_initRender",value:function(){var t=this;this.forEachAxisScale(function(e){t.support.append("g").attr("class",e+"-axis axis")}),this.updateAxesTransforms(),Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initRender",this).call(this)}},{key:"_updateBounds",value:function(){var t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateBounds",this).call(this,!0,!0);this.updateAxesRanges(),this.updateAxesTransforms(),this.renderAxes(),t.notify(),t.update()}},{key:"_data",value:function(t){var n=this;this.forEachAxisScale(function(e){var r=n.opts[e+"DomainCustomize"],i=t?n._domainExtent(t,e):[];r&&(i=r(i)),n[e].domain(i)}),Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this).call(this,t),this.renderAxes()}},{key:"replaceScale",value:function(t,n){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceScale",this).call(this,t,n),this[t+"Axis"].scale(this[t]),this.renderAxes()}},{key:"updateAxesTransforms",value:function(){var t=this;this.forEachAxisScale(function(e){var n=t.support.select("."+e+"-axis"),r=t.__axisOpt(e,"AxisTransform");r&&n.attr("transform",r(t.width,t.height))})}},{key:"updateAxesRanges",value:function(){var t=this;this.forEachAxisScale(function(e){var n=t.__axisOpt(e,"Range")(t.width,t.height);t[e].range(n)})}},{key:"renderAxes",value:function(){var t=this;if(this.opts.suppressAxes!==!0){var e=oe(this.opts.suppressAxes);this.forEachAxisScale(function(n){e&&t.opts.suppressAxes.indexOf(n)>-1||t.support.select("."+n+"-axis").transition().duration(t.opts.transitionDuration).call(t[n+"Axis"]).call(t._setLabel.bind(t,n)).call(function(e){return t.__notify("axisRendered",e)})})}}},{key:"_domainExtent",value:function(t,e){throw Ro.UnimplementedMethod("Domain Extent","_domainExtent")}},{key:"forEachAxisScale",value:function(t){this.opts.axes.forEach(t)}},{key:"_setLabel",value:function(t,e){var n=this.opts[t+"Label"];n&&this.support.select("."+t+"-axis").append("text").attr("class","axis-label").text(n)}},{key:"scaleGet",value:function(t,e){var n=void 0;if(!re(this[t]))throw new Ro('Scale "'+t+'" is not defined.');return n=ie(e)?e[this.opts[t+"Prop"]]:e,this[t](n)}}]),e}(Mo),Io=Math.PI,Ho=Io/2,Go=2*Io,Uo=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_getLayerTranslate",value:function(){var t=void 0,e=void 0;return this.opts.origin?(t=this.optInvoke(this.opts.origin.left,this),e=this.optInvoke(this.opts.origin.top,this)):(t=this.width/2+this.margin.left,e=this.height/2+this.margin.top),"translate("+t+", "+e+")"}}],[{key:"getCoord",value:function(t,e){var n=e-Ho;return[Math.cos(n)*t,Math.sin(n)*t]}},{key:"degreesToRadians",value:function(t){return t*(Io/180)}},{key:"radiansToDegrees",value:function(t){return t*(180/Io)}}]),e}(Mo),No={chartCss:"monte-line-chart",margin:{top:10,right:10,bottom:30,left:40},valuesProp:"values",lineCustomize:null,lineStrokeScale:le,lineCssScale:le,lineCss:"line",includePoints:!0,pointFillScale:le,pointStrokeScale:le,pointCssScale:le,pointCss:"point",pointSize:64,pointSymbol:function(t){return t.type(d3.symbolCircle)}},$o=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[No]))}},{key:"_initCore",value:function(){var t=this;Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.line=d3.line().x(function(e){return t.xGet(e)}).y(function(e){return t.yGet(e)})}},{key:"_initCustomize",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCustomize",this).call(this),this.opts.lineCustomize&&this.opts.lineCustomize(this.line)}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,We(pe("line")),We(pe("point"))))}},{key:"_domainExtent",value:function(t,e){var n=this.opts.valuesProp,r=this.opts[e+"Prop"],i=t.map(function(t){return d3.extent(t[n],function(t){return t[r]})}),o=[d3.min(i,function(t){return t[0]}),d3.max(i,function(t){return t[1]})];return o}},{key:"_resetCssDomains",value:function(){return Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),he(this.opts.lineCssScale),he(this.opts.pointCssScale),this}},{key:"_update",value:function(){var t=this,e=this._updateLines();return this.opts.includePoints&&e.each(function(e,n,r){return t._updateLinePoints(r[n],e,n)}),e}},{key:"_updateLines",value:function(){var t=this,e=this.draw.selectAll(".monte-line-grp").data(this.displayData,function(t,e){return t.id||e});return e.enter().append("g").attr("class","monte-line-grp").append("path").call(this.__bindCommonEvents("line")).merge(e.select(".monte-line")).attr("class",function(e,n){return["monte-line",t.opts.lineCss,t.opts.lineCssScale(e.id||n),e.css].join(" ")}).transition().duration(this.opts.transitionDuration).attr("d",function(e){return t.line(e[t.opts.valuesProp])}).attr("stroke",this.opts.lineStrokeScale),e.exit().transition().duration(this.opts.transitionDuration).style("opacity",0).remove(),e.merge(e.enter().selectAll(".monte-line-grp"))}},{key:"_updateLinePoints",value:function(t,e,n){var r=this,i=d3.select(t),o=i.selectAll(".monte-point").data(function(t){return t[r.opts.valuesProp]}),a=function(t,e){var n=d3.symbol().size(r.opts.pointSize),i=r.opts.pointSymbol(n,t,e);return i(t,e)};o.enter().append("path").attr("d",a).call(this.__bindCommonEvents("point")).merge(o).attr("transform",function(t){return"translate("+r.xGet(t)+", "+r.yGet(t)+")"}).attr("class",function(t){return["monte-point",e.css,r.opts.lineCssScale(e.id||n),r.opts.pointCss,r.opts.pointCssScale(e.id||n),t.css].join(" ")}),o.transition().duration(this.opts.transitionDuration).attr("fill",this.opts.pointFillScale).attr("stroke",this.opts.pointStrokeScale).attr("transform",function(t){return"translate("+r.xGet(t)+", "+r.yGet(t)+")"}).attr("d",a),o.exit().transition().duration(this.opts.transitionDuration).style("opacity",0).remove()}}]),e}(Vo),Zo={chartCss:"monte-area-chart",margin:{top:10,right:10,bottom:30,left:40},areaCustomize:null,areaFillScale:le,areaCssScale:le,areaCss:"area",yDomainCustomize:fe},qo=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Zo]))}},{key:"_initCore",value:function(){var t=this;Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.area=d3.area().x(function(e){return t.xGet(e)}).y0(function(){return t.height}).y1(function(e){return t.yGet(e)})}},{key:"_initCustomize",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCustomize",this).call(this),this.opts.areaCustomize&&this.opts.areaCustomize(this.area)}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,We(pe("area"))))}},{key:"_resetCssDomains",value:function(){return Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),he(this.opts.areaCssScale),this}},{key:"_update",value:function(){var t=this,n=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_update",this).call(this);n.each(function(e,n,r){t._updateLineArea(r[n],e,n)})}},{key:"_updateLineArea",value:function(t,e,n){var r=this,i=d3.select(t),o=i.selectAll(".monte-area").data(function(t){return[t]}),a=o.enter().insert("path",":first-child").call(this.__bindCommonEvents("area")).merge(o).attr("class",function(t){return["monte-area",e.css,r.opts.lineCssScale(e.id||n),r.opts.areaCss,r.opts.areaCssScale(e.id||n),t.css].join(" ")});a.transition().duration(this.opts.transitionDuration).attr("d",function(t){return r.area(t[r.opts.valuesProp])}).attr("fill",this.opts.areaFillScale),o.exit().transition().duration(this.opts.transitionDuration).style("opacity",0).remove()}}]),e}($o),Xo={chartCss:"monte-bar-chart",margin:{top:0,right:0,bottom:30,left:40},barCssScale:le,barFillScale:le,barCss:"bar",xProp:"id",yProp:"value",xScale:function(){return d3.scaleBand().paddingInner(.1).round(!0)},yDomainCustomize:de},Yo=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Xo]))}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,We(pe("bar"))))}},{key:"_domainExtent",value:function(t,e){var n=this,r=null;return"y"===e?r=d3.extent(t,function(t){return t[n.opts.yProp]}):"x"===e&&(r=t.map(function(t){return t[n.opts.xProp]})),r}},{key:"_resetCssDomains",value:function(){return Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),he(this.opts.barCssScale),this}},{key:"_update",value:function(){this._updateBars()}},{key:"_updateBars",value:function(){var t=this,e=this.draw.selectAll(".monte-bar-grp").data(this.displayData,function(t,e){return t.id||e}),n=this._barX.bind(this),r=this._barY.bind(this),i=this._barWidth.bind(this),o=this._barHeight.bind(this);return e.enter().append("g").attr("class","monte-bar-grp").append("rect").attr("x",n).attr("y",r).attr("width",i).attr("height",o).call(this.__bindCommonEvents("bar")).merge(e.select("rect")).attr("class",function(e,n){return[t.opts.barCss,t.opts.barCssScale(e.id||n),e.css].join(" ")}).transition().duration(this.opts.transitionDuration).attr("fill",function(e,n){return t.opts.barFillScale(e.id||n)}),e.select("rect").transition().duration(this.opts.transitionDuration).attr("x",n).attr("y",r).attr("width",i).attr("height",o),e.exit().transition().duration(this.opts.transitionDuration).style("opacity",0).remove(),e.merge(e.enter().selectAll(".monte-bar-grp"))}},{key:"_barX",value:function(t){return this.xGet(t)}},{key:"_barWidth",value:function(){return this.x.bandwidth()}},{key:"_barY",value:function(t){return this.yGet(t)}},{key:"_barHeight",value:function(t){return this.height-this.yGet(t)}}]),e}(Vo),Jo={chartCss:"monte-hort-bar-chart",margin:{top:0,right:0,bottom:40,left:40},xProp:"value",yProp:"id",xScale:d3.scaleLinear,yScale:function(){return d3.scaleBand().paddingInner(.1).round(!0)},xDomainCustomize:de,yDomainCustomize:null},Ko=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Jo]))}},{key:"_domainExtent",value:function(t,e){var n=this,r=null;return"x"===e?r=d3.extent(t,function(t){return t[n.opts.xProp]}):"y"===e&&(r=t.map(function(t){return t[n.opts.yProp]})),r}},{key:"_barX",value:function(){return 0}},{key:"_barWidth",value:function(t){return this.xGet(t)}},{key:"_barY",value:function(t){return this.yGet(t)}},{key:"_barHeight",value:function(){return this.y.bandwidth()}}]),e}(Yo),Qo={chartCss:"monte-scatter-plot",margin:{top:10,right:10,bottom:30,left:40},pointSize:64,pointFillScale:le,pointStrokeScale:le,pointCssScale:le,pointCss:"monte-point",pointSymbol:function(t){return t.type(d3.symbolCircle)},pointEnterStart:le,pointEnterEnd:le,pointExitStart:le,pointExitEnd:le},ta=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Qo]))}},{key:"_initCore",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.symbol=d3.symbol()}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,We(pe("point"))))}},{key:"_domainExtent",value:function(t,e){var n=this.opts[e+"Prop"],r=d3.extent(t,function(t){return t[n]});return r}},{key:"_resetCssDomains",value:function(){return Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),he(this.opts.pointCssScale),this}},{key:"_update",value:function(){var t=this._updatePoints();return t}},{key:"_updatePoints",value:function(){var t=this,e=this.draw.selectAll(".monte-point").data(this.displayData);return e.enter().append("path").call(this.__bindCommonEvents("point")).merge(e).attr("d",function(e,n){var r=d3.symbol().size(t.opts.pointSize),i=t.opts.pointSymbol(r,e,n);return i(e,n)}).attr("fill",function(e,n){return t.opts.pointFillScale(e.id||n)}).attr("stroke",function(e,n){return t.opts.pointStrokeScale(e.id||n)}).attr("class",function(e,n){return t._buildCss(["monte-point",t.opts.pointCss,t.opts.pointCssScale,e.css],e,n)}).transition().duration(this.opts.transitionDuration).call(this.opts.pointEnterStart).attr("transform",function(e){return"translate("+t.xGet(e)+", "+t.yGet(e)+")"}).call(this.opts.pointEnterEnd),e.exit().transition().duration(this.opts.transitionDuration).call(this.opts.pointExitStart).style("opacity",0).call(this.opts.pointExitEnd).remove(),e.merge(e.enter().selectAll(".point"))}}]),e}(Vo),ea={chartCss:"monte-sparkline-chart",boundingWidth:80,boundingHeight:30,margin:{top:0,right:0,bottom:0,left:0},suppressAxes:!0,pointSize:24},na=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ea]))}},{key:"_data",value:function(t){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this)).call.apply(n,[this,[t]].concat(i))}}]),e}($o),ra={chartCss:"monte-arc-chart",cornerRadius:0,innerRadius:0,outerRadius:function(t,e){var n=t/2,r=e/2;return n<r?n:r},arcCustomize:null,arcCss:"arc",arcWedgeCss:"wedge",arcWedgeCssScale:le,arcWedgeFillScale:le,arcWedgeStrokeScale:le,arcWedgeEnter:function(t){return{startAngle:t.endAngle,endAngle:t.endAngle,value:t.value,padAngle:t.padAngle,index:t.index}},arcBgWedgeCssScale:le,arcBgWedgeFillScale:le,itemValueProp:"value",pieStartAngle:0,pieEndAngle:Go,piePadAngle:.02},ia=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ra]))}},{key:"_initCore",value:function(){var t=this;Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.arc=d3.arc().innerRadius(this.opts.innerRadius).cornerRadius(this.opts.cornerRadius),this.pie=d3.pie().value(function(e){return e[t.opts.itemValueProp]}).sortValues(null).startAngle(this.opts.pieStartAngle).endAngle(this.opts.pieEndAngle).padAngle(this.opts.piePadAngle)}},{key:"_initCustomize",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCustomize",this).call(this),this.opts.arcCustomize&&this.opts.arcCustomize(this.arc),this.opts.pieCustomize&&this.opts.pieCustomize(this.pie)}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,We(pe("wedge"))))}},{key:"_updateBounds",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateBounds",this).call(this),this.arc.outerRadius(this.optInvoke(this.opts.outerRadius,this.width,this.height))}},{key:"_data",value:function(t){this.pieDisplayData=this.pie(t),Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this).call(this,t)}},{key:"_update",value:function(){this._updateArcs(),this._updateBackground()}},{key:"_updateArcs",value:function(){var t=this,e=this.draw.selectAll(".monte-arc").data(this.pieDisplayData),n=this.arc;e.enter().append("g").attr("class","monte-arc "+this.opts.arcCss).append("path").attr("class",function(e,n){return t._buildCss(["monte-arc-wedge",t.opts.arcWedgeCss,t.opts.arcWedgeCssScale,e.data.css],e,n)}).call(this.__bindCommonEvents("wedge")).transition().delay(this.opts.transitionDuration).duration(this.opts.transitionDuration).attrTween("d",function(e){var r=t.optInvoke(t.opts.arcWedgeEnter,e);return ge(n,r,e)}).attr("fill",function(e,n){return t.opts.arcWedgeFillScale(e.id||n)}),e.selectAll(".monte-arc-wedge").each(function(){var t=d3.select(this.parentElement).datum(),e=d3.select(this),n=e.datum();t.prev=n,e.datum(t),delete n.prev}).attr("class",function(e,n){return["monte-arc-wedge",t.opts.arcWedgeCss,t.opts.arcWedgeCssScale(e.id||n),e.data.css].join(" ")}).transition().delay(this.opts.transitionDuration).duration(this.opts.transitionDuration).attrTween("d",function(t){return ge(n,t.prev,t)}).attr("fill",function(e,n){return t.opts.arcWedgeFillScale(e.id||n)}),e.exit().transition().duration(this.opts.transitionDuration).style("opacity",.01).remove()}},{key:"_updateBackground",value:function(){var t=this,e=this.displayData.reduce(function(t,e){return t+e.value},0),n=this.arc({index:0,startAngle:this.opts.pieStartAngle,endAngle:this.opts.pieEndAngle,value:e}),r=this.bg.selectAll(".monte-wedge-bg").data([n]);r.enter().append("path").merge(r).attr("d",function(t){return t}).attr("fill",function(){return t.opts.arcBgWedgeFillScale()}).attr("class",function(){return["monte-wedge-bg",t.opts.arcBgWedgeCssScale()].join(" ")})}}]),e}(Uo),oa={smallNeedleHeight:0,smallNeedleRatio:.05},aa={chartCss:"monte-arc-chart monte-gauge-chart",piePadAngle:0,pieStartAngle:Io*-.55,pieEndAngle:.55*Io,arcBgCssScale:le,arcBgFillScale:le,needleBase:20,needleHeight:function(t,e){return(t-e)/2+e},needlePath:be(),cornerRadius:0,outerRadius:180,innerRadius:160,labelRadius:140,segmentsProp:"segments",itemValueProp:"interval",segmentLabelProp:"label"},sa=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[aa]))}},{key:"_initCore",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.needleValueData=0,this.needleValueAngleData=0,this.bgArc=d3.arc().startAngle(this.opts.pieStartAngle).endAngle(this.opts.pieEndAngle).innerRadius(0).outerRadius(this.opts.outerRadius).cornerRadius(this.opts.cornerRadius),this.angleScale=d3.scaleLinear().range([this.opts.pieStartAngle,this.opts.pieEndAngle])}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,["updateNeedle","updateBackgroundArc","updateLabels"]))}},{key:"_getLayerTranslate",value:function(){var t=this.width/2+this.margin.left,e=this.height-(this.height-this.opts.outerRadius)+this.margin.top;return"translate("+t+", "+e+")"}},{key:"_data",value:function(t){var n=this;this.needleValue(t[this.opts.itemValueProp]),Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this).call(this,t[this.opts.segmentsProp]);var r=this.displayData.reduce(function(t,e){return t+e[n.opts.itemValueProp]},0);this.angleScale.domain([0,r])}},{key:"needleValue",value:function(t){return void 0===t?this.needleValueData:(this.needleValueData=t,this.needleValueAngleData=this.angleScale(t),this.update(),this)}},{key:"_update",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_update",this).call(this),this.hasRendered||this._updateBackgroundArc(),this._updateLabels(),this._updateNeedle()}},{key:"_updateBackgroundArc",value:function(){var t=this;this.bg.append("path").attr("fill",this.opts.arcBgFillScale).attr("class",function(e,n){return["monte-gauge-bg",t.opts.arcBgCssScale(e,n)].join(" ")}).attr("d",this.bgArc()),this.__notify("updateBackgroundArc")}},{key:"_updateLabels",value:function(){var t=this,n=this.support.selectAll(".monte-gauge-label").data(this.pieDisplayData);n.enter().append("text").attr("class","monte-gauge-label").attr("text-anchor","middle").attr("dy","0.35em").merge(n).attr("transform",function(n){return"translate("+e.getCoord(t.opts.labelRadius,n.endAngle)+")"}).text(function(e){return e.data[t.opts.segmentLabelProp]}),this.__notify("updateLabels")}},{key:"_updateNeedle",value:function(){var t=this.opts.needleBase,e=this.optInvoke(this.opts.needleHeight,this.opts.outerRadius,this.opts.innerRadius),n=this.optInvoke(this.opts.needlePath,e,t),r=this.overlay.selectAll(".monte-gauge-needle").data([this.needleValueAngleData||0]);r.enter().append("path").attr("class","monte-gauge-needle").attr("d",n).style("transform",function(t){return"rotate("+t+"rad)"}),r.transition().duration(this.opts.transitionDuration).style("transform",function(t){return"rotate("+t+"rad)"}),this.__notify("updateNeedle")}}]),e}(ia),ua={chartCss:"monte-arc-chart monte-segment-chart",piePadAngle:0,pieStartAngle:Ho,pieEndAngle:-Ho,arcBgCssScale:le,arcBgFillScale:le},ca=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ua]))}},{key:"_initCore",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.pie.sortValues(function(t,e){return e.value-t.value})}},{key:"_updateBounds",value:function(){var t=this;Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateBounds",this).call(this),this.layers.forEach(function(e){return e.attr("transform","translate("+(t.width/2+t.margin.left)+", "+(t.height-(t.height-t.opts.outerRadius)+t.margin.top)+")")})}},{key:"_update",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_update",this).call(this),this._updateBackgroundArc()}},{key:"_updateBackgroundArc",value:function(){var t=this,e=this.support.selectAll(".monte-segment-bg").data(this.pie([Fe({},this.opts.value,100)]));e.enter().append("path").merge(e).attr("d",function(e){return t.arc(e)}).attr("fill",function(e,n){return t.opts.arcBgFillScale(e.id||n)}).attr("class",function(e,n){return["monte-segment-bg",t.opts.arcBgCssScale(e.id||n)].join(" ")})}}]),e}(ia),pa={chartCss:"monte-arc-chart monte-wedge-chart",piePadAngle:0,arcWedgeEnter:function(t){return{startAngle:t.startAngle,endAngle:t.startAngle,value:t.value,padAngle:t.padAngle,index:t.index}}},la=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[pa]))}},{key:"_initCore",value:function(){Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.pie.sortValues(function(t,e){return t.value-e.value})}},{key:"_data",value:function(t){var n;this.wedgeValueData=t;for(var r=[{value:t,css:"monte-wedge"},{value:100-t,css:"monte-arc-placeholder"}],i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return(n=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this)).call.apply(n,[this,r].concat(o))}},{key:"wedgeValue",value:function(t){return void 0===t?this.wedgeValueData:(this.data(t),this)}}]),e}(ia),ha={layer:"bg",binding:["rendered","updatedBounds"],optionsTriggerUpdate:!1,eventPrefix:null},fa=function(){function t(e){Re(this,t),this._initOptions(e)}return Be(t,[{key:"_initOptions",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this.opts=ce.apply(void 0,e.concat([ha])),!this.opts.eventPrefix)throw Bo.RequiredOption("eventPrefix")}},{key:"setChart",value:function(t){this.chart=t,this.layer=t[this.opts.layer]}},{key:"option",value:function(t,e){return void 0===e?this.opts[t]:(this.opts[t]=e,this._shouldOptionUpdate(t)&&this.cachedChart&&this.update("optionChanged",this.cachedChart),this)}},{key:"_shouldOptionUpdate",value:function(){return this.opts.optionsTriggerUpdate}},{key:"emit",value:function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.chart).emit.apply(e,["extension",this.opts.eventPrefix+":"+t].concat(r))}},{key:"update",value:function(){var t=arguments.length<=0?void 0:arguments[0];this.layer||(this.layer=this.chart[this.opts.layer]),"destroy"===t?this._destroy():(this._update.apply(this,arguments),this.emit("updated"))}},{key:"_update",value:function(t,e){throw Ro.UnimplementedMethod("Update","_update")}},{key:"optInvoke",value:function(t){try{for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return re(t)?t.call.apply(t,[this].concat(n)):t}catch(t){return null}}},{key:"_buildCss",value:function(t,e,n){var r=this,i=[],o=Array.isArray(t)?t:[t];return o.forEach(function(t){i.push(r.optInvoke(t,e.id||n))}),i.join(" ")}},{key:"_destroy",value:function(){}},{key:"toString",value:function(){return this.constructor.name}}]),t}(),da="horizontal",ya="vertical",_a=.5,va={eventPrefix:"grid",scalePrefixes:["x","y"],prefixCssMap:{x:"v-line",y:"h-line"},lineCss:"monte-grid-line",binding:["axisRendered"],x1Adjust:0,x2Adjust:0,y1Adjust:0,y2Adjust:0},ga=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[va]))}},{key:"_update",value:function(t,e){var n=this,r=this.chart;r.forEachAxisScale(function(t){var i=n.getCss(t),o=r[t],a=r[t+"Axis"],s="x"===t[0]?ya:da;if(i&&o&&a){var u=a.tickValues(),c=a.tickArguments(),p=null==u?o.ticks?o.ticks.apply(o,c):o.domain():u,l=n.layer.selectAll("."+i).data(p).order();n._updateTicks(l,e,{axesChart:r,axis:a,axisTransition:e,css:i,orient:s,scale:o,scaleName:t,lineCss:n.option("lineCss")})}})}},{key:"_updateTicks",value:function(t,e,n){var r=[n.lineCss,n.css].join(" "),i=this.optInvoke(this.opts.x1Adjust),o=this.optInvoke(this.opts.x2Adjust),a=this.optInvoke(this.opts.y1Adjust),s=this.optInvoke(this.opts.y2Adjust);n.orient===da?(t.enter().append("line").attr("class",r).attr("x1",0+i).attr("y1",_a+a).attr("x2",n.axesChart.width+o).attr("y2",_a+s).attr("transform",function(t){return"translate(0,"+n.scale(t)+")"}),t.transition(e).attr("x2",function(){return n.axesChart.width+o}).attr("transform",function(t){return"translate(0,"+n.scale(t)+")"})):n.orient===ya&&(t.enter().append("line").attr("class",r).attr("x1",_a+i).attr("y1",0+a).attr("x2",_a+o).attr("y2",n.axesChart.height+s).attr("transform",function(t){return"translate("+n.scale(t)+", 0)"}),t.transition(e).attr("y2",function(){return n.axesChart.height+s}).attr("transform",function(t){return"translate("+n.scale(t)+", 0)"})),t.exit().remove()}},{key:"getCss",value:function(t){for(var e in this.opts.prefixCssMap)if(this.opts.prefixCssMap.hasOwnProperty(e)){var n=t.substr(0,e.length)===e;if(n)return this.opts.prefixCssMap[e]}return""}}]),e}(fa),ba=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_updateTicks",value:function(t,n,r){r.orient===da&&Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateTicks",this).call(this,t,n,r)}}]),e}(ga),ma=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_updateTicks",value:function(t,n,r){r.orient===ya&&Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateTicks",this).call(this,t,n,r)}}]),e}(ga),Oa={eventPrefix:"polargrid",startAngle:0,endAngle:Go,ringRadii:[100],ringCss:"monte-polar-ring",ringSpecificCss:null,ringSort:function(t,e){return e-t}},xa=function(t){function e(){
return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Oa]))}},{key:"_update",value:function(){var t=this.opts.ringRadii.sort(this.opts.ringSort),e=this.layer.selectAll("."+this.opts.ringCss).data(t);e.enter().append("circle").merge(e).attr("class",this.opts.ringCss).attr("r",function(t){return t})}}]),e}(fa),ka={startAngle:0,endAngle:Go,tickInterval:.25*Go,innerRadius:0,outerRadius:100,tickCss:"monte-polar-tick",includeEnd:!0},Aa=function(){function t(){Re(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.opts=ce.apply(void 0,n.concat([ka])),this.innerArc=d3.arc().innerRadius(this.opts.innerRadius).outerRadius(this.opts.innerRadius),this.outerArc=d3.arc().innerRadius(this.opts.outerRadius).outerRadius(this.opts.outerRadius)}return Be(t,[{key:"update",value:function(t){var e=this,n=[],r=Math.abs(this.opts.endAngle-this.opts.startAngle)/this.opts.tickInterval;this.opts.includeEnd&&!ke(this.opts.startAngle,this.opts.endAngle)&&r++;for(var i=0;i<r;i++){var o=this.opts.startAngle+i*this.opts.tickInterval;n.push({startAngle:o,endAngle:o,value:i})}var a=t.selectAll("."+this.opts.tickCss).data(n);a.enter().append("line").merge(a).attr("class",this.opts.tickCss).attr("x1",function(t){return e.innerArc.centroid(t)[0]}).attr("y1",function(t){return e.innerArc.centroid(t)[1]}).attr("x2",function(t){return e.outerArc.centroid(t)[0]}).attr("y2",function(t){return e.outerArc.centroid(t)[1]}),a.exit().remove()}}]),t}(),ja={eventPrefix:"polarticks",startAngle:0,endAngle:Go,tickInterval:1/8*Go,innerRadius:0,outerRadius:100,tickCss:"monte-polar-tick"},Pa=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ja]))}},{key:"_update",value:function(){this.polarTicksDraw||(this.polarTicksDraw=new Aa(this.opts)),this.polarTicksDraw.update(this.layer)}}]),e}(fa),Ca={eventPrefix:"frame",frameLineCss:"monte-frame-line",edges:["top","right","bottom","left"],alignmentShift:_a},Sa=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Ca]))}},{key:"_shouldOptionUpdate",value:function(t){return"edges"===t||"alignmentShift"===t}},{key:"clear",value:function(){var t=this.opts.frameLineCss,e=this.layer.selectAll("."+t);e.remove()}},{key:"_update",value:function(){var t=this.chart,e=this.opts.frameLineCss,n=this.layer.selectAll("."+e).data(this.opts.edges).order(),r=this.opts.alignmentShift,i={top:[[0+r,0+r],[t.width+r,0+r]],right:[[t.width+r,0+r],[t.width+r,t.height+r]],bottom:[[0+r,t.height+r],[t.width+r,t.height+r]],left:[[0+r,0+r],[0+r,t.height+r]]};n.enter().append("line").attr("class",e).attr("x1",function(t){return i[t][0][0]}).attr("y1",function(t){return i[t][0][1]}).attr("x2",function(t){return i[t][1][0]}).attr("y2",function(t){return i[t][1][1]}),n.transition().duration(t.option("transitionDuration")).attr("x1",function(t){return i[t][0][0]}).attr("y1",function(t){return i[t][0][1]}).attr("x2",function(t){return i[t][1][0]}).attr("y2",function(t){return i[t][1][1]}),n.exit().remove()}}]),e}(fa),wa={eventPrefix:"barbg",barBgCss:"monte-bar-bg",data:null,maxValue:null,maxValueProp:null,enlarge:.05},Ea=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[wa]))}},{key:"_update",value:function(){var t=this,e=this.chart,n=e.data()||[],r=void 0;r=this.opts.data?this.opts.data:this._buildData(e,n);var i=this.layer.selectAll("."+this.opts.barBgCss).data(r),o=this._sizeAdjust(e);i.enter().append("rect").merge(i).attr("class",this.opts.barBgCss).attr("x",function(){return e._barX.bind(e).apply(void 0,arguments)+t._xShift(o)}).attr("y",function(){return e._barY.bind(e).apply(void 0,arguments)+t._yShift(o)}).attr("width",function(n){var r=e._barWidth(n),i=t._widthAdjust(o),a=r+i;return a}).attr("height",function(){return e._barHeight.bind(e).apply(void 0,arguments)+t._heightAdjust(o)})}},{key:"_buildData",value:function(t,e){for(var n=new Array(e.length),r=t.y.domain(),i=0;i<n.length;i++){var o,a=this.opts.maxValue?e[i][this.opts.maxValue]:null;n[i]=(o={},Fe(o,t.option("xProp"),e[i][t.option("xProp")]),Fe(o,t.option("yProp"),a||this.opts.maxValue||r[1]),o)}return n}},{key:"_sizeAdjust",value:function(t){return t.x.bandwidth()*this.opts.enlarge}},{key:"_xShift",value:function(t){return-t}},{key:"_yShift",value:function(t){return 0}},{key:"_widthAdjust",value:function(t){return 2*t}},{key:"_heightAdjust",value:function(t){return 0}}]),e}(fa),za=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_buildData",value:function(t,e){for(var n=new Array(e.length),r=t.x.domain(),i=0;i<n.length;i++){var o,a=this.opts.maxValueProp?e[i][this.opts.maxValueProp]:null;n[i]=(o={},Fe(o,t.option("xProp"),a||this.opts.maxValue||r[1]),Fe(o,t.option("yProp"),e[i][t.option("yProp")]),o)}return n}},{key:"_sizeAdjust",value:function(t){return t.y.bandwidth()*this.opts.enlarge}},{key:"_xShift",value:function(t){return 0}},{key:"_yShift",value:function(t){return-t}},{key:"_widthAdjust",value:function(t){return 0}},{key:"_heightAdjust",value:function(t){return 2*t}}]),e}(Ea),Da={eventPrefix:"refline",css:"monte-ref-line-grp",data:le,layer:"overlay",labelPlacement:"nw",textAnchor:"start",textProp:"text",x1Prop:"x1",x2Prop:"x2",y1Prop:"y1",y2Prop:"y2"},Ra={nw:function(t,e){t.attr("dy","-0.35em").attr("x",e.x1).attr("y",e.y1)},n:function(t,e){t.attr("dy","-0.35em").attr("x",(e.x2-e.x1)/2+e.x1).attr("y",e.y2)},ne:function(t,e){t.attr("dy","-0.35em").attr("x",e.x2).attr("y",e.y2)},w:function(t,e){t.attr("dy","0.35em").attr("x",e.x1).attr("y",e.y1)},e:function(t,e){t.attr("dy","0.35em").attr("x",e.x2).attr("y",e.y2)},sw:function(t,e){t.attr("dy","1em").attr("x",e.x1).attr("y",e.y1)},s:function(t,e){t.attr("dy","1em").attr("x",(e.x2-e.x1)/2+e.x1).attr("y",e.y2)},se:function(t,e){t.attr("dy","1em").attr("x",e.x2).attr("y",e.y2)}},Ba=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Le(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Da]))}},{key:"_update",value:function(){var t=this,e=this.optInvoke(this.opts.data,this.chart.data());oe(e)||(e=[e]);var n=this.layer.selectAll("."+this.opts.css).data(e),r=n.enter().append("g").attr("class",this.opts.css);r.append("text"),r.append("line");var i=r.merge(n);i.select("line").attr("x1",function(e){return e[t.opts.x1Prop]}).attr("x2",function(e){return e[t.opts.x2Prop]}).attr("y1",function(e){return e[t.opts.y1Prop]}).attr("y2",function(e){return e[t.opts.y2Prop]}),i.select("text").attr("text-anchor",this.opts.textAnchor).text(function(e){return e[t.opts.textProp]}).each(this._placeLabel.bind(this)),n.exit().remove()}},{key:"_placeLabel",value:function(t,e,n){var r=d3.select(n[e]),i=Ra[this.opts.labelPlacement];i(r,t)}}]),e}(fa),Fa=Object.freeze({isArray:oe,isDefined:ae,isFunc:re,isNumeric:ne,isObject:ie,compose:Ae,mergeOptions:ce,noop:le,readTransforms:je,resetScaleDomain:he}),La=function(){function t(e){Re(this,t),this.opts=e||{}}return Be(t,[{key:"option",value:function(t,e){this.opts[t]=e}},{key:"resize",value:function(){throw Ro.UnimplementedMethod("Resize","resize")}}]),t}(),Ta=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"resize",value:function(t){var e=t.bound.node().parentElement,n=we(e);t.boundingRect(n.rect.width-n.pl-n.pr,t.opts.boundingHeight)}}]),e}(La),Ma=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"resize",value:function(t){var e=t.bound.node().parentElement,n=we(e),r=n.rect.width-n.pl-n.pr,i=this.opts.ratio||1;t.boundingRect(r,r/i)}}]),e}(La),Wa=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"resize",value:function(t){var e=t.bound.node().parentElement,n=we(e);t.boundingRect(n.rect.width-n.pl-n.pr,n.rect.height-n.pt-n.pb)}}]),e}(La),Va=function(t){function e(){return Re(this,e),Me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),Be(e,[{key:"resize",value:function(t){var e=t.bound.node().parentElement,n=we(e);t.boundingRect(t.opts.boundingHeight,n.rect.height-n.pt-n.pb)}}]),e}(La);t.tools=Fa,t.version=Ee,t.Chart=Mo,t.AxesChart=Vo,t.PolarChart=Uo,t.LineChart=$o,t.AreaChart=qo,t.BarChart=Yo,t.HorizontalBarChart=Ko,t.ScatterPlot=ta,t.SparklineChart=na,t.ArcChart=ia,t.GaugeChart=sa,t.SegmentChart=ca,t.WedgeChart=la,t.EventWatcher=zo,t.MonteError=Ro,t.MonteOptionError=Bo,t.Extension=fa,t.ExtGrid=ga,t.ExtHorizontalLines=ba,t.ExtVerticalLines=ma,t.ExtPolarGrid=xa,t.ExtPolarTicks=Pa,t.ExtFrame=Sa,t.ExtBarBg=Ea,t.ExtHorizontalBarBg=za,t.ExtReferenceLine=Ba,t.axisNoTicks=Pe,t.axisWholeNumberFormat=Ce,t.needleRoundedEnd=be,t.needleFlatEnd=me,t.needleExtraPointer=Oe,t.needleRect=xe,t.extentFromZero=fe,t.extentBalanced=de,t.extentGeneratorPercentOffset=ve,t.extentGeneratorValueOffset=_e,t.extentGeneratorZeroToMax=ye,t.AutoResizer=Wa,t.HorizontalResizer=Ta,t.HorizontalRatioResizer=Ma,t.Resizer=La,t.VerticalResizer=Va,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=monte.min.js.map
