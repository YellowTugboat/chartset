!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Monte=t.Monte||{})}(this,function(t){"use strict";function e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function n(t){var e=sn.call(t,ln),n=t[ln];try{t[ln]=void 0;var r=!0}catch(t){}var i=un.call(t);return r&&(e?t[ln]=n:delete t[ln]),i}function r(t){return pn.call(t)}function i(t){return null==t?void 0===t?dn:hn:(t=Object(t),fn&&fn in t?n(t):r(t))}function o(t){return null!=t&&"object"==("undefined"==typeof t?"undefined":me(t))}function a(t){return o(t)&&i(t)==yn}function s(t){return mn(t)||bn(t)||!!(kn&&t&&t[kn])}function u(t,n,r,i,o){var a=-1,l=t.length;for(r||(r=s),o||(o=[]);++a<l;){var c=t[a];n>0&&r(c)?n>1?u(c,n-1,r,i,o):e(o,c):i||(o[o.length]=c)}return o}function l(t){var e=null==t?0:t.length;return e?u(t,xn):[]}function c(t){var e="undefined"==typeof t?"undefined":me(t);return null!=t&&("object"==e||"function"==e)}function p(t){if(!c(t))return!1;var e=i(t);return e==An||e==Pn||e==On||e==Sn}function h(t){return!!En&&En in t}function d(t){if(null!=t){try{return jn.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function f(t){if(!c(t)||h(t))return!1;var e=p(t)?Bn:wn;return e.test(d(t))}function y(t,e){return null==t?void 0:t[e]}function _(t,e){var n=y(t,e);return f(n)?n:void 0}function v(){this.__data__=Mn?Mn(null):{},this.size=0}function g(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function b(t){var e=this.__data__;if(Mn){var n=e[t];return n===Fn?void 0:n}return Gn.call(e,t)?e[t]:void 0}function m(t){var e=this.__data__;return Mn?void 0!==e[t]:Vn.call(e,t)}function k(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mn&&void 0===e?Hn:e,this}function x(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function O(){this.__data__=[],this.size=0}function A(t,e){return t===e||t!==t&&e!==e}function P(t,e){for(var n=t.length;n--;)if(A(t[n][0],e))return n;return-1}function S(t){var e=this.__data__,n=P(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Yn.call(e,n,1),--this.size,!0}function C(t){var e=this.__data__,n=P(e,t);return n<0?void 0:e[n][1]}function E(t){return P(this.__data__,t)>-1}function I(t,e){var n=this.__data__,r=P(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function j(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function D(){this.size=0,this.__data__={hash:new x,map:new(Xn||j),string:new x}}function w(t){var e="undefined"==typeof t?"undefined":me(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function R(t,e){var n=t.__data__;return w(e)?n["string"==typeof e?"string":"hash"]:n.map}function T(t){var e=R(this,t).delete(t);return this.size-=e?1:0,e}function z(t){return R(this,t).get(t)}function L(t){return R(this,t).has(t)}function B(t,e){var n=R(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function M(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Kn);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(F.Cache||M),n}function N(t){var e=F(t,function(t){return n.size===$n&&n.clear(),t}),n=e.cache;return e}function G(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function U(t){return"symbol"==("undefined"==typeof t?"undefined":me(t))||o(t)&&i(t)==Zn}function V(t){if("string"==typeof t)return t;if(mn(t))return G(t,V)+"";if(U(t))return Qn?Qn.call(t):"";var e=t+"";return"0"==e&&1/t==-qn?"-0":e}function H(t){return null==t?"":V(t)}function W(t){return mn(t)?t:rr(t)}function Y(t,e){if(mn(t))return!1;var n="undefined"==typeof t?"undefined":me(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!U(t))||(or.test(t)||!ir.test(t)||null!=e&&t in Object(e))}function X(t){if("string"==typeof t||U(t))return t;var e=t+"";return"0"==e&&1/t==-ar?"-0":e}function K(t,e){e=Y(e,t)?[e]:W(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[X(e[n++])];return n&&n==r?t:void 0}function $(t,e,n){var r=null==t?void 0:K(t,e);return void 0===r?n:r}function Z(t,e,n){"__proto__"==e&&sr?sr(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function q(t,e,n){var r=t[e];lr.call(t,e)&&A(r,n)&&(void 0!==n||e in t)||Z(t,e,n)}function J(t,e){return e=null==e?cr:e,!!e&&("number"==typeof t||pr.test(t))&&t>-1&&t%1==0&&t<e}function Q(t,e,n,r){if(!c(t))return t;e=Y(e,t)?[e]:W(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=X(e[i]),l=n;if(i!=a){var p=s[u];l=r?r(p,u,s):void 0,void 0===l&&(l=c(p)?p:J(e[i+1])?[]:{})}q(s,u,l),s=s[u]}return t}function tt(t,e,n){return null==t?t:Q(t,e,n)}function et(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function nt(t){return t}function rt(t,e,n){return e=hr(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=hr(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),et(t,this,s)}}function it(t){return function(){return t}}function ot(t){var e=0,n=0;return function(){var r=_r(),i=yr-(r-n);if(n=r,i>0){if(++e>=fr)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function at(t,e){return vr(rt(t,e,nt),t+"")}function st(){this.__data__=new j,this.size=0}function ut(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function lt(t){return this.__data__.get(t)}function ct(t){return this.__data__.has(t)}function pt(t,e){var n=this.__data__;if(n instanceof j){var r=n.__data__;if(!Xn||r.length<gr-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new M(r)}return n.set(t,e),this.size=n.size,this}function ht(t){var e=this.__data__=new j(t);this.size=e.size}function dt(t,e,n){(void 0===n||A(t[e],n))&&(void 0!==n||e in t)||Z(t,e,n)}function ft(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function yt(t,e){if(e)return t.slice();var n=t.length,r=Ar?Ar(n):new t.constructor(n);return t.copy(r),r}function _t(t){var e=new t.constructor(t.byteLength);return new Pr(e).set(new Pr(t)),e}function vt(t,e){var n=e?_t(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function gt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function bt(t,e){return function(n){return t(e(n))}}function mt(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Ir;return t===n}function kt(t){return"function"!=typeof t.constructor||mt(t)?{}:Cr(Er(t))}function xt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=jr}function Ot(t){return null!=t&&xt(t.length)&&!p(t)}function At(t){return o(t)&&Ot(t)}function Pt(){return!1}function St(t){if(!o(t)||i(t)!=Br)return!1;var e=Er(t);if(null===e)return!0;var n=Gr.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Nr.call(n)==Ur}function Ct(t){return o(t)&&xt(t.length)&&!!di[i(t)]}function Et(t){return function(e){return t(e)}}function It(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Z(n,s,u):q(n,s,u)}return n}function jt(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Dt(t,e){var n=mn(t),r=!n&&bn(t),i=!n&&!r&&Lr(t),o=!n&&!r&&!i&&mi(t),a=n||r||i||o,s=a?jt(t.length,String):[],u=s.length;for(var l in t)!e&&!xi.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||J(l,u))||s.push(l);return s}function wt(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function Rt(t){if(!c(t))return wt(t);var e=mt(t),n=[];for(var r in t)("constructor"!=r||!e&&Ai.call(t,r))&&n.push(r);return n}function Tt(t){return Ot(t)?Dt(t,!0):Rt(t)}function zt(t){return It(t,Tt(t))}function Lt(t,e,n,r,i,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)return void dt(t,n,l);var h=o?o(s,u,n+"",t,e,a):void 0,d=void 0===h;if(d){var f=mn(u),y=!f&&Lr(u),_=!f&&!y&&mi(u);h=u,f||y||_?mn(s)?h=s:At(s)?h=gt(s):y?(d=!1,h=yt(u,!0)):_?(d=!1,h=vt(u,!0)):h=[]:St(u)||bn(u)?(h=s,bn(s)?h=zt(s):(!c(s)||r&&p(s))&&(h=kt(u))):d=!1}d&&(a.set(u,h),i(h,u,r,o,a),a.delete(u)),dt(t,n,h)}function Bt(t,e,n,r,i){t!==e&&br(e,function(o,a){if(c(o))i||(i=new ht),Lt(t,e,a,n,Bt,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):void 0;void 0===s&&(s=o),dt(t,a,s)}},Tt)}function Mt(t,e,n,r,i,o){return c(t)&&c(e)&&(o.set(e,t),Bt(t,e,void 0,Mt,o),o.delete(e)),t}function Ft(t,e,n){if(!c(n))return!1;var r="undefined"==typeof e?"undefined":me(e);return!!("number"==r?Ot(n)&&J(e,n.length):"string"==r&&e in n)&&A(n[e],t)}function Nt(t){return at(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Ft(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Gt(t){return"number"==typeof t&&isFinite(t)}function Ut(t){return"function"==typeof t}function Vt(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":me(t))}function Ht(t){return Array.isArray(t)}function Wt(t){return null!==t&&t!==Di}function Yt(t){return t instanceof wi?t.value:t}function Xt(t){var e=null;if(Array.isArray(t)){for(var n=-1,r=t.length-1;r>=0;r--){var i=t[r];if(i instanceof Ri){n=r;break}}e=n!==-1?t.slice(n):t;for(var o=0;o<e.length;o++)e[o]=Yt(e[o])}else e=Yt(t);return e}function Kt(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Ci.apply(void 0,[{}].concat(e));for(var i in r)r.hasOwnProperty(i)&&(r[i]=Xt(r[i]));return r}function $t(){}function Zt(){for(var t=[],e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i],a=!0,s=!1,u=void 0;try{for(var l,c=Xe[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;t.push(o+":"+p)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}return t}function qt(t){t&&t.domain&&t.domain([])}function Jt(t){return[0,t[1]]}function Qt(t){var e=t[0],n=t[1];if(e>=0)return[0,n];if(e<0&&n<0)return[e,0];var r=Math.abs(e),i=Math.abs(n),o=i>r?i:r;return[-o,o]}function te(t){return function(){return[0,t]}}function ee(t,e){return null==e&&(e=t),function(n){return[n[0]-t,n[1]+e]}}function ne(t){return function(e){var n=Math.abs(e[1]-e[0])*t;return[e[0]-n,e[1]+n]}}function re(t,e,n){var r=this.tryInvoke(this.opts.placement.columnIndex,t,e,n),i=this.tryInvoke(this.opts.placement.rowIndex,t,e,n),o=this.getScaledProp("x",r),a=this.getScaledProp("y",i);return"translate("+o+", "+a+")"}function ie(t,e,n){var r=this.tryInvoke(this.opts.placement.columnIndex,t,e,n),i=this.tryInvoke(this.opts.placement.rowIndex,t,e,n),o=this.getScaledProp("x",r),a=this.getScaledProp("y",i),s=this.opts.iconSvgWidth/2,u=this.opts.iconSvgHeight/2;return"translate("+(o-s)+", "+(a-u)+")"}function oe(t,e,n){var r=d3.interpolate(e,n);return function(e){return t(r(e))}}function ae(t,e){var n=t/2,r=e/2;return n<r?n:r}function se(){return function(t,e){var n=t,r=e/2,i="-"+r+" 0",o="0 -"+n,a=r+" 0",s=[r+" "+r,0,0,1,"-"+r+" 0"].join(","),u=["M",i,o,a,"A",s,"Z"].join(" ");return u}}function ue(){return function(t,e){var n=t,r=e/2,i="-"+r+" 0",o="0 -"+n,a=r+" 0",s=["M",i,o,a,"Z"].join(" ");return s}}function le(t){var e=Kt(t,Bo);return function(t,n){var r=t,i=e.smallNeedleHeight||t*e.smallNeedleRatio,o=n/2,a="-"+o+" 0",s="0 -"+r,u=o+" 0",l="0 "+i,c=["M",a,s,u,l,"Z"].join(" ");return c}}function ce(t){var e=Kt(t,Bo);return function(t,n){var r=t,i=e.smallNeedleHeight||t*e.smallNeedleRatio,o=n/2;return"M -"+o+" 0  -"+o+" -"+r+"  "+o+" -"+r+"  "+o+" 0 "+o+" "+i+" -"+o+" "+i+" Z"}}function pe(t,e){var n=(t-e)/oo;return Number.isInteger(n)}function he(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}function de(t){var e=/(.*?)\((.*?)\)\s*/g,n=e.exec(t),r={};if(n)for(var i=1;i<n.length;i+=2){var o=n[i],a=n[i+1].trim();(a.indexOf(" ")>-1||a.indexOf(",")>-1)&&(a=a.split(/,\s*|\s+/)),r[o]=a}return r}function fe(t){return t.tickSize(0),t}function ye(t){return t.tickFormat(d3.format(",.0f")),t}function _e(t,e){var n=parseFloat(t.getPropertyValue(e),10);return isNaN(n)?0:n}function ve(t){var e=window.getComputedStyle(t,null);return{rect:t.getBoundingClientRect(),style:e,pl:_e(e,"padding-left"),pr:_e(e,"padding-right"),pt:_e(e,"padding-top"),pb:_e(e,"padding-bottom")}}var ge,be="0.0.0-alpha18",me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},ke=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},xe=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Oe=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Ae=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Pe=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Se=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Ce=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Ee="click",Ie="touchstart",je="touchend",De="mouseover",we="mouseout",Re="suppressedError",Te="extension",ze="rendering",Le="rendered",Be="updating",Me="updated",Fe="updatingBounds",Ne="updatedBounds",Ge="clearing",Ue="cleared",Ve="cssDomainsReseting",He="cssDomainsReset",We="destroying",Ye="destroyed",Xe=[Ee,Ie,je,De,we],Ke=[Re,Te],$e=[ze,Le,Be,Me,Fe,Ne,Ge,Ue,Ve,He,We,Ye],Ze="add",qe="remove",Je="over",Qe="touch",tn=(ge={},Oe(ge,De,{action:Ze,css:Je}),Oe(ge,we,{action:qe,css:Je}),Oe(ge,Ie,{action:Ze,css:Qe}),Oe(ge,je,{action:qe,css:Qe}),ge),en="object"==("undefined"==typeof global?"undefined":me(global))&&global&&global.Object===Object&&global,nn="object"==("undefined"==typeof self?"undefined":me(self))&&self&&self.Object===Object&&self,rn=en||nn||Function("return this")(),on=rn.Symbol,an=Object.prototype,sn=an.hasOwnProperty,un=an.toString,ln=on?on.toStringTag:void 0,cn=Object.prototype,pn=cn.toString,hn="[object Null]",dn="[object Undefined]",fn=on?on.toStringTag:void 0,yn="[object Arguments]",_n=Object.prototype,vn=_n.hasOwnProperty,gn=_n.propertyIsEnumerable,bn=a(function(){return arguments}())?a:function(t){return o(t)&&vn.call(t,"callee")&&!gn.call(t,"callee")},mn=Array.isArray,kn=on?on.isConcatSpreadable:void 0,xn=1/0,On="[object AsyncFunction]",An="[object Function]",Pn="[object GeneratorFunction]",Sn="[object Proxy]",Cn=rn["__core-js_shared__"],En=function(){var t=/[^.]+$/.exec(Cn&&Cn.keys&&Cn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),In=Function.prototype,jn=In.toString,Dn=/[\\^$.*+?()[\]{}|]/g,wn=/^\[object .+?Constructor\]$/,Rn=Function.prototype,Tn=Object.prototype,zn=Rn.toString,Ln=Tn.hasOwnProperty,Bn=RegExp("^"+zn.call(Ln).replace(Dn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mn=_(Object,"create"),Fn="__lodash_hash_undefined__",Nn=Object.prototype,Gn=Nn.hasOwnProperty,Un=Object.prototype,Vn=Un.hasOwnProperty,Hn="__lodash_hash_undefined__";x.prototype.clear=v,x.prototype.delete=g,x.prototype.get=b,x.prototype.has=m,x.prototype.set=k;var Wn=Array.prototype,Yn=Wn.splice;j.prototype.clear=O,j.prototype.delete=S,j.prototype.get=C,j.prototype.has=E,j.prototype.set=I;var Xn=_(rn,"Map");M.prototype.clear=D,M.prototype.delete=T,M.prototype.get=z,M.prototype.has=L,M.prototype.set=B;var Kn="Expected a function";F.Cache=M;var $n=500,Zn="[object Symbol]",qn=1/0,Jn=on?on.prototype:void 0,Qn=Jn?Jn.toString:void 0,tr=/^\./,er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nr=/\\(\\)?/g,rr=N(function(t){t=H(t);var e=[];return tr.test(t)&&e.push(""),t.replace(er,function(t,n,r,i){e.push(r?i.replace(nr,"$1"):n||t)}),e}),ir=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,or=/^\w*$/,ar=1/0,sr=function(){try{var t=_(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ur=Object.prototype,lr=ur.hasOwnProperty,cr=9007199254740991,pr=/^(?:0|[1-9]\d*)$/,hr=Math.max,dr=sr?function(t,e){return sr(t,"toString",{configurable:!0,enumerable:!1,value:it(e),writable:!0})}:nt,fr=800,yr=16,_r=Date.now,vr=ot(dr),gr=200;ht.prototype.clear=st,ht.prototype.delete=ut,ht.prototype.get=lt,ht.prototype.has=ct,ht.prototype.set=pt;var br=ft(),mr="object"==("undefined"==typeof t?"undefined":me(t))&&t&&!t.nodeType&&t,kr=mr&&"object"==("undefined"==typeof module?"undefined":me(module))&&module&&!module.nodeType&&module,xr=kr&&kr.exports===mr,Or=xr?rn.Buffer:void 0,Ar=Or?Or.allocUnsafe:void 0,Pr=rn.Uint8Array,Sr=Object.create,Cr=function(){function t(){}return function(e){if(!c(e))return{};if(Sr)return Sr(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Er=bt(Object.getPrototypeOf,Object),Ir=Object.prototype,jr=9007199254740991,Dr="object"==("undefined"==typeof t?"undefined":me(t))&&t&&!t.nodeType&&t,wr=Dr&&"object"==("undefined"==typeof module?"undefined":me(module))&&module&&!module.nodeType&&module,Rr=wr&&wr.exports===Dr,Tr=Rr?rn.Buffer:void 0,zr=Tr?Tr.isBuffer:void 0,Lr=zr||Pt,Br="[object Object]",Mr=Function.prototype,Fr=Object.prototype,Nr=Mr.toString,Gr=Fr.hasOwnProperty,Ur=Nr.call(Object),Vr="[object Arguments]",Hr="[object Array]",Wr="[object Boolean]",Yr="[object Date]",Xr="[object Error]",Kr="[object Function]",$r="[object Map]",Zr="[object Number]",qr="[object Object]",Jr="[object RegExp]",Qr="[object Set]",ti="[object String]",ei="[object WeakMap]",ni="[object ArrayBuffer]",ri="[object DataView]",ii="[object Float32Array]",oi="[object Float64Array]",ai="[object Int8Array]",si="[object Int16Array]",ui="[object Int32Array]",li="[object Uint8Array]",ci="[object Uint8ClampedArray]",pi="[object Uint16Array]",hi="[object Uint32Array]",di={};di[ii]=di[oi]=di[ai]=di[si]=di[ui]=di[li]=di[ci]=di[pi]=di[hi]=!0,di[Vr]=di[Hr]=di[ni]=di[Wr]=di[ri]=di[Yr]=di[Xr]=di[Kr]=di[$r]=di[Zr]=di[qr]=di[Jr]=di[Qr]=di[ti]=di[ei]=!1;var fi="object"==("undefined"==typeof t?"undefined":me(t))&&t&&!t.nodeType&&t,yi=fi&&"object"==("undefined"==typeof module?"undefined":me(module))&&module&&!module.nodeType&&module,_i=yi&&yi.exports===fi,vi=_i&&en.process,gi=function(){try{return vi&&vi.binding("util")}catch(t){}}(),bi=gi&&gi.isTypedArray,mi=bi?Et(bi):Ct,ki=Object.prototype,xi=ki.hasOwnProperty,Oi=Object.prototype,Ai=Oi.hasOwnProperty,Pi=Nt(function(t,e,n,r){Bt(t,e,n,r)}),Si=at(function(t){return t.push(void 0,Mt),et(Pi,void 0,t)}),Ci=Si,Ei=tt,Ii=$,ji=l,Di=void 0,wi=function t(e){ke(this,t),this.value=e},Ri=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),e}(wi),Ti={FPS_30:33,FPS_20:50,FPS_15:66,FPS_10:100,FPS_05:200},zi={timeoutDelayMs:Ti.FPS_15,target:window,eventName:"resize",documentLoadRun:!0},Li=function(){function t(e){var n=this;if(ke(this,t),this.opts=Kt(e,zi),this.callbacks=[],this.running=!1,this.pendingFrame=null,this.pendingTimeout=null,this.listenerAttached=!1,this.documentReady=null,!this.opts.eventName)throw new t.EventWatcherException("An event name must be given!");this.opts.documentLoadRun&&!function(){var t=n,e=function e(){setTimeout(function(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t.documentReady=!0,t.runCallbacks()},0)};n.documentReady=!1,document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e)}()}return xe(t,[{key:"_fired",value:function(){if(!this.running){this.running=!0;var t=this._runCallbacks.bind(this);window.requestAnimationFrame?this.pendingFrame=window.requestAnimationFrame(t):this.pendingTimeout=setTimeout(t,this.opts.timeoutDelayMs)}}},{key:"_runCallbacks",value:function(){this.pendingFrame=this.pendingTimeout=null,this.runCallbacks(),this.running=!1}},{key:"runCallbacks",value:function(){this.callbacks.forEach(function(t){return t()})}},{key:"add",value:function(t){this.listenerAttached||(this.opts.target.addEventListener(this.opts.eventName,this._fired.bind(this)),this.listenerAttached=!0),t&&this.callbacks.push(t)}},{key:"remove",value:function(t){if(this.callbacks.length){var e=this.callbacks.indexOf(t);e>-1&&this.callbacks.splice(e,1)}return this}},{key:"destroy",value:function(){this.pendingFrame?window.cancelAnimationFrame(this.pendingFrame):this.pendingTimeout&&clearTimeout(this.pendingTimeout),this.listenerAttached&&this.opts.target.removeEventListener(this.opts.eventName,this._fired.bind(this))}},{key:"timeoutDelay",value:function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null===t?this.opts.timeoutDelayMs:(this.opts.timeoutDelayMs=t,this)}}]),t}(),Bi=function(t){function e(t){ke(this,e);var n=Se(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.name=n.constructor.name,n.message=t,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(n,n.constructor):n.stack=new Error(t).stack,n}return Pe(e,t),xe(e,null,[{key:"UnimplementedMethod",value:function(t,n){return new e(t+" (`"+n+"`) needs to be defined in order for the chart to be useful.")}}]),e}(Error),Mi=function(){function t(e,n){var r=this;ke(this,t),this._instances=[];for(var i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];this._methodsToProxy=n.concat(ji.apply(void 0,o)),this._methodsToProxy.forEach(function(t){return r.addProxyMethod(t)}),e.forEach(function(t){return r.addInstance(t)})}return xe(t,[{key:"addProxyMethod",value:function(t){this[t]=this.invokeProxyMethod.bind(this,t)}},{key:"removeProxyMethod",value:function(t){var e=this._methodsToProxy.indexOf(t);e>-1&&this._methodsToProxy.splice(e,1)}},{key:"addInstance",value:function(t){this._instances.push(t)}},{key:"removeChart",value:function(t){var e=this._instances.indexOf(t);e>-1&&this._instances.splice(e,1)}},{key:"invokeProxyMethod",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this._instances.forEach(function(e){if(!(e&&e[t]&&Ut(e[t])))throw new Bi("Cannot invoke "+t+" on "+e);e[t].apply(e,n)}),this}},{key:"getProxiedMethods",value:function(){return this._methodsToProxy}},{key:"destroy",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this._instances.forEach(function(t){t&&t.destroy&&Ut(t.destroy)&&t.destroy.apply(t,e)}),this._instances.length=0}}]),t}(),Fi=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,null,[{key:"RequiredOption",value:function(t){return new Bi('Option "'+t+'" is required.')}},{key:"InvalidEnumOption",value:function(t,e){return new Bi('Option "'+t+'" must be set to a valid option. The value "'+e+'" is not valid.')}}]),e}(Bi),Ni=.5,Gi=250,Ui="enter",Vi="update",Hi="exit",Wi={ENTER:Ui,UPDATE:Vi,EXIT:Hi},Yi=Object.freeze({AXIS_SHIFT:Ni,TRANSITION_DURATION_MS:Gi,ENTER:Ui,UPDATE:Vi,EXIT:Hi,UPDATE_PATTERN:Wi}),Xi=void 0,Ki=window?window.MonteGlobals={}:{},$i="drawPath",Zi={css:"",boundingWidth:800,boundingHeight:450,margin:{top:0,right:0,bottom:0,left:0},customEvents:[],extensions:[],transitionDuration:Gi,ease:d3.easeCubic,delay:0,resize:null,autoResetCssDomains:!0,directUse:!1},qi=function(){function t(e,n,r){ke(this,t),this._constructed=!1,this._optsSet=!1,this.parentSelector=e,this.hasRendered=!1,this.layers=[],this.extensions=[],this._optionReaderCache={},this._initOptions(n),this._initPublicEvents.apply(this,Ce(Xe).concat(Ce(Ke),Ce($e),Ce(this.opts.customEvents))),(this.opts.developerMode||Ki.developerMode)&&this._initDeveloperMode(),this._bindExt(this.opts.extensions),this._initCore(),this._initCustomize(),this._updateBounds(),this._initRender(),this._constructed=!0,this._resizeHandler&&Ki.resizeWatch.documentReady&&this._resizeHandler(),r&&this.data(r)}return xe(t,[{key:"_initOptions",value:function(){this.opts={};for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Kt.apply(void 0,e.concat([Zi]));for(var i in r)r.hasOwnProperty(i)&&this.option(i,r[i]);this._optsSet=!0}},{key:"_initCore",value:function(){var t=this,e=d3.select(this.parentSelector);"svg"===e.node().tagName.toLowerCase()?this.bound=e:this.bound=e.append("svg"),this.bound.attr("class",this._buildCss(["monte-chart",this.opts.css,this.opts.chartCss])),this.defs=this.bound.append("defs"),this.clip=this.defs.append("clipPath").attr("id",$i),this.clipRect=this.clip.append("rect"),this.addLayer("bg"),this.addLayer("support"),this.addLayer("draw"),this.addLayer("overlay");var n=this;if(Xe.forEach(function(e){t.bound.on(e,function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];n.__notify.apply(n,[e,this].concat(r))})}),this.opts.resize){Ki.resizeWatch||(Ki.resizeWatch=new Li);var r=this.opts.resize;this._resizeHandler=r.resize.bind(r,this),Ki.resizeWatch.add(this._resizeHandler)}}},{key:"_initPublicEvents",value:function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._events=n,this.dispatch=(t=d3).dispatch.apply(t,n)}},{key:"_initDeveloperMode",value:function(){var t=this,e=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o="(no arguments)";r&&r.length>0&&(o="\n",r.forEach(function(t,e){return o+="\t"+e+": "+t+"\n"})),console.log("["+t+'] "'+e+'": '+o)};this._events.forEach(function(n){return t.on(n,e.bind(t,n))})}},{key:"_initCustomize",value:function(){}},{key:"_initRender",value:function(){}},{key:"_updateBounds",value:function(){var t=this,e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.__notify("updatingBounds"),this.margin=this.opts.margin,this.width=this.opts.boundingWidth-this.margin.left-this.margin.right,this.height=this.opts.boundingHeight-this.margin.top-this.margin.bottom,this.layers.forEach(function(e){return e.attr("transform",t._getLayerTranslate())}),this.bound&&this.bound.attr("width",this.opts.boundingWidthAttr||this.opts.boundingWidth).attr("height",this.opts.boundingHeightAttr||this.opts.boundingHeight),this.clipRect&&this.clipRect.attr("width",this.width).attr("height",this.height);var r=function(){t._constructed&&t.__notify("updatedBounds")},i=function(){t.hasRendered&&t.update()};return e||r(),n||i(),{notify:r,update:i}}},{key:"checkSize",value:function(){return this._resizeHandler&&this._resizeHandler(),this}},{key:"destroy",value:function(){this.__notify("destroying"),this._resizeHandler&&Ki.resizeWatch.remove(this._resizeHandler),this._destroy(),this.bound.node()===d3.select(this.parentSelector).node()?this.bound.node().innerHTML="":this.bound.remove(),this.__notify("destroyed")}},{key:"_destroy",value:function(){}},{key:"addLayer",value:function(t){var e=this.bound.append("g").attr("class","monte-"+t);return this[t]=e,this.layers.push(e),this}},{key:"layerUseClipPath",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?$i:arguments[1];return this[t].attr("clip-path","url(#"+e+")"),this}},{key:"_getLayerTranslate",value:function(){return"translate("+this.margin.left+", "+this.margin.top+")"}},{key:"boundingRect",value:function(t,e){if(0===arguments.length)return[this.opts.boundingWidth,this.opts.boundingHeight];var n=this.option("margin.left")+this.option("margin.right");if(t<n&&(t=n),this.opts.boundingWidth=t,2===arguments.length){var r=this.option("margin.top")+this.option("margin.bottom");e<r&&(e=r),this.opts.boundingHeight=e}return this._updateBounds(),this.update(),this}},{key:"on",value:function(t,e){return e?(this.dispatch.on(t,e),this):this.dispatch.on(t)}},{key:"emit",value:function(t){if(t){if(!this.dispatch._[t]){var e="Unknown event "+t+". Double check the spelling or register the event. Custom events must registered at chart creation.";throw new Bi(e)}for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.__notify.apply(this,[t].concat(r)),this}}},{key:"option",value:function(t,e){var n=!1;return e===Xi?Ii(this.opts,t):(Ei(this.opts,t,e),"margin"===t?("object"!==("undefined"==typeof e?"undefined":me(e))&&(this.opts.margin={top:e,left:e,right:e,bottom:e}),n=!0):/^margin\./.test(t)&&(n=!0),this._optsSet&&n&&this._updateBounds(),this)}},{key:"optionReaderFunc",value:function(t){var e=this;return this._optionReaderCache[t]||(this._optionReaderCache[t]=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.tryInvoke.apply(e,[e.opts[t]].concat(r))}),this._optionReaderCache[t]}},{key:"tryInvoke",value:function(t){if(null===t)return null;if(t===Xi)throw new Fi("Value not initialized.");try{for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ut(t)?t.call.apply(t,[this].concat(n)):t}catch(t){return this.__notify("suppressedError",t),null}}},{key:"getProp",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=t+"Prop",i=this.opts[r];return i?e[i]:n}},{key:"getScaledProp",value:function(t,e,n){var r=void 0,i=void 0,o=void 0;if(2===arguments.length)i=t,o=e;else{if(3!==arguments.length)throw new Bi("Incorrect number of arguments. Expected 2 or 3 recieved "+arguments.length);i=e,o=n}var a=Ii(this,t);if(!a)throw new Bi('Scale "'+t+'" is not defined.');return a===$t?Xi:Ut(a)?(r=Vt(o)?o[this.opts[i+"Prop"]]:o,a(r)):a}},{key:"clear",value:function(){return this.__notify("clearing"),this.displayData=null,this._clearDataElements(),this.opts.autoResetCssDomains&&this.resetCssDomains(),this.__notify("cleared"),this}},{key:"_clearDataElements",value:function(){}},{key:"resetCssDomains",value:function(){return this.__notify("cssDomainsReseting"),this._resetCssDomains(),this.__notify("cssDomainsReset"),this}},{key:"_resetCssDomains",value:function(){}},{key:"_buildCss",value:function(t,e,n,r){var i=this,o=[],a=Array.isArray(t)?t:[t];return a.forEach(function(t){Wt(t)&&o.push(i.tryInvoke(t,e,n,r))}),o.join(" ")}},{key:"classed",value:function(){var t;return(t=this.bound).classed.apply(t,arguments),this}},{key:"call",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.call.apply(t,[this].concat(n)),this}},{key:"updateData",value:function(t){return this.data(t,!0),this}},{key:"data",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return t===Xi?this.displayData:(e||this.clear(),this._data(t),n||this.update(),this)}},{key:"_data",value:function(t){this.displayData=t}},{key:"addExt",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._bindExt(e),this}},{key:"_bindExt",value:function(t){var e=this;t.forEach(function(t){t.opts.binding?(t.setChart(e),e.extensions.push(t)):e.__notify("suppressedError","Extensions must have the `binding` option specified.")})}},{key:"__updateExt",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];
this.extensions.forEach(function(e){e.opts.binding.indexOf(t)>-1&&e.update.apply(e,[t].concat(n))})}},{key:"replaceScale",value:function(t,e){var n=e();return n.range(this[t].range()).domain(this[t].domain()),this[t]=n,this.update(),this}},{key:"update",value:function(){if(this.data())return this.hasRendered||(this.__notify("rendering"),this._render()),this.__notify("updating"),this._update(),this.hasRendered||(this.hasRendered=!0,this.__notify("rendered")),this.__notify("updated"),this}},{key:"_render",value:function(){}},{key:"_update",value:function(){if(!this.opts.directUse)throw Bi.UnimplementedMethod("Update","_update")}},{key:"__bindCommonEvents",value:function(t){var e=this;return function(n){Xe.forEach(function(r){return n.on(r,function(n,i,o){return e.__elemEvent(r,t+":"+r,n,i,o)})})}}},{key:"__notify",value:function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.__updateExt.apply(this,[t].concat(r)),(e=this.dispatch).call.apply(e,[t,this].concat(r))}},{key:"__elemEvent",value:function(t,e,n,r,i){var o=i[r],a=tn[t];a&&("add"===a.action?o.classList.add(a.css):"remove"===a.action&&o.classList.remove(a.css)),this.__notify(e,n,r,i)}},{key:"toString",value:function(){return this.constructor.name}}],[{key:"createInstanceGroup",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Mi(t,Ji,n)}}]),t}(),Ji=["addExt","addLayer","boundingRect","call","checkSize","classed","clear","data","emit","layerUseClipPath","on","option","replaceScale","resetCssDomains","update","updateData"],Qi={axes:["x","y"],suppressAxes:!1,xProp:"x",xScale:d3.scaleLinear,xAxisCustomize:null,xDomainCustomize:null,xRange:function(t,e){return[0,t]},xAxisConstructor:d3.axisBottom,xAxisTransform:function(t,e){return"translate(0,"+e+")"},xLabel:null,xLabelCustomize:$t,yProp:"y",yScale:d3.scaleLinear,yAxisCustomize:null,yDomainCustomize:null,yRange:function(t,e){return[e,0]},yAxisConstructor:d3.axisLeft,yAxisTransform:null,yLabel:null,yLabelCustomize:$t},to=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"__axisOpt",value:function(t,e){return this.opts[""+t+e]}},{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Qi])),Wt(this.opts.axes)||(this.opts.axes=[]),this.axes=this.tryInvoke(this.opts.axes)}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,["axisRendered"]))}},{key:"_initCore",value:function(){var t=this;Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.forEachAxisScale(function(e){var n=t.__axisOpt(e,"Range")(t.width,t.height),r=t.__axisOpt(e,"Scale")().range(n);t[e]=r,t[e+"Axis"]=t.__axisOpt(e,"AxisConstructor")(r)})}},{key:"_initCustomize",value:function(){var t=this;this.forEachAxisScale(function(e){var n=t.__axisOpt(e,"AxisCustomize");Ht(n)?!function(){var r=t[e+"Axis"];n.forEach(function(t){return t(r)})}():Ut(n)&&n(t[e+"Axis"])})}},{key:"_initRender",value:function(){var t=this;this.forEachAxisScale(function(e){t.support.append("g").attr("class",e+"-axis axis")}),this.updateAxesTransforms(),Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initRender",this).call(this)}},{key:"_updateBounds",value:function(){var t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateBounds",this).call(this,!0,!0);this.updateAxesRanges(),this.updateAxesTransforms(),this.renderAxes(),t.notify(),t.update()}},{key:"_data",value:function(t){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this).call(this,t),this.updateAxesDomains(),this.renderAxes()}},{key:"replaceScale",value:function(t,n){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceScale",this).call(this,t,n),this[t+"Axis"].scale(this[t]),this.renderAxes()}},{key:"updateAxesTransforms",value:function(){var t=this;this.forEachAxisScale(function(e){var n=t.support.select("."+e+"-axis"),r=t.__axisOpt(e,"AxisTransform");r&&n.attr("transform",r(t.width,t.height))})}},{key:"updateAxesRanges",value:function(){var t=this;this.forEachAxisScale(function(e){var n=t.__axisOpt(e,"Range")(t.width,t.height);t[e].range(n)})}},{key:"updateAxesDomains",value:function(){var t=this,e=this.data();this.forEachAxisScale(function(n){var r=t.opts[n+"DomainCustomize"],i=e?t._domainExtent(e,n):[];r&&(i=t.tryInvoke(r,i)),t[n].domain(i)})}},{key:"renderAxes",value:function(){var t=this,e=this.tryInvoke(this.opts.suppressAxes);if(e!==!0){var n=Ht(e);this.forEachAxisScale(function(r){n&&e.indexOf(r)>-1||t.support.select("."+r+"-axis").transition().duration(t.opts.transitionDuration).ease(t.opts.ease).call(t[r+"Axis"]).call(t._setLabel.bind(t,r)).call(function(e){return t.emit("axisRendered",e)})})}}},{key:"_domainExtent",value:function(t,e){throw Bi.UnimplementedMethod("Domain Extent","_domainExtent")}},{key:"forEachAxisScale",value:function(t){this.axes.forEach(t)}},{key:"_setLabel",value:function(t,e){var n=this,r=this.tryInvoke(this.opts[t+"Label"]),i=null===r?[]:[r],o=this.support.select("."+t+"-axis").selectAll(".monte-axis-label").data(i);o.enter().append("text").merge(o).attr("class","monte-axis-label").text(function(t){return t}).call(function(){return n.tryInvoke(n.opts[t+"LabelCustomize"],o)}),o.exit().remove()}}],[{key:"createInstanceGroup",value:function(t){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.push(eo),(n=Ae(e.__proto__||Object.getPrototypeOf(e),"createInstanceGroup",this)).call.apply(n,[this,t].concat(i))}}]),e}(qi),eo=["forEachAxisScale","renderAxes","replaceScale","updateAxesDomains","updateAxesRanges","updateAxesTransforms"],no=1e-12,ro=Math.PI,io=ro/2,oo=2*ro,ao=Object.freeze({EPSILON:no,PI:ro,HALF_PI:io,TAU:oo}),so=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_getLayerTranslate",value:function(){var t=void 0,e=void 0;return this.opts.origin?(t=this.tryInvoke(this.opts.origin.left,this),e=this.tryInvoke(this.opts.origin.top,this)):(t=this.width/2+this.margin.left,e=this.height/2+this.margin.top),"translate("+t+", "+e+")"}}],[{key:"getCoord",value:function(t,e){var n=e-io;return[Math.cos(n)*t,Math.sin(n)*t]}},{key:"degreesToRadians",value:function(t){return t*(ro/180)}},{key:"radiansToDegrees",value:function(t){return t*(180/ro)}}]),e}(qi),uo={chartCss:"monte-line-chart",margin:{top:10,right:10,bottom:30,left:40},valuesProp:"values",lineCustomize:null,lineStrokeScale:$t,lineCssScale:$t,lineCss:"line",includePoints:!0,pointFillScale:$t,pointStrokeScale:$t,pointCssScale:$t,pointCss:"point",pointSize:64,pointSymbol:function(t){return t.type(d3.symbolCircle)}},lo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[uo]))}},{key:"_initCore",value:function(){var t=this;Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.line=d3.line().x(function(e){return t.getScaledProp("x",e)}).y(function(e){return t.getScaledProp("y",e)})}},{key:"_initCustomize",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCustomize",this).call(this),this.opts.lineCustomize&&this.opts.lineCustomize(this.line)}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,Ce(Zt("line")),Ce(Zt("point"))))}},{key:"_domainExtent",value:function(t,e){var n=this.opts.valuesProp,r=this.opts[e+"Prop"],i=t.map(function(t){return d3.extent(t[n],function(t){return t[r]})}),o=[d3.min(i,function(t){return t[0]}),d3.max(i,function(t){return t[1]})];return o}},{key:"_resetCssDomains",value:function(){return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),qt(this.opts.lineCssScale),qt(this.opts.pointCssScale),this}},{key:"_update",value:function(){var t=this,e=this._updateLines();return this.opts.includePoints&&e.each(function(e,n,r){return t._updateLinePoints(r[n],e,n)}),e}},{key:"_updateLines",value:function(){var t=this,e=this.draw.selectAll(".monte-line-grp").data(this.displayData,function(t,e){return t.id||e});return e.enter().append("g").attr("class","monte-line-grp").append("path").call(this.__bindCommonEvents("line")).merge(e.select(".monte-line")).attr("class",function(e,n){return t._buildCss(["monte-line",t.opts.lineCss,t.opts.lineCssScale,e.css],e,n)}).transition().duration(this.opts.transitionDuration).ease(this.opts.ease).attr("d",function(e){return t.line(e[t.opts.valuesProp])}).attr("stroke",this.opts.lineStrokeScale),e.exit().transition().duration(this.opts.transitionDuration).style("opacity",0).remove(),e.merge(e.enter().selectAll(".monte-line-grp"))}},{key:"_updateLinePoints",value:function(t,e,n){var r=this,i=d3.select(t),o=i.selectAll(".monte-point").data(function(t){return t[r.opts.valuesProp]}),a=function(t,e){var n=r.tryInvoke(r.opts.pointSize,t,e),i=d3.symbol().size(n),o=r.opts.pointSymbol(i,t,e);return o(t,e)};o.enter().append("path").attr("d",a).call(this.__bindCommonEvents("point")).merge(o).attr("transform",function(t){return"translate("+r.getScaledProp("x",t)+", "+r.getScaledProp("y",t)+")"}).attr("class",function(t){return r._buildCss(["monte-point",e.css,r.opts.lineCssScale,r.opts.pointCss,r.opts.pointCssScale,t.css],e.id,n)}),o.transition().duration(this.opts.transitionDuration).ease(this.opts.ease).attr("fill",this.opts.pointFillScale).attr("stroke",this.opts.pointStrokeScale).attr("transform",function(t){return"translate("+r.getScaledProp("x",t)+", "+r.getScaledProp("y",t)+")"}).attr("d",a),o.exit().transition().duration(this.opts.transitionDuration).ease(this.opts.ease).style("opacity",0).remove()}}]),e}(to),co={chartCss:"monte-area-chart",margin:{top:10,right:10,bottom:30,left:40},areaCustomize:null,areaFillScale:$t,areaCssScale:$t,areaCss:"area",yDomainCustomize:Jt},po=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[co]))}},{key:"_initCore",value:function(){var t=this;Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.area=d3.area().x(function(e){return t.getScaledProp("x",e)}).y0(function(){return t.height}).y1(function(e){return t.getScaledProp("y",e)})}},{key:"_initCustomize",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCustomize",this).call(this),this.opts.areaCustomize&&this.tryInvoke(this.opts.areaCustomize,this.area)}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,Ce(Zt("area"))))}},{key:"_resetCssDomains",value:function(){return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),qt(this.opts.areaCssScale),this}},{key:"_update",value:function(){var t=this,n=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_update",this).call(this);n.each(function(e,n,r){t._updateLineArea(r[n],e,n)})}},{key:"_updateLineArea",value:function(t,e,n){var r=this,i=d3.select(t),o=i.selectAll(".monte-area").data(function(t){return[t]}),a=o.enter().insert("path",":first-child").call(this.__bindCommonEvents("area")).merge(o).attr("class",function(t){return r._buildCss(["monte-area",e.css,r.opts.lineCssScale,r.opts.areaCss,r.opts.areaCssScale,t.css],e,n)});a.transition().duration(this.tryInvoke(this.opts.transitionDuration,Vi)).ease(this.opts.ease).attr("d",function(t){return r.area(r.getProp("values",t))}).attr("fill",this.optionReaderFunc("areaFillScale")),o.exit().transition(this.tryInvoke(this.opts.transitionDuration,Hi)).duration(this.opts.transitionDuration).ease(this.opts.ease).style("opacity",0).remove()}}]),e}(lo),ho={chartCss:"monte-sparkline-chart",boundingWidth:80,boundingHeight:30,margin:{top:0,right:0,bottom:0,left:0},suppressAxes:!0,pointSize:24},fo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ho]))}},{key:"_data",value:function(t){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this)).call.apply(n,[this,[t]].concat(i))}}]),e}(lo),yo={chartCss:"monte-bar-chart",margin:{top:0,right:0,bottom:30,left:40},barCssScale:$t,barFillScale:$t,barFillScaleAccessor:function(t){return this.getScaledProp("opts.barFillScale","x",t)},barCss:"bar",xProp:"id",yProp:"value",xScale:function(){return d3.scaleBand().paddingInner(.1).round(!0)},yDomainCustomize:Qt,includeLabels:!1,labelProp:"value",labelFillScale:$t,label:function(t){return this.getProp("label",t)},labelXAdjust:"",labelX:function(t){return this._barX(t)+this.x.bandwidth()/2},labelYAdjust:"-0.05em",labelY:function(t){return this._barY(t)}},_o=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[yo]))}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,Ce(Zt("bar"))))}},{key:"_domainExtent",value:function(t,e){var n=this,r=null;return"y"===e?r=d3.extent(t,function(t){return n.getProp("y",t)}):"x"===e&&(r=t.map(function(t){return n.getProp("x",t)})),r}},{key:"_resetCssDomains",value:function(){return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),qt(this.opts.barCssScale),this}},{key:"_update",value:function(){var t=this,e=this._updateBars();this.opts.includeLabels&&e.each(function(e,n,r){var i=d3.select(r[n]);t._updateBarLabel(i,e,n,r)})}},{key:"_updateBars",value:function(){var t=this,e=this.draw.selectAll(".monte-bar-grp").data(this.displayData,function(t,e){return t.id||e}),n=this._barX.bind(this),r=this._barY.bind(this),i=this._barWidth.bind(this),o=this._barHeight.bind(this);return e.enter().append("g").attr("class","monte-bar-grp").append("rect").attr("x",n).attr("y",r).attr("width",i).attr("height",o).call(this.__bindCommonEvents("bar")).merge(e.select("rect")).attr("class",function(e,n){return t._buildCss([t.opts.barCss,t.opts.barCssScale,e.css],e,n)}).transition().duration(this.opts.transitionDuration).ease(this.opts.ease).attr("fill",function(e,n,r){return t.tryInvoke(t.opts.barFillScaleAccessor,e,n,r)}),e.select("rect").transition().duration(this.opts.transitionDuration).ease(this.opts.ease).attr("x",n).attr("y",r).attr("width",i).attr("height",o),e.exit().transition().duration(this.opts.transitionDuration).ease(this.opts.ease).style("opacity",0).remove(),e.merge(e.enter().selectAll(".monte-bar-grp"))}},{key:"_updateBarLabel",value:function(t,e,n,r){var i=this,o=t.selectAll(".monte-bar-label").data([e]);o.enter().append("text").attr("class","monte-bar-label").merge(o).attr("fill",function(t){return i.tryInvoke(i.opts.labelFillScale,t,n,r)}).attr("x",function(t){return i.tryInvoke(i.opts.labelX,t,n,r)}).attr("dx",function(t){return i.tryInvoke(i.opts.labelXAdjust,t,n,r)}).attr("y",function(t){return i.tryInvoke(i.opts.labelY,t,n,r)}).attr("dy",function(t){return i.tryInvoke(i.opts.labelYAdjust,t,n,r)}).text(function(t){return i.tryInvoke(i.opts.label,t,n,r)}),o.exit().remove()}},{key:"_barX",value:function(t){return this.getScaledProp("x",t)}},{key:"_barWidth",value:function(){return this.x.bandwidth()}},{key:"_barY",value:function(t){return this.getScaledProp("y",t)}},{key:"_barHeight",value:function(t){return this.height-this.getScaledProp("y",t)}}]),e}(to),vo={chartCss:"monte-horizontal-bar-chart",margin:{top:0,right:0,bottom:40,left:40},xProp:"value",yProp:"id",xScale:d3.scaleLinear,yScale:function(){return d3.scaleBand().paddingInner(.1).round(!0)},xDomainCustomize:Qt,yDomainCustomize:null,labelX:function(t){return this._barWidth(t)},labelXAdjust:"",labelY:function(t){return this._barY(t)+this.y.bandwidth()/2},labelYAdjust:"0.5em"},go=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[vo]))}},{key:"_domainExtent",value:function(t,e){var n=this,r=null;return"x"===e?r=d3.extent(t,function(t){return t[n.opts.xProp]}):"y"===e&&(r=t.map(function(t){return t[n.opts.yProp]})),r}},{key:"_barX",value:function(){return 0}},{key:"_barWidth",value:function(t){return this.getScaledProp("x",t)}},{key:"_barY",value:function(t){return this.getScaledProp("y",t)}},{key:"_barHeight",value:function(){return this.y.bandwidth()}}]),e}(_o),bo={chartCss:"monte-simple-bar-chart",boundingWidth:10,boundingHeight:100,margin:{top:0,right:0,bottom:0,left:0},suppressAxes:!0,xScale:function(){return d3.scaleBand().paddingInner(0).round(!0)},yDomainCustomize:[0,100]},mo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[bo]))}},{key:"_data",value:function(t){var n,r=this.tryInvoke(this.opts.yProp),i=Vt(t)?t:Oe({},r,t);i.css||(i.css="monte-simple-bar-value");for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(n=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this)).call.apply(n,[this,[i]].concat(a))}}]),e}(_o),ko={chartCss:"monte-simple-horizontal-bar-chart",boundingWidth:100,boundingHeight:10,margin:{top:0,right:0,bottom:0,left:0},suppressAxes:!0,xDomainCustomize:[0,100],yScale:function(){return d3.scaleBand().paddingInner(0).round(!0)}},xo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ko]))}},{key:"_data",value:function(t){var n,r=this.tryInvoke(this.opts.xProp),i=Vt(t)?t:Oe({},r,t);i.css||(i.css="monte-simple-hort-bar-value");for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(n=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this)).call.apply(n,[this,[i]].concat(a))}}]),e}(go),Oo={GROUPED:"grouped",STACKED:"stacked"},Ao={chartCss:"monte-segment-bar-chart",barSegmentCss:"bar-segment",margin:{top:10,right:0,bottom:30,left:40},segmentBarMode:Oo.STACKED,xProp:"id",yProp:"values",xInnerProp:"type",yInnerProp:"value",xInnerScale:function(){return d3.scaleBand().paddingInner(.1).paddingOuter(.1).round(!0)},barSegCssScale:$t,barSegFillScale:$t,barFillScaleAccessor:function(t){return this.getScaledProp("opts.barFillScale","x",t)},xScale:function(){return d3.scaleBand().paddingInner(.1).round(!0)},yDomainCustomize:Qt,includeLabels:!1,labelProp:"value",labelFillScale:$t,label:function(t){return this.getProp("label",t)},labelXAdjust:"",labelX:function(t){var e=this.option("segmentBarMode");return e===Oo.STACKED?this.x.bandwidth()/2:e===Oo.GROUPED?this._barXInnerGrouped(t)+this.xInner.bandwidth()/2:void 0},labelYAdjust:"1.05em",labelY:function(t,e,n){var r=this.option("segmentBarMode");return r===Oo.STACKED?this._barYInnerStacked(t,e,n):r===Oo.GROUPED?this._barYInnerGrouped(t):void 0}},Po=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Ao]))}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,Ce(Zt("bargrp")),Ce(Zt("barseg"))))}},{key:"_initCore",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this._initInnerScales()}},{key:"_initInnerScales",value:function(){this.xInner=this.opts.xInnerScale()}},{key:"_extentInner",value:function(t,e){var n=this,r=[];return t.forEach(function(t){n.getProp(e,t).forEach(function(t){return r.push(n.getProp(e+"Inner",t))})}),d3.extent(r)}},{key:"_extentMaxes",value:function(t,e){var n=this,r=t.map(function(t){return d3.sum(n.getProp(e,t),function(t){return n.getProp(e+"Inner",t)})});return[0,d3.max(r)]}},{key:"_domainExtent",value:function(t,e){var n=this,r=null;if("x"===e)r=t.map(function(t){return n.getProp("x",t)});else if("y"===e){var i=this.tryInvoke(this.opts.segmentBarMode);if(i===Oo.GROUPED)r=this._extentInner(t,"y");else{if(i!==Oo.STACKED)throw Fi.InvalidEnumOption("segmentBarMode",i);r=this._extentMaxes(t,"y")}}return r}},{key:"_resetCssDomains",value:function(){return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),qt(this.opts.barCssScale),qt(this.opts.barFillScale),this}},{key:"setMode",value:function(t){this.option("segmentBarMode",t),this.updateAxesDomains(),this.renderAxes(),this.update()}},{key:"updateAxesRanges",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateAxesRanges",this).call(this),this._updateXInnerRange(),this._updateYInnerRange()}},{key:"_updateXInnerRange",value:function(){this.xInner.range([0,this.x.bandwidth()])}},{key:"_updateXInnerDomain",value:function(){var t=this.data(),e=this.tryInvoke(this.opts.yProp),n=this.tryInvoke(this.opts.xInnerProp),r=t[0][e].map(function(t){return t[n]});this.xInner.domain(r)}},{key:"_updateYInnerRange",value:function(){}},{key:"_updateYInnerDomain",value:function(){}},{key:"_data",value:function(t){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this).call(this,t),this._updateXInnerDomain(),this._updateXInnerRange(),this._updateYInnerDomain(),this._updateYInnerRange()}},{key:"_update",value:function(){var t=this,e=this.tryInvoke(this.opts.segmentBarMode),n=void 0,r=void 0;if(e===Oo.STACKED){var i=this._updateStackedBars();n=i.barGrps,r=i.transition}else{if(e!==Oo.GROUPED)throw Fi.InvalidEnumOption("segmentBarMode",e);var o=this._updateGroupedBars();n=o.barGrps,r=o.transition}this.opts.includeLabels&&n&&(n.size()?this._updateLabels(n,r):r.on("end",function(){t._updateLabels(t.draw.selectAll(".monte-segment-bar-grp"),d3.transition())}))}},{key:"_updateStackedBars",value:function(){var t=this._barXInnerStacked.bind(this),e=this._barYInnerStacked.bind(this),n=this._barWidthStacked.bind(this),r=this._barHeightStacked.bind(this);return this._updateBars(t,e,n,r)}},{key:"_updateGroupedBars",value:function(){var t=this._barXInnerGrouped.bind(this),e=this._barYInnerGrouped.bind(this),n=this._barWidthGrouped.bind(this),r=this._barHeightGrouped.bind(this);return this._updateBars(t,e,n,r)}},{key:"_updateBars",value:function(t,e,n,r){var i=this,o=this._barGroupTranslate.bind(this),a=this.draw.selectAll(".monte-segment-bar-grp").data(this.displayData,function(t,e){return t.id||e}),s=d3.transition().duration(this.opts.transitionDuration).delay(this.opts.delay).ease(this.opts.ease);return a.enter().append("g").attr("class","monte-segment-bar-grp").call(this.__bindCommonEvents("bargrp")).merge(a).attr("transform",function(t){return"translate("+o(t)+")"}).each(function(o,a,u){var l=i._barProp(),c=o[l],p=d3.select(u[a]).selectAll("rect").data(c);p.enter().append("rect").call(i.__bindCommonEvents("barseg")).merge(p).attr("class",function(t,e){return i._buildCss(["monte-segment-bar-seg",i.opts.barSegCss,i.opts.barSegCssScale,t.css],t,e)}).transition(s).attr("x",t).attr("y",e).attr("width",n).attr("height",r)}),a.exit().remove(),{barGrps:a.merge(a.enter().selectAll(".monte-bar-grp")),transition:s}}},{key:"_segLabels",value:function(t){return this.getProp("y",t)}},{key:"_updateLabels",value:function(t,e){var n=this;t.each(function(t,r,i){var o=d3.select(i[r]);n._updateBarSegLabel(o,e,t,r,i)})}},{key:"_updateBarSegLabel",value:function(t,e,n){var r=this,i=t.selectAll(".monte-bar-label").data(this._segLabels(n));i.enter().append("text").attr("class","monte-bar-label").merge(i).text(function(t,e,n){return r.tryInvoke(r.opts.label,t,e,n)}).transition(e).attr("fill",function(t,e,n){return r.tryInvoke(r.opts.labelFillScale,t,e,n)}).attr("x",function(t,e,n){return r.tryInvoke(r.opts.labelX,t,e,n)}).attr("dx",function(t,e,n){return r.tryInvoke(r.opts.labelXAdjust,t,e,n)}).attr("y",function(t,e,n){return r.tryInvoke(r.opts.labelY,t,e,n)}).attr("dy",function(t,e,n){return r.tryInvoke(r.opts.labelYAdjust,t,e,n)}),i.exit().remove()}},{key:"_barProp",value:function(){return this.tryInvoke(this.opts.yProp)}},{key:"_barGroupTranslate",value:function(t){return this._barX(t)+", 0"}},{key:"_barX",value:function(t){return this.getScaledProp("x",t)}},{key:"_barXInnerGrouped",value:function(t){return this.getScaledProp("xInner",t)}},{key:"_barXInnerStacked",value:function(){return 0}},{key:"_barWidthStacked",value:function(){return this.x.bandwidth()}},{key:"_barWidthGrouped",value:function(){return this.xInner.bandwidth()}},{key:"_barY",value:function(t){return this.getScaledProp("y",t)}},{key:"_barYInnerGrouped",value:function(t){return this.height-this._barHeightGrouped(t)}},{key:"_barYInnerStacked",value:function(t,e,n){for(var r=this.getScaledProp("y","yInner",t),i=0,o=0;o<e;o++){var a=d3.select(n[o]),s=a.datum();i-=this._barHeightStacked(s)}return r+i}},{key:"_barHeightGrouped",value:function(t){return this.height-this.getScaledProp("y","yInner",t)}},{key:"_barHeightStacked",value:function(t){return this.height-this.getScaledProp("y","yInner",t)}}],[{key:"createInstanceGroup",value:function(t){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.push(So),(n=Ae(e.__proto__||Object.getPrototypeOf(e),"createInstanceGroup",this)).call.apply(n,[this,t].concat(i))}}]),e}(to),So=["setMode","updateAxesRanges"],Co={chartCss:"monte-horizontal-segment-bar-chart",barSegmentCss:"bar-segment",margin:{top:0,right:10,bottom:20,left:40},segmentBarMode:Oo.STACKED,yProp:"id",xProp:"values",yInnerProp:"type",xInnerProp:"value",xScale:d3.scaleLinear,yInnerScale:function(){return d3.scaleBand().paddingInner(.1).paddingOuter(.1).round(!0)},yScale:function(){return d3.scaleBand().paddingInner(.1).round(!0)},xDomainCustomize:Qt,yDomainCustomize:null,includeLabels:!1,labelProp:"value",labelFillScale:$t,label:function(t){return this.getProp("label",t)},labelXAdjust:"-0.1em",labelX:function(t,e,n){var r=this.option("segmentBarMode");return r===Oo.STACKED?this._barXInnerStacked(t,e,n)+this._barWidthStacked(t):r===Oo.GROUPED?this._barWidthGrouped(t):void 0},labelYAdjust:"0.35em",labelY:function(t){var e=this.option("segmentBarMode");return e===Oo.STACKED?this.y.bandwidth()/2:e===Oo.GROUPED?this._barYInnerGrouped(t)+this.yInner.bandwidth()/2:void 0}},Eo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Co]))}},{key:"_initInnerScales",value:function(){this.yInner=this.opts.yInnerScale()}},{key:"_updateXInnerRange",value:function(){}},{key:"_updateXInnerDomain",value:function(){}},{key:"_updateYInnerRange",value:function(){this.yInner.range([0,this.y.bandwidth()])}},{key:"_updateYInnerDomain",value:function(){var t=this.data(),e=this.tryInvoke(this.opts.xProp),n=this.tryInvoke(this.opts.yInnerProp),r=t[0][e].map(function(t){return t[n]});this.yInner.domain(r)}},{key:"_domainExtent",value:function(t,e){var n=this,r=null;if("y"===e)r=t.map(function(t){return n.getProp("y",t)});else if("x"===e){var i=this.tryInvoke(this.opts.segmentBarMode);if(i===Oo.GROUPED)r=this._extentInner(t,"x");else{if(i!==Oo.STACKED)throw Fi.InvalidEnumOption("segmentBarMode",i);r=this._extentMaxes(t,"x")}}return r}},{key:"_segLabels",value:function(t){return this.getProp("x",t)}},{key:"_barProp",value:function(){return this.tryInvoke(this.opts.xProp)}},{key:"_barGroupTranslate",value:function(t){return"0, "+this._barY(t)}},{key:"_barX",value:function(t){return this.getScaledProp("x",t)}},{key:"_barXInnerGrouped",value:function(){return 0}},{key:"_barXInnerStacked",value:function(t,e,n){for(var r=0,i=0,o=0;o<e;o++){var a=d3.select(n[o]),s=a.datum();i+=this._barWidthStacked(s)}return r+i}},{key:"_barWidthGrouped",value:function(t){return this.getScaledProp("x","xInner",t)}},{key:"_barWidthStacked",value:function(t){return this.getScaledProp("x","xInner",t)}},{key:"_barY",value:function(t){return this.getScaledProp("y",t)}},{key:"_barYInnerGrouped",value:function(t){return this.getScaledProp("yInner",t)}},{key:"_barYInnerStacked",value:function(){return 0}},{key:"_barHeightGrouped",value:function(){return this.yInner.bandwidth()}},{key:"_barHeightStacked",value:function(){return this.y.bandwidth()}}]),e}(Po),Io={chartCss:"monte-scatter-plot",margin:{top:10,right:10,bottom:30,left:40},pointSize:64,pointFillScale:$t,pointStrokeScale:$t,pointCssScale:$t,pointCss:"monte-point",pointSymbol:function(t){return t.type(d3.symbolCircle)},pointEnterStart:$t,pointEnterEnd:$t,pointExitStart:$t,pointExitEnd:$t},jo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Io]))}},{key:"_initCore",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.symbol=d3.symbol()}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,Ce(Zt("point"))));
}},{key:"_domainExtent",value:function(t,e){var n=this.opts[e+"Prop"],r=d3.extent(t,function(t){return t[n]});return r}},{key:"_resetCssDomains",value:function(){return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),qt(this.opts.pointCssScale),this}},{key:"_update",value:function(){var t=this._updatePoints();return t}},{key:"_updatePoints",value:function(){var t=this,e=this.draw.selectAll(".monte-point").data(this.displayData);return e.enter().append("path").call(this.__bindCommonEvents("point")).merge(e).attr("d",function(e,n){var r=d3.symbol().size(t.opts.pointSize),i=t.opts.pointSymbol(r,e,n);return i(e,n)}).attr("fill",function(e,n){return t.opts.pointFillScale(e.id||n)}).attr("stroke",function(e,n){return t.opts.pointStrokeScale(e.id||n)}).attr("class",function(e,n){return t._buildCss(["monte-point",t.opts.pointCss,t.opts.pointCssScale,e.css],e,n)}).transition().duration(this.opts.transitionDuration).ease(this.opts.ease).call(this.opts.pointEnterStart).attr("transform",function(e){return"translate("+t.getScaledProp("x",e)+", "+t.getScaledProp("y",e)+")"}).call(this.opts.pointEnterEnd),e.exit().transition().duration(this.opts.transitionDuration).ease(this.opts.ease).call(this.opts.pointExitStart).style("opacity",0).call(this.opts.pointExitEnd).remove(),e.merge(e.enter().selectAll(".point"))}}]),e}(to),Do={D3_SYMBOL:"d3Symbol",SVG_USE_DEF:"svgUseDef",SVG_USE_EXTERNAL:"svgUseExternal"},wo={BottomToTopLeftToRightPlacement:{rowIndex:function(t,e){return Math.floor(e/this.opts.columns)},columnIndex:function(t,e){return e%this.opts.columns}},TopToBottomLeftToRightPlacement:{rowIndex:function(t,e){return this.opts.rows-Math.floor(e/this.opts.columns)-1},columnIndex:function(t,e){return e%this.opts.columns}}},Ro={chartCss:"monte-icon-array",boundingWidth:100,boundingHeight:100,margin:{top:0,right:0,bottom:0,left:0},suppressAxes:!0,xScale:function(){return d3.scalePoint().padding(.5)},yScale:function(){return d3.scalePoint().padding(.5)},iconFillScale:$t,iconStrokeScale:$t,iconCssScale:$t,iconCss:"icon",iconSize:24,iconSymbol:function(t){return t.type(d3.symbolCircle)},iconMode:Do.D3_SYMBOL,iconDefId:"svgIcon",iconSvgWidth:24,iconSvgHeight:24,iconHref:"",iconSvgSymbol:function(t){t.attr("viewbox","0 0 24 24").append("path").attr("d","m 0,0 24,24 m -24,0 24,-24")},rows:10,columns:10,placement:wo.TopToBottomLeftToRightPlacement,svgVersion:1},To=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Ro]))}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,Ce(Zt("icon"))))}},{key:"_resetCssDomains",value:function(){return Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_resetCssDomains",this).call(this),qt(this.opts.iconCssScale),this}},{key:"_domainExtent",value:function(t,e){var n=null;return"y"===e?n=new Array(this.opts.rows):"x"===e&&(n=new Array(this.opts.columns)),n.fill().map(function(t,e){return e})}},{key:"_render",value:function(){var t=this;this.opts.iconMode===Do.SVG_USE_DEF&&!function(){var e=t;t.defs.append("symbol").attr("id","svgIcon").each(function(){e.opts.iconSvgSymbol(d3.select(this))})}()}},{key:"_update",value:function(){var t=this.opts.rows*this.opts.columns;if(t<this.displayData.length)throw new Bi("Maximum number of items is "+t+". Data contains "+this.displayData.length+".");this._updateIcons()}},{key:"_updateIcons",value:function(){var t,e=(t={},Oe(t,Do.D3_SYMBOL,this._updateD3Symbol),Oe(t,Do.SVG_USE_DEF,this._updateSvgUse),Oe(t,Do.SVG_USE_EXTERNAL,this._updateSvgUse),t),n=this.draw.selectAll(".monte-icon").data(this.displayData);e[this.opts.iconMode].call(this,n,this.opts.iconMode),n.exit().transition().duration(this.opts.transitionDuration).ease(this.opts.ease).style("opacity",0).remove()}},{key:"_updateD3Symbol",value:function(t){var e=this,n=function(t,n){var r=e.tryInvoke(e.opts.iconSize,t,n),i=d3.symbol().size(r),o=e.opts.iconSymbol(i,t,n);return o(t,n)};this._updateCommon("path",t,re).attr("d",n)}},{key:"_updateSvgUse",value:function(t,e){var n=this,r=e===Do.SVG_USE_DEF?function(t,e,r){return"#"+n.tryInvoke(n.opts.iconDefId,t,e,r)}:function(t,e,r){return n.tryInvoke(n.opts.iconHref,t,e,r)},i=function(t,e,r){var i=d3.select(r[e]);i.attr("width",n.opts.iconSvgWidth).attr("height",n.opts.iconSvgHeight)},o=2===this.tryInvoke(this.opts.svgVersion)?"href":"xlink:href";this._updateCommon("use",t,ie,i).attr(o,r)}},{key:"_updateCommon",value:function(t,e,n){var r=this,i=arguments.length<=3||void 0===arguments[3]?$t:arguments[3],o=e.enter().append(t).call(this.__bindCommonEvents("icon")).merge(e).each(i).attr("transform",function(t,e,i){return n.call(r,t,e,i)}).attr("class",function(t,e){return r._buildCss(["monte-icon",r.opts.iconCss,r.opts.iconCssScale,t.css],t,e)}).transition().duration(this.opts.transitionDuration).ease(this.opts.ease).attr("fill",this.opts.iconFillScale).attr("stroke",this.opts.iconStrokeScale);return o}}]),e}(to),zo={chartCss:"monte-arc-chart",cornerRadius:0,innerRadius:0,outerRadius:ae,arcCustomize:null,arcCss:"arc",arcWedgeCss:"wedge",arcWedgeCssScale:$t,arcWedgeFillScale:$t,arcWedgeStrokeScale:$t,arcWedgeEnter:function(t){return{startAngle:t.endAngle,endAngle:t.endAngle,value:t.value,padAngle:t.padAngle,index:t.index}},arcBgWedgeCssScale:$t,arcBgWedgeFillScale:$t,itemValueProp:"value",pieStartAngle:0,pieEndAngle:oo,piePadAngle:.02},Lo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[zo]))}},{key:"_initCore",value:function(){var t=this;Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.arc=d3.arc().cornerRadius(this.opts.cornerRadius),this.pie=d3.pie().value(function(e){return e[t.opts.itemValueProp]}).sortValues(null).startAngle(this.opts.pieStartAngle).endAngle(this.opts.pieEndAngle).padAngle(this.opts.piePadAngle)}},{key:"_initCustomize",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCustomize",this).call(this),this.opts.arcCustomize&&this.opts.arcCustomize(this.arc),this.opts.pieCustomize&&this.opts.pieCustomize(this.pie)}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,Ce(Zt("wedge"))))}},{key:"_updateBounds",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateBounds",this).call(this),this.arc.innerRadius(this.tryInvoke(this.opts.innerRadius,this.width,this.height)).outerRadius(this.tryInvoke(this.opts.outerRadius,this.width,this.height))}},{key:"_data",value:function(t){this.pieDisplayData=this.pie(t),Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this).call(this,t)}},{key:"_update",value:function(){this._updateArcs(),this._updateBackground()}},{key:"_updateArcs",value:function(){var t=this,e=this.draw.selectAll(".monte-arc").data(this.pieDisplayData),n=this.arc;e.enter().append("g").attr("class","monte-arc "+this.opts.arcCss).append("path").attr("class",function(e,n){return t._buildCss(["monte-arc-wedge",t.opts.arcWedgeCss,t.opts.arcWedgeCssScale,e.data.css],e,n)}).call(this.__bindCommonEvents("wedge")).transition().delay(this.opts.transitionDuration).duration(this.opts.transitionDuration).ease(this.opts.ease).attrTween("d",function(e){var r=t.tryInvoke(t.opts.arcWedgeEnter,e);return oe(n,r,e)}).attr("fill",function(e,n){return t.opts.arcWedgeFillScale(e.id||n)}),e.selectAll(".monte-arc-wedge").each(function(){var t=d3.select(this.parentElement).datum(),e=d3.select(this),n=e.datum();t.prev=n,e.datum(t),delete n.prev}).attr("class",function(e,n){return t._buildCss(["monte-arc-wedge",t.opts.arcWedgeCss,t.opts.arcWedgeCssScale,e.data.css],e,n)}).transition().delay(this.opts.transitionDuration).duration(this.opts.transitionDuration).ease(this.opts.ease).attrTween("d",function(t){return oe(n,t.prev,t)}).attr("fill",function(e,n){return t.opts.arcWedgeFillScale(e.id||n)}),e.exit().transition().duration(this.opts.transitionDuration).ease(this.opts.ease).style("opacity",.01).remove()}},{key:"_updateBackground",value:function(){var t=this,e=this.displayData.reduce(function(t,e){return t+e.value},0),n=this.arc({index:0,startAngle:this.opts.pieStartAngle,endAngle:this.opts.pieEndAngle,value:e}),r=this.bg.selectAll(".monte-wedge-bg").data([n]);r.enter().append("path").merge(r).attr("d",function(t){return t}).attr("fill",function(){return t.opts.arcBgWedgeFillScale()}).attr("class",function(){return["monte-wedge-bg",t.opts.arcBgWedgeCssScale()].join(" ")})}}]),e}(so),Bo={smallNeedleHeight:0,smallNeedleRatio:.05},Mo={chartCss:"monte-arc-chart monte-gauge-chart",piePadAngle:0,pieStartAngle:-io,pieEndAngle:io,arcBgCssScale:$t,arcBgFillScale:$t,needleBase:20,needleHeight:function(t,e){return(t-e)/2+e},needlePath:se(),innerRadius:function(t,e){return.9*ae(t,e)},labelRadius:function(t,e){return.8*ae(t,e)},segmentsProp:"segments",itemValueProp:"interval",startValueProp:"start",needleValueProp:"value",segmentLabelProp:"label"},Fo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Mo]))}},{key:"_initCore",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this._prevNeedleAngleValueData=0,this.needleValueData=0,this.needleValueAngleData=0}},{key:"_initRender",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initRender",this).call(this),this.bgArc=d3.arc().startAngle(this.tryInvoke(this.opts.pieStartAngle)).endAngle(this.tryInvoke(this.opts.pieEndAngle)).innerRadius(0).outerRadius(this.tryInvoke(this.opts.outerRadius,this.width,this.height)).cornerRadius(this.tryInvoke(this.opts.cornerRadius)),this.angleScale=d3.scaleLinear().range([this.opts.pieStartAngle,this.opts.pieEndAngle])}},{key:"_initPublicEvents",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initPublicEvents",this)).call.apply(t,[this].concat(r,["updateNeedle","updateBackgroundArc","updateLabels"]))}},{key:"_getLayerTranslate",value:function(){var t=this.tryInvoke(this.opts.outerRadius,this.width,this.height),e=this.width/2+this.margin.left,n=this.height-(this.height-t)+this.margin.top;return"translate("+e+", "+n+")"}},{key:"_data",value:function(t){var n=this.tryInvoke(this.opts.segmentsProp),r=this.tryInvoke(this.opts.startValueProp),i=this.tryInvoke(this.opts.itemValueProp),o=this.tryInvoke(this.opts.needleValueProp);Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this).call(this,t[n]);var a=this.displayData.reduce(function(t,e){return t+Math.abs(e[i])},0),s=t[r]||0;this.angleScale.domain([s,s+a]),this.needleValue(t[o],!0)}},{key:"needleValue",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return void 0===t?this.needleValueData:(this._prevNeedleAngleValueData=this.needleValueAngleData,this.needleValueData=t,this.needleValueAngleData=this.angleScale(t),e||this.update(),this)}},{key:"needleValueAngle",value:function(){return this.needleValueAngleData}},{key:"_update",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_update",this).call(this),this.hasRendered||this._updateBackgroundArc(),this._updateLabels(),this._updateNeedle()}},{key:"_updateBackgroundArc",value:function(){var t=this;this.bg.append("path").attr("fill",this.opts.arcBgFillScale).attr("class",function(e,n){return t._buildCss(["monte-gauge-bg",t.opts.arcBgCssScale],e,n)}).attr("d",this.bgArc()),this.emit("updateBackgroundArc")}},{key:"_updateLabels",value:function(){var t=this,n=this.support.selectAll(".monte-gauge-label").data(this.pieDisplayData),r=this.tryInvoke(this.opts.labelRadius,this.width,this.height);n.enter().append("text").attr("class","monte-gauge-label").attr("text-anchor","middle").attr("dy","0.35em").merge(n).attr("transform",function(t){return"translate("+e.getCoord(r,t.endAngle)+")"}).text(function(e){return e.data[t.opts.segmentLabelProp]}),this.emit("updateLabels")}},{key:"_updateNeedle",value:function(){var t=this,e=this.tryInvoke(this.opts.needleBase),n=this.tryInvoke(this.opts.outerRadius,this.width,this.height),r=this.tryInvoke(this.opts.innerRadius,this.width,this.height),i=this.tryInvoke(this.opts.needleHeight,n,r),o=this.tryInvoke(this.opts.needlePath,i,e),a=this.overlay.selectAll(".monte-gauge-needle").data([this.needleValueAngleData||0]);a.enter().append("path").attr("class","monte-gauge-needle").attr("d",o).style("transform",function(t){return"rotate("+t+"rad)"}),a.transition().duration(this.opts.transitionDuration).ease(this.opts.ease).styleTween("transform",function(e){var n=t._prevNeedleAngleValueData,r=e;return function(t){var e=n*(1-t)+r*t;return"rotate("+e+"rad)"}}),this.emit("updateNeedle")}}],[{key:"createInstanceGroup",value:function(t){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.push(No),(n=Ae(e.__proto__||Object.getPrototypeOf(e),"createInstanceGroup",this)).call.apply(n,[this,t].concat(i))}}]),e}(Lo),No=["needleValue"],Go={chartCss:"monte-arc-chart monte-wedge-chart",piePadAngle:0,arcWedgeEnter:function(t){return{startAngle:t.startAngle,endAngle:t.startAngle,value:t.value,padAngle:t.padAngle,index:t.index}}},Uo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Go]))}},{key:"_initCore",value:function(){Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initCore",this).call(this),this.pie.sortValues(function(t,e){return t.value-e.value})}},{key:"_data",value:function(t){var n,r,i;this.wedgeValueData=t;for(var o=this.tryInvoke(this.opts.itemValueProp),a=[(n={},Oe(n,o,t),Oe(n,"css","monte-wedge"),n),(r={},Oe(r,o,100-t),Oe(r,"css","monte-arc-placeholder"),r)],s=arguments.length,u=Array(s>1?s-1:0),l=1;l<s;l++)u[l-1]=arguments[l];return(i=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_data",this)).call.apply(i,[this,a].concat(u))}},{key:"wedgeValue",value:function(t){return void 0===t?this.wedgeValueData:(this.data(t),this)}}],[{key:"createInstanceGroup",value:function(t){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.push(Vo),(n=Ae(e.__proto__||Object.getPrototypeOf(e),"createInstanceGroup",this)).call.apply(n,[this,t].concat(i))}}]),e}(Lo),Vo=["wedgeValue"],Ho="horizontal",Wo="vertical",Yo=Object.freeze({HORIZONTAL:Ho,VERTICAL:Wo}),Xo=Object.freeze({D3:Yi,DIRECTION:Yo,MATH:ao,CLICK:Ee,TOUCHSTART:Ie,TOUCHEND:je,MOUSEOVER:De,MOUSEOUT:we,SUPPRESSED_ERROR:Re,EXTENSION:Te,RENDERING:ze,RENDERED:Le,UPDATING:Be,UPDATED:Me,UPDATING_BOUNDS:Fe,UPDATED_BOUNDS:Ne,CLEARING:Ge,CLEARED:Ue,CSS_DOMAINS_RESETING:Ve,CSS_DOMAINS_RESET:He,DESTROYING:We,DESTROYED:Ye,INTERACTION_EVENTS:Xe,CHART_SUPPORT_EVENTS:Ke,CHART_LIFECYCLE_EVENTS:$e,ACTION_ADD:Ze,ACTION_REMOVE:qe,ACTION_CSS_OVER:Je,ACTION_CSS_TOUCH:Qe,INTERACTION_EVENT_CSS_MAP:tn,UNDEF:Xi}),Ko={layer:"bg",binding:["rendered","updatedBounds"],optionsTriggerUpdate:!1,eventPrefix:null},$o=function(){function t(e){ke(this,t),this._initOptions(e)}return xe(t,[{key:"_initOptions",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this.opts=Kt.apply(void 0,e.concat([Ko])),!this.opts.eventPrefix)throw Fi.RequiredOption("eventPrefix")}},{key:"setChart",value:function(t){this.chart=t,this.layer=t[this.opts.layer]}},{key:"option",value:function(t,e){return void 0===e?this.opts[t]:(this.opts[t]=e,this._shouldOptionUpdate(t)&&this.cachedChart&&this.update("optionChanged",this.cachedChart),this)}},{key:"_shouldOptionUpdate",value:function(){return this.opts.optionsTriggerUpdate}},{key:"emit",value:function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.chart).emit.apply(e,["extension",this.opts.eventPrefix+":"+t,this].concat(r))}},{key:"update",value:function(){var t=arguments.length<=0?void 0:arguments[0];this.layer||(this.layer=this.chart[this.opts.layer]);try{"destroy"===t?this._destroy():(this._update.apply(this,arguments),this.emit("updated"))}catch(t){console&&console.log&&console.log(t),this.chart.emit("suppressedError",t,t.stack||"No stack available.")}}},{key:"_update",value:function(t,e){throw Bi.UnimplementedMethod("Update","_update")}},{key:"tryInvoke",value:function(t){try{for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ut(t)?t.call.apply(t,[this].concat(n)):t}catch(t){return null}}},{key:"getProp",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=t+"Prop",i=this.opts[r];return i?e[i]:n}},{key:"_buildCss",value:function(t,e,n){var r=this,i=[],o=Array.isArray(t)?t:[t];return o.forEach(function(t){i.push(r.tryInvoke(t,e.id||n))}),i.join(" ")}},{key:"_destroy",value:function(){}},{key:"toString",value:function(){return this.constructor.name}}]),t}(),Zo={eventPrefix:"arc",startAngle:0,endAngle:oo,arcCss:"monte-ext-arc",innerRadius:0,outerRadius:100,cornerRadius:0},qo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Zo])),this.arc=d3.arc().innerRadius(this.tryInvoke(this.opts.innerRadius)).outerRadius(this.tryInvoke(this.opts.outerRadius)).cornerRadius(this.tryInvoke(this.opts.cornerRadius))}},{key:"_update",value:function(){var t=this,e=this.tryInvoke(this.opts.arcCss),n=this.tryInvoke(this.opts.startAngle),r=this.tryInvoke(this.opts.endAngle),i=Wt(n)&&Wt(r)?{startAngle:n,endAngle:r}:{startAngle:Wt(n)?n:r,endAngle:Wt(n)?n:r},o=this.layer.selectAll("."+e).data([i]),a=this.tryInvoke(this.chart.opts.transitionDuration),s=this.chart.opts.ease;o.enter().append("path").attr("class",e).attr("d",function(e){return t.arc(e)}),o.transition().duration(a).ease(s).attrTween("d",function(e){return oe(t.arc,t.prev,e)}).on("end",function(e){return t.prev=e}),o.exit().transition().duration(a).ease(s).style("opacity",.01).remove()}}]),e}($o),Jo={eventPrefix:"frame",frameLineCss:"monte-ext-frame-line",edges:["top","right","bottom","left"],alignmentShift:Ni},Qo=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[Jo]))}},{key:"_shouldOptionUpdate",value:function(t){return"edges"===t||"alignmentShift"===t}},{key:"clear",value:function(){var t=this.opts.frameLineCss,e=this.layer.selectAll("."+t);e.remove()}},{key:"_update",value:function(){var t=this.chart,e=this.opts.frameLineCss,n=this.layer.selectAll("."+e).data(this.opts.edges).order(),r=this.opts.alignmentShift,i={top:[[0+r,0+r],[t.width+r,0+r]],right:[[t.width+r,0+r],[t.width+r,t.height+r]],bottom:[[0+r,t.height+r],[t.width+r,t.height+r]],left:[[0+r,0+r],[0+r,t.height+r]]};n.enter().append("line").attr("class",e).attr("x1",function(t){return i[t][0][0]}).attr("y1",function(t){return i[t][0][1]}).attr("x2",function(t){return i[t][1][0]}).attr("y2",function(t){return i[t][1][1]}),n.transition().duration(t.option("transitionDuration")).attr("x1",function(t){return i[t][0][0]}).attr("y1",function(t){return i[t][0][1]}).attr("x2",function(t){return i[t][1][0]}).attr("y2",function(t){return i[t][1][1]}),n.exit().remove()}}]),e}($o),ta={eventPrefix:"grid",scalePrefixes:["x","y"],prefixCssMap:{x:"v-line",y:"h-line"},lineCss:"monte-ext-grid-line",binding:["axisRendered"],x1Adjust:0,x2Adjust:0,y1Adjust:0,y2Adjust:0},ea=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ta]))}},{key:"_update",value:function(t,e){var n=this,r=this.chart;r.forEachAxisScale(function(t){var i=n.getCss(t),o=r[t],a=r[t+"Axis"],s="x"===t[0]?Wo:Ho;if(i&&o&&a){var u=a.tickValues(),l=a.tickArguments(),c=null==u?o.ticks?o.ticks.apply(o,l):o.domain():u,p=n.layer.selectAll("."+i).data(c).order();n._updateTicks(p,e,{axesChart:r,axis:a,axisTransition:e,css:i,orient:s,scale:o,scaleName:t,lineCss:n.option("lineCss")})}})}},{key:"_updateTicks",value:function(t,e,n){var r=[n.lineCss,n.css].join(" "),i=this.tryInvoke(this.opts.x1Adjust),o=this.tryInvoke(this.opts.x2Adjust),a=this.tryInvoke(this.opts.y1Adjust),s=this.tryInvoke(this.opts.y2Adjust),u=this.tryInvoke(this.chart.opts.transitionDuration),l=this.chart.opts.ease;n.orient===Ho?(t.enter().append("line").attr("class",r).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).transition().duration(u).ease(l).attr("x1",0+i).attr("y1",Ni+a).attr("x2",n.axesChart.width+o).attr("y2",Ni+s).attr("transform",function(t){return"translate(0,"+n.scale(t)+")"}),t.transition(e).duration(u).ease(l).attr("x2",function(){return n.axesChart.width+o}).attr("transform",function(t){return"translate(0,"+n.scale(t)+")"})):n.orient===Wo&&(t.enter().append("line").attr("class",r).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).transition().duration(u).ease(l).attr("x1",Ni+i).attr("y1",0+a).attr("x2",Ni+o).attr("y2",n.axesChart.height+s).attr("transform",function(t){return"translate("+n.scale(t)+", 0)"}),t.transition(e).duration(u).ease(l).attr("y2",function(){return n.axesChart.height+s}).attr("transform",function(t){return"translate("+n.scale(t)+", 0)"})),t.exit().remove()}},{key:"getCss",value:function(t){for(var e in this.opts.prefixCssMap)if(this.opts.prefixCssMap.hasOwnProperty(e)){var n=t.substr(0,e.length)===e;if(n)return this.opts.prefixCssMap[e]}return""}}]),e}($o),na=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_updateTicks",value:function(t,n,r){r.orient===Ho&&Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateTicks",this).call(this,t,n,r)}}]),e}(ea),ra=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_updateTicks",value:function(t,n,r){r.orient===Wo&&Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_updateTicks",this).call(this,t,n,r)}}]),e}(ea),ia={eventPrefix:"label",labelCss:"monte-ext-label-id",commonCss:"monte-ext-label",text:"",x:0,y:0,dy:"0.35em",dx:0,anchor:"start",labelCustomize:$t},oa=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ia]))}},{key:"_update",value:function(){var t=this,e=this.tryInvoke(this.opts.labelCss),n=this.tryInvoke(this.opts.commonCss),r=this.tryInvoke(this.opts.text),i=this.layer.selectAll("."+e).data([r]);i.enter().append("text").attr("class",e+" "+n).merge(i).attr("x",this.tryInvoke(this.opts.x)).attr("y",this.tryInvoke(this.opts.y)).attr("dx",this.tryInvoke(this.opts.dx)).attr("dy",this.tryInvoke(this.opts.dy)).attr("text-anchor",this.tryInvoke(this.opts.anchor)).text(function(t){return t}).call(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.tryInvoke.apply(t,[t.opts.labelCustomize].concat(n))}),i.exit().remove()}}]),e}($o),aa={eventPrefix:"polargrid",startAngle:0,endAngle:oo,ringRadii:[100],ringCss:"monte-ext-polar-ring",ringSpecificCss:null,ringSort:function(t,e){return e-t}},sa=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[aa]))}},{key:"_update",value:function(){var t=this.opts.ringRadii.sort(this.opts.ringSort),e=this.layer.selectAll("."+this.opts.ringCss).data(t);e.enter().append("circle").merge(e).attr("class",this.opts.ringCss).attr("r",function(t){return t})}}]),e}($o),ua={eventPrefix:"polarline",layer:"overlay",angle:0,lineCss:"monte-ext-polar-line",innerRadius:0,outerRadius:100},la=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ua])),this.innerArc=d3.arc().innerRadius(this.opts.innerRadius).outerRadius(this.opts.innerRadius),this.outerArc=d3.arc().innerRadius(this.opts.outerRadius).outerRadius(this.opts.outerRadius)}},{key:"_update",value:function(){var t=this,e=this.tryInvoke(this.opts.lineCss),n=this.tryInvoke(this.opts.angle),r=this.layer.selectAll("."+e).data([{startAngle:n,endAngle:n}]),i=r.enter().append("line").attr("class",e),o=this.tryInvoke(this.chart.opts.transitionDuration);Wt(n)?i.merge(r).transition().duration(o).attr("x1",function(e){return t.innerArc.centroid(e)[0]}).attr("y1",function(e){return t.innerArc.centroid(e)[1]}).attr("x2",function(e){return t.outerArc.centroid(e)[0]}).attr("y2",function(e){return t.outerArc.centroid(e)[1]}):i.merge(r).attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0),r.exit().remove()}}]),e}($o),ca={startAngle:0,endAngle:oo,tickInterval:.25*oo,innerRadius:0,outerRadius:100,tickCss:"monte-polar-tick",includeEnd:!0},pa=function(){function t(){ke(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.opts=Kt.apply(void 0,n.concat([ca])),this.innerArc=d3.arc().innerRadius(this.opts.innerRadius).outerRadius(this.opts.innerRadius),this.outerArc=d3.arc().innerRadius(this.opts.outerRadius).outerRadius(this.opts.outerRadius)}return xe(t,[{key:"update",value:function(t){var e=this,n=[],r=Math.abs(this.opts.endAngle-this.opts.startAngle)/this.opts.tickInterval;this.opts.includeEnd&&!pe(this.opts.startAngle,this.opts.endAngle)&&r++;for(var i=0;i<r;i++){var o=this.opts.startAngle+i*this.opts.tickInterval;n.push({startAngle:o,endAngle:o,value:i})}var a=t.selectAll("."+this.opts.tickCss).data(n);a.enter().append("line").merge(a).attr("class",this.opts.tickCss).attr("x1",function(t){return e.innerArc.centroid(t)[0]}).attr("y1",function(t){return e.innerArc.centroid(t)[1]}).attr("x2",function(t){return e.outerArc.centroid(t)[0]}).attr("y2",function(t){return e.outerArc.centroid(t)[1]}),a.exit().remove()}}]),t}(),ha={eventPrefix:"polarticks",startAngle:0,endAngle:oo,tickInterval:1/8*oo,innerRadius:0,outerRadius:100,tickCss:"monte-ext-polar-tick"},da=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[ha]))}},{key:"_update",value:function(){this.polarTicksDraw||(this.polarTicksDraw=new pa(this.opts)),this.polarTicksDraw.update(this.layer)}}]),e}($o),fa={eventPrefix:"barbg",barBgCss:"monte-ext-bar-bg",data:null,maxValue:null,maxValueProp:null,enlarge:.05,cornerRadius:0},ya=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[fa]))}},{key:"_update",value:function(){var t=this,e=this.chart,n=e.data()||[],r=void 0;r=this.opts.data?this.opts.data:this._buildData(e,n);var i=this.layer.selectAll("."+this.opts.barBgCss).data(r),o=this._sizeAdjust(e);i.enter().append("rect").merge(i).attr("class",this.opts.barBgCss).attr("x",function(){return e._barX.bind(e).apply(void 0,arguments)+t._xShift(o)}).attr("y",function(){return e._barY.bind(e).apply(void 0,arguments)+t._yShift(o)}).attr("width",function(n){var r=e._barWidth(n),i=t._widthAdjust(o),a=r+i;return a}).attr("height",function(){return e._barHeight.bind(e).apply(void 0,arguments)+t._heightAdjust(o)}).attr("rx",function(e,n){return t.tryInvoke(t.opts.cornerRadius,e,n)})}},{key:"_buildData",value:function(t,e){for(var n=new Array(e.length),r=t.y.domain(),i=0;i<n.length;i++){var o,a=this.opts.maxValue?e[i][this.opts.maxValue]:null;n[i]=(o={},Oe(o,t.option("xProp"),e[i][t.option("xProp")]),Oe(o,t.option("yProp"),a||this.opts.maxValue||r[1]),o)}return n}},{key:"_sizeAdjust",value:function(t){return t.x.bandwidth()*this.opts.enlarge}},{key:"_xShift",value:function(t){return-t}},{key:"_yShift",value:function(t){return 0}},{key:"_widthAdjust",value:function(t){return 2*t}},{key:"_heightAdjust",value:function(t){return 0}}]),e}($o),_a=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"_buildData",value:function(t,e){for(var n=new Array(e.length),r=t.x.domain(),i=0;i<n.length;i++){var o,a=this.opts.maxValueProp?e[i][this.opts.maxValueProp]:null;n[i]=(o={},Oe(o,t.option("xProp"),a||this.opts.maxValue||r[1]),Oe(o,t.option("yProp"),e[i][t.option("yProp")]),o)}return n}},{key:"_sizeAdjust",value:function(t){return t.y.bandwidth()*this.opts.enlarge}},{key:"_xShift",value:function(t){return 0}},{key:"_yShift",value:function(t){return-t}},{key:"_widthAdjust",value:function(t){return 0}},{key:"_heightAdjust",value:function(t){return 2*t}}]),e}(ya),va={eventPrefix:"refline",css:"monte-ext-ref-line-grp",data:$t,layer:"overlay",labelPlacement:"nw",textAnchor:"start",textProp:"text",x1Prop:"x1",x2Prop:"x2",y1Prop:"y1",y2Prop:"y2"},ga={nw:function(t,e){t.attr("dy","-0.35em").attr("x",e.x1).attr("y",e.y1)},n:function(t,e){t.attr("dy","-0.35em").attr("x",(e.x2-e.x1)/2+e.x1).attr("y",e.y2)},ne:function(t,e){t.attr("dy","-0.35em").attr("x",e.x2).attr("y",e.y2)},w:function(t,e){t.attr("dy","0.35em").attr("x",e.x1).attr("y",e.y1)},e:function(t,e){t.attr("dy","0.35em").attr("x",e.x2).attr("y",e.y2);
},sw:function(t,e){t.attr("dy","1em").attr("x",e.x1).attr("y",e.y1)},s:function(t,e){t.attr("dy","1em").attr("x",(e.x2-e.x1)/2+e.x1).attr("y",e.y2)},se:function(t,e){t.attr("dy","1em").attr("x",e.x2).attr("y",e.y2)}},ba=function(t){function e(t){ke(this,e);var n=Se(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.lineData=[],n}return Pe(e,t),xe(e,[{key:"_initOptions",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initOptions",this)).call.apply(t,[this].concat(r,[va]))}},{key:"_update",value:function(){var t=this;this.lineData=this.tryInvoke(this.opts.data,this.chart.data()),!Ht(this.lineData)&&Wt(this.lineData)?this.lineData=[this.lineData]:Wt(this.lineData)||(this.lineData=[]);var e=this.layer.selectAll("."+this.opts.css).data(this.lineData),n=e.enter().append("g").attr("class",this.opts.css);n.append("text"),n.append("line");var r=n.merge(e);r.select("line").attr("x1",function(e){return t.getProp("x1",e)}).attr("x2",function(e){return t.getProp("x2",e)}).attr("y1",function(e){return t.getProp("y1",e)}).attr("y2",function(e){return t.getProp("y2",e)}),r.select("text").attr("text-anchor",this.opts.textAnchor).text(function(e){return t.getProp("text",e)}).each(this._placeLabel.bind(this)),e.exit().remove()}},{key:"_placeLabel",value:function(t,e,n){var r=d3.select(n[e]),i=this.tryInvoke(this.opts.labelPlacement,t,e,n),o=ga[i],a={x1:this.getProp("x1",t),x2:this.getProp("x2",t),y1:this.getProp("y1",t),y2:this.getProp("y2",t)};o.call(this,r,a)}}]),e}($o),ma=Object.freeze({isArray:Ht,isDefined:Wt,isFunc:Ut,isNumeric:Gt,isObject:Vt,compose:he,mergeOptions:Kt,noop:$t,readTransforms:de,resetScaleDomain:qt}),ka=function(){function t(e){ke(this,t),this.opts=e||{}}return xe(t,[{key:"option",value:function(t,e){this.opts[t]=e}},{key:"resize",value:function(){throw Bi.UnimplementedMethod("Resize","resize")}}]),t}(),xa=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"resize",value:function(t){var e=t.bound.node().parentElement,n=ve(e);t.boundingRect(n.rect.width-n.pl-n.pr,t.opts.boundingHeight)}}]),e}(ka),Oa=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"resize",value:function(t){var e=t.bound.node().parentElement,n=ve(e),r=n.rect.width-n.pl-n.pr,i=this.opts.ratio||1;t.boundingRect(r,r/i)}}]),e}(ka),Aa=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"resize",value:function(t){var e=t.bound.node().parentElement,n=ve(e);t.boundingRect(n.rect.width-n.pl-n.pr,n.rect.height-n.pt-n.pb)}}]),e}(ka),Pa=function(t){function e(){return ke(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pe(e,t),xe(e,[{key:"resize",value:function(t){var e=t.bound.node().parentElement,n=ve(e);t.boundingRect(t.opts.boundingHeight,n.rect.height-n.pt-n.pb)}}]),e}(ka);t.constants=Xo,t.tools=ma,t.version=be,t.Chart=qi,t.AxesChart=to,t.PolarChart=so,t.LineChart=lo,t.AreaChart=po,t.SparklineChart=fo,t.BarChart=_o,t.HorizontalBarChart=go,t.SimpleBarChart=mo,t.HorizontalSimpleBarChart=xo,t.SegmentBarChart=Po,t.HorizontalSegmentBarChart=Eo,t.ScatterPlot=jo,t.IconArray=To,t.ArcChart=Lo,t.GaugeChart=Fo,t.WedgeChart=Uo,t.EventWatcher=Li,t.InstanceGroup=Mi,t.MonteError=Bi,t.MonteOptionError=Fi,t.Extension=$o,t.ExtArc=qo,t.ExtFrame=Qo,t.ExtGrid=ea,t.ExtHorizontalLines=na,t.ExtVerticalLines=ra,t.ExtLabel=oa,t.ExtPolarGrid=sa,t.ExtPolarLine=la,t.ExtPolarTicks=da,t.ExtBarBg=ya,t.ExtHorizontalBarBg=_a,t.ExtReferenceLine=ba,t.axisNoTicks=fe,t.axisWholeNumberFormat=ye,t.needleRoundedEnd=se,t.needleFlatEnd=ue,t.needleExtraPointer=le,t.needleRect=ce,t.extentFromZero=Jt,t.extentBalanced=Qt,t.extentGeneratorPercentOffset=ne,t.extentGeneratorValueOffset=ee,t.extentGeneratorZeroToMax=te,t.AutoResizer=Aa,t.HorizontalResizer=xa,t.HorizontalRatioResizer=Oa,t.Resizer=ka,t.VerticalResizer=Pa,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=monte.min.js.map
