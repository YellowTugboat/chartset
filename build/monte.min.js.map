{"version":3,"file":"monte.min.js","sources":["../node_modules/lodash-es/_baseSlice.js","../node_modules/lodash-es/_castSlice.js","../node_modules/lodash-es/_hasUnicode.js","../node_modules/lodash-es/_asciiToArray.js","../node_modules/lodash-es/_unicodeToArray.js","../node_modules/lodash-es/_stringToArray.js","../node_modules/lodash-es/_arrayMap.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/_baseToString.js","../node_modules/lodash-es/toString.js","../node_modules/lodash-es/_arrayReduce.js","../node_modules/lodash-es/deburr.js","../node_modules/lodash-es/_asciiWords.js","../node_modules/lodash-es/_hasUnicodeWord.js","../node_modules/lodash-es/_unicodeWords.js","../node_modules/lodash-es/words.js","../node_modules/lodash-es/_createCompounder.js","../node_modules/lodash-es/capitalize.js","../node_modules/lodash-es/eq.js","../node_modules/lodash-es/_assocIndexOf.js","../node_modules/lodash-es/_ListCache.js","../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/isFunction.js","../node_modules/lodash-es/_isMasked.js","../node_modules/lodash-es/_toSource.js","../node_modules/lodash-es/_baseIsNative.js","../node_modules/lodash-es/_getValue.js","../node_modules/lodash-es/_getNative.js","../node_modules/lodash-es/_Hash.js","../node_modules/lodash-es/_isKeyable.js","../node_modules/lodash-es/_getMapData.js","../node_modules/lodash-es/_MapCache.js","../node_modules/lodash-es/_Stack.js","../node_modules/lodash-es/_SetCache.js","../node_modules/lodash-es/_arraySome.js","../node_modules/lodash-es/_cacheHas.js","../node_modules/lodash-es/_equalArrays.js","../node_modules/lodash-es/_mapToArray.js","../node_modules/lodash-es/_setToArray.js","../node_modules/lodash-es/_equalByTag.js","../node_modules/lodash-es/_arrayPush.js","../node_modules/lodash-es/_baseGetAllKeys.js","../node_modules/lodash-es/_arrayFilter.js","../node_modules/lodash-es/_baseTimes.js","../node_modules/lodash-es/_baseIsArguments.js","../node_modules/lodash-es/_isIndex.js","../node_modules/lodash-es/isLength.js","../node_modules/lodash-es/_arrayLikeKeys.js","../node_modules/lodash-es/_isPrototype.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_baseKeys.js","../node_modules/lodash-es/isArrayLike.js","../node_modules/lodash-es/keys.js","../node_modules/lodash-es/_getAllKeys.js","../node_modules/lodash-es/_equalObjects.js","../node_modules/lodash-es/_baseIsEqualDeep.js","../node_modules/lodash-es/_baseIsEqual.js","../node_modules/lodash-es/_isFlattenable.js","../node_modules/lodash-es/_baseFlatten.js","../node_modules/lodash-es/_baseHas.js","../node_modules/lodash-es/_isKey.js","../node_modules/lodash-es/memoize.js","../node_modules/lodash-es/_castPath.js","../node_modules/lodash-es/_toKey.js","../node_modules/lodash-es/_hasPath.js","../node_modules/lodash-es/_baseGet.js","../node_modules/lodash-es/_baseAssignValue.js","../node_modules/lodash-es/_assignValue.js","../node_modules/lodash-es/_baseSet.js","../node_modules/lodash-es/_apply.js","../node_modules/lodash-es/identity.js","../node_modules/lodash-es/_overRest.js","../node_modules/lodash-es/constant.js","../node_modules/lodash-es/_baseRest.js","../node_modules/lodash-es/_assignMergeValue.js","../node_modules/lodash-es/_cloneBuffer.js","../node_modules/lodash-es/_cloneArrayBuffer.js","../node_modules/lodash-es/_cloneTypedArray.js","../node_modules/lodash-es/_copyArray.js","../node_modules/lodash-es/_initCloneObject.js","../node_modules/lodash-es/isArrayLikeObject.js","../node_modules/lodash-es/isPlainObject.js","../node_modules/lodash-es/_copyObject.js","../node_modules/lodash-es/_nativeKeysIn.js","../node_modules/lodash-es/_baseKeysIn.js","../node_modules/lodash-es/keysIn.js","../node_modules/lodash-es/toPlainObject.js","../node_modules/lodash-es/_baseMergeDeep.js","../node_modules/lodash-es/_baseMerge.js","../node_modules/lodash-es/_customDefaultsMerge.js","../node_modules/lodash-es/_isIterateeCall.js","../src/tools/noop.js","../src/tools/is.js","../src/tools/getTreeSetting.js","../src/tools/mergeOptions.js","../src/chart/Chart.js","../src/tools/commonEventNames.js","../src/tools/resetScaleDomain.js","../src/tools/string.js","../src/util/extents.js","../src/chart/axesChart/SegmentBarChart.js","../src/chart/axesChart/IconArray.js","../src/tools/polar.js","../src/util/tween.js","../src/util/polarLabels.js","../src/util/polarLabelRotations.js","../src/util/dimension.js","../src/tools/transform.js","../src/tools/css.js","../src/util/needle.js","../src/chart/polarChart/RadarChart.js","../src/extension/AxisLabelWrap.js","../src/extension/AxisLabelTruncate.js","../src/extension/Label.js","../src/extension/SelectionRect.js","../src/util/axis.js","../src/util/resizeHandlers.js","package.js","../src/const/events.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/isArray.js","../node_modules/lodash-es/upperFirst.js","../node_modules/lodash-es/_createCaseFirst.js","../node_modules/lodash-es/_deburrLetter.js","../node_modules/lodash-es/_basePropertyOf.js","../node_modules/lodash-es/snakeCase.js","../node_modules/lodash-es/kebabCase.js","../node_modules/lodash-es/camelCase.js","../node_modules/lodash-es/_listCacheDelete.js","../node_modules/lodash-es/_listCacheClear.js","../node_modules/lodash-es/_listCacheGet.js","../node_modules/lodash-es/_listCacheHas.js","../node_modules/lodash-es/_listCacheSet.js","../node_modules/lodash-es/_coreJsData.js","../node_modules/lodash-es/_Map.js","../node_modules/lodash-es/_nativeCreate.js","../node_modules/lodash-es/_hashGet.js","../node_modules/lodash-es/_hashHas.js","../node_modules/lodash-es/_hashSet.js","../node_modules/lodash-es/_hashClear.js","../node_modules/lodash-es/_hashDelete.js","../node_modules/lodash-es/_mapCacheClear.js","../node_modules/lodash-es/_mapCacheDelete.js","../node_modules/lodash-es/_mapCacheGet.js","../node_modules/lodash-es/_mapCacheHas.js","../node_modules/lodash-es/_mapCacheSet.js","../node_modules/lodash-es/_stackSet.js","../node_modules/lodash-es/_stackClear.js","../node_modules/lodash-es/_stackDelete.js","../node_modules/lodash-es/_stackGet.js","../node_modules/lodash-es/_stackHas.js","../node_modules/lodash-es/_setCacheAdd.js","../node_modules/lodash-es/_setCacheHas.js","../node_modules/lodash-es/_Uint8Array.js","../node_modules/lodash-es/_getSymbols.js","../node_modules/lodash-es/stubArray.js","../node_modules/lodash-es/isArguments.js","../node_modules/lodash-es/isBuffer.js","../node_modules/lodash-es/stubFalse.js","../node_modules/lodash-es/_baseIsTypedArray.js","../node_modules/lodash-es/_nodeUtil.js","../node_modules/lodash-es/isTypedArray.js","../node_modules/lodash-es/_baseUnary.js","../node_modules/lodash-es/_nativeKeys.js","../node_modules/lodash-es/_DataView.js","../node_modules/lodash-es/_Promise.js","../node_modules/lodash-es/_Set.js","../node_modules/lodash-es/_WeakMap.js","../node_modules/lodash-es/_getTag.js","../node_modules/lodash-es/flattenDeep.js","../node_modules/lodash-es/_memoizeCapped.js","../node_modules/lodash-es/_stringToPath.js","../node_modules/lodash-es/_defineProperty.js","../node_modules/lodash-es/_baseSetToString.js","../node_modules/lodash-es/_shortOut.js","../node_modules/lodash-es/_setToString.js","../node_modules/lodash-es/_baseFor.js","../node_modules/lodash-es/_createBaseFor.js","../node_modules/lodash-es/_baseCreate.js","../node_modules/lodash-es/_getPrototype.js","../node_modules/lodash-es/mergeWith.js","../node_modules/lodash-es/_createAssigner.js","../src/external/lodash.js","../node_modules/lodash-es/defaultsDeep.js","../node_modules/lodash-es/set.js","../node_modules/lodash-es/get.js","../node_modules/lodash-es/has.js","../node_modules/lodash-es/isEqual.js","../src/const/undef.js","../src/support/MonteError.js","../src/support/InstanceGroup.js","../src/support/MonteOptionError.js","../src/const/d3.js","../src/util/transitionSettings.js","../src/support/EventWatcher.js","../src/support/MonteGlobal.js","../src/chart/axesChart/AxesChart.js","../src/chart/polarChart/PolarChart.js","../src/chart/axesChart/LineChart.js","../src/chart/axesChart/AreaChart.js","../src/chart/axesChart/SparklineChart.js","../src/chart/axesChart/BarChart.js","../src/chart/axesChart/HorizontalBarChart.js","../src/chart/axesChart/SimpleBarChart.js","../src/chart/axesChart/SimpleHorizontalBarChart.js","../src/chart/axesChart/HorizontalSegmentBarChart.js","../src/chart/axesChart/VerticalSpanChart.js","../src/chart/axesChart/HorizontalSpanChart.js","../src/chart/axesChart/ScatterPlotChart.js","../src/const/math.js","../src/chart/polarChart/ArcChart.js","../src/chart/polarChart/GaugeChart.js","../src/chart/polarChart/PolarAreaChart.js","../src/chart/polarChart/WedgeChart.js","../src/const/direction.js","../src/const/polar.js","../src/extension/Extension.js","../src/extension/Arc.js","../src/tools/invokeMany.js","../src/extension/AxisTickTransform.js","../src/extension/Crosshair.js","../src/extension/Frame.js","../src/extension/Grid.js","../src/extension/PolarGrid.js","../src/extension/PolarLine.js","../src/extension/PolarRotateLabel.js","../src/extension/PolarTicks.js","../src/extension/BarBg.js","../src/extension/ReferenceLine.js"],"sourcesContent":["/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nexport default castSlice;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nexport default hasUnicode;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nexport default asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nexport default unicodeToArray;\n","import asciiToArray from './_asciiToArray.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeToArray from './_unicodeToArray.js';\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nexport default stringToArray;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('déjà vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:(?:1st|2nd|3rd|(?![123])\\\\dth)\\\\b)',\n    rsOrdUpper = '\\\\d*(?:(?:1ST|2ND|3RD|(?![123])\\\\dTH)\\\\b)',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import toString from './toString.js';\nimport upperFirst from './upperFirst.js';\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nexport default capitalize;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nexport default baseHas;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = object[key],\n      srcValue = source[key],\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(object[key], srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","import baseMerge from './_baseMerge.js';\nimport isObject from './isObject.js';\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n * objects into destination objects that are passed thru.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, objValue);\n    baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n    stack['delete'](srcValue);\n  }\n  return objValue;\n}\n\nexport default customDefaultsMerge;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","export function noop() {}\n","import { UNDEF } from '../const/undef';\nimport { noop } from './noop';\n\nexport function isNumeric(v) {\n  return typeof v === 'number' && isFinite(v);\n}\n\nexport function isNumberLike(v) {\n  return isNumeric(v) || (isString(v) && isNumeric(+v));\n}\n\nexport function isString(v) {\n  return typeof v === 'string';\n}\n\nexport function isFunc(v) {\n  return typeof v === 'function';\n}\n\nexport function isNoop(v) {\n  return v === noop;\n}\n\nexport function isObject(v) {\n  return v !== null && typeof v === 'object' && !isArray(v);\n}\n\nexport function isArray(v) {\n  return Array.isArray(v);\n}\n\nexport function isDefined(v) {\n  return v !== null && v !== UNDEF;\n}\n\nexport function isFuncDefined(v) {\n  return isDefined(v) && isFunc(v) && !isNoop(v);\n}\n","import { get, has } from '../external/lodash';\n\n// A deep-first object property getter that falls back to parent and sibling levels if the expected\n// property is not present.\n//\n// For example on a generic 3-level object, attempts to access:\n//   (Primary)\n//   obj.levels[0].levels[1].levels[2].prop, then\n//   obj.levels[0].levels[1].prop, then\n//   obj.levels[0].prop, then\n//\n//   (Secondary)\n//   obj.levels[1].levels[2].prop, then\n//   obj.levels[2].prop, then\n//   obj.prop, then falls back to the\n//   defaultValue.\n//\n// More concretely if the object is transition settings, `level`s are 'line' and 'update', the\n// `property` is 'duration', and the `defaultValue` is 250 the attempts are:\n//   transitionSettings.line.update.duration,then\n//   transitionSettings.update.duration, then\n//   transitionSettings.duration, then\n//   defaultValue.\nexport function getTreeSetting(obj, levels, property, defaultValue) {\n  if (obj) {\n    // Primary chain (deep)\n    for (let i = levels.length - 1; i >= 0; i--) {\n      let propPath = levels.slice(0, i + 1).join('.');\n      if (propPath) { propPath += '.'; }\n      propPath += property;\n\n      if (has(obj, propPath)) {\n        return get(obj, propPath);\n      }\n    }\n\n    // Scondary chain (shallow and siblings)\n    for (let i = 0; i < levels.length; i++) {\n      let propPath = levels.slice(i + 1).join('.');\n      if (propPath) { propPath += '.'; }\n      propPath += property;\n\n      if (has(obj, propPath)) {\n        return get(obj, propPath);\n      }\n    }\n  }\n\n  return defaultValue;\n}\n","import { defaultsDeep } from '../external/lodash';\n\nclass OptionValueWrap {\n  constructor(value) {\n    this.value = value;\n  }\n}\n\nexport class ReplacePreceding extends OptionValueWrap {}\n\nfunction unpack(checkValue) {\n  return (checkValue instanceof OptionValueWrap) ?\n    checkValue.value :\n    checkValue;\n}\n\nfunction replaceCheck(checkValue) {\n  let out = null;\n\n  // Check arrays for values that clear proceeding values.\n  if (Array.isArray(checkValue)) {\n    let sliceIndex = -1;\n\n    // Look from right to left.\n    // _.forEachRight(checkValue, function(item, i) {\n    for (let i = checkValue.length - 1; i >= 0; i--) {\n      const item = checkValue[i];\n\n      if (item instanceof ReplacePreceding) {\n        sliceIndex = i;\n        break;\n      }\n    }\n\n    out = (sliceIndex !== -1) ?\n      checkValue.slice(sliceIndex) :\n      checkValue;\n\n    for (let i = 0; i < out.length; i++) {\n      out[i] = unpack(out[i]);\n    }\n  }\n\n  // Unpack any wrapped values.\n  else {\n    out = unpack(checkValue);\n  }\n\n  return out;\n}\n\nexport function mergeOptions(...options) {\n  const opts = defaultsDeep({}, ...options);\n\n  for (let prop in opts) {\n    if (opts.hasOwnProperty(prop)) {\n      opts[prop] = replaceCheck(opts[prop]);\n    }\n  }\n\n  return opts;\n}\n","import * as EV from '../const/events';\nimport { get as _get, set as _set, isEqual } from '../external/lodash';\nimport { isArray, isDefined, isFunc, isNumeric, isObject, isString } from '../tools/is';\nimport { InstanceGroup } from '../support/InstanceGroup';\nimport { MonteError } from '../support/MonteError';\nimport { MonteOptionError } from '../support/MonteOptionError';\nimport { UNDEF } from '../const/undef';\nimport { standard as defaultTransition } from '../util/transitionSettings';\nimport { getTreeSetting } from '../tools/getTreeSetting';\nimport { global } from '../support/MonteGlobal';\nimport { mergeOptions } from '../tools/mergeOptions';\nimport { noop } from '../tools/noop';\n\nconst CLIP_PATH_ID_BASE = 'drawPath';\n\nexport function chartClipPathId(chartId) {\n  const num = +chartId;\n\n  if (!isNumeric(num)) {\n    throw new MonteError('Cannot get chart clipPath ID. The chart ID must be numeric.');\n  }\n\n  return CLIP_PATH_ID_BASE + num;\n}\n\nexport function defaultDataKey(d, i) {\n  return (d && d.id) || i;\n}\n\nconst DEFAULTS = {\n  css: '',\n  boundingWidth: 250,\n  boundingHeight: 250,\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  },\n\n  customEvents: [],\n  extensions: [],\n\n  transition: defaultTransition,\n\n  resize: null,\n\n  // Data key for all draw layer and feature level selections in all charts.\n  dataKey: defaultDataKey,\n\n  /*************************************************************************************************\n   *\n   * Misc. options\n   *\n   ************************************************************************************************/\n\n  // When a `clear` occurs (by direct invocation or via `data` (without an update)) the domain is\n  // automatically reset.\n  autoResetStyleDomains: false,\n\n  // Indicates that the chart base is being used directly in a client script chart (an \"on the\n  // fly\" chart). The assumption is most of the time other classes will extend and implement\n  // required features (such as '_update') and the checks for those features should be enforced.\n  directUse: false,\n\n  developerOptions: {\n    scales: false,  // Log generated scale accessor details\n    transitions: false, // Log transition configuration details\n    listeners: false, // Log which event listeners are setup during developer mode\n  },\n};\n\n/*\n  Data Format:\n\n  Single Line Format\n  {\n    values: [{ x: <date>, y: 300 }, { x: <date>, y: 500 }, { x: <date>, y: 600 }],\n    css: 'fill brand-blue',\n  }\n\n  Multiple lines\n  [<single line format>, <single line format>, ...]\n\n */\n\nexport class Chart {\n  constructor(parentSelector, options, data) { // eslint-disable-line max-statements\n    this._constructed = false;\n    this._optsSet = false;\n    this.hasRendered = false;\n    this.layers = [];\n    this.extensions = [];\n    this._optionReaderCache = {};\n    this.__chartId = global.getNextChartId();\n    this.parentSelector = parentSelector;\n\n    // Configure the data options.\n    this._initOptions(options);\n\n    // Setup the Public events.\n    this._initPublicEvents(\n      ...EV.INTERACTION_EVENTS,\n      ...EV.CHART_SUPPORT_EVENTS,\n      ...EV.CHART_LIFECYCLE_EVENTS,\n\n      // Custom events provided by the user\n      ...this.opts.customEvents);\n\n    // Put chart in developer mode if opted into on a chart or global basis\n    if (this.opts.developerMode || global.isDeveloperMode()) { this._initDeveloperMode(); }\n\n    // Setup the core infastructure.\n    this._initCore();\n\n    // Customize configuration\n    this._initCustomize();\n\n    // Update the bounding box and layout basics.\n    this._boundsUpdate();\n\n    // Bind initial extensions to this chart instance.\n    this._bindExt(this.tryInvoke(this.opts.extensions));\n\n    // Do the various setup rendering (Axis, BG, etc...)\n    this._initRender();\n\n    this._constructed = true;\n\n    // Trigger a resize if everything is ready.\n    if (this._resizeHandler && global.getResizeWatcher().documentReady) { this._resizeHandler(); }\n\n    // First full draw cycle\n    if (data) { this.data(data); }\n  }\n\n  getChartId() {\n    return this.__chartId;\n  }\n\n  _getChartAttr() {\n    return `monte-chart-${this.getChartId()}`; // ID is stored on the element as an attribute.\n  }\n\n  _initOptions(...options) {\n    this.opts = {};\n    const opts = mergeOptions(...options, DEFAULTS);\n    for (let key in opts) {\n      if (opts.hasOwnProperty(key)) {\n        this.option(key, opts[key]);\n      }\n    }\n\n    this._optsSet = true;\n  }\n\n  // Intialize the vis.\n  _initCore() {\n    // Create SVG element and drawing area setup\n    const parent = d3.select(this.parentSelector); // TODO: Allow parent to be a D3 Selection?\n\n    if (parent.node() === null) {\n      throw new MonteError(`Invalid selector. \"${this.parentSelector}\" did not match any element.\"`);\n    }\n    else if (parent.node().tagName.toLowerCase() === 'svg') {\n      this.bound = parent;\n    }\n    else {\n      this.bound = parent.append('svg');\n    }\n\n    this.bound.attr(this._getChartAttr(), '');\n\n    // Add reference of chart to the node for flexibility of access.\n    this.bound.node().monteChart = this;\n    this.bound.classed(this._buildCss(['monte-chart', this.opts.css, this.opts.chartCss]), true);\n\n    // SVG Defs element\n    this.defs = this.bound.append('defs');\n\n    // Drawing area path clipping\n    this.clip = this.defs.append('clipPath').attr('id', chartClipPathId(this.getChartId()));\n    this.clipRect = this.clip.append('rect').attr('x', 0).attr('y', 0);\n\n    this._initLayers();\n\n    const chart = this;\n\n    // Setup interaction events for the overall chart.\n    EV.INTERACTION_EVENTS.forEach((ev) => {\n      this.bound.on(ev, function(...args) { chart.__notify(ev, this, ...args); });\n    });\n\n    // Bind resize function if given.\n    const resizer = this.tryInvoke(this.opts.resize);\n    if (resizer) {\n      this._resizeHandler = resizer.resize.bind(resizer, this);\n      global.getResizeWatcher().add(this._resizeHandler);\n    }\n  }\n\n  _initLayers() {\n    // Create a background area.\n    this.addLayer('bg');\n\n    // Create the support area.\n    this.addLayer('support');\n\n    // Create the selection area.\n    this.addLayer('selection');\n\n    // Create the primary drawing area.\n    this.addLayer('draw');\n\n    // Create the overlay area.\n    this.addLayer('overlay');\n  }\n\n  _initPublicEvents(...events) {\n    this._events = events;\n    this.dispatch = d3.dispatch(...events);\n  }\n\n  // TODO: Allow enabling/disabling of developerMode from `option`.\n  _initDeveloperMode() {\n    const echo = (eventName, ...args) => {\n      let a = '(no arguments)';\n\n      if (args && args.length > 0) {\n        a = '\\n';\n\n        args.forEach((v, i) => {\n          if (isDefined(v)) {\n            const s = isFunc(v) ? `func: '${v.name || 'anonymous'}'` : v;\n            a += `\\t${i}: ${s}\\n`;\n          }\n        });\n      }\n\n      console.log(`[${this}] \"${eventName}\": ${a}`); // eslint-disable-line no-console\n    };\n\n    this.developerMode = true;\n\n    // Determine events to watch in developer mode. If `developerMode` is an array use the provided\n    // events; otherwise use all registered events.\n    const events = (isArray(this.opts.developerMode) || global.getDeveloperModeEvents()) ?\n      (this.opts.developerMode || global.getDeveloperModeEvents()) :\n      this._events;\n\n    events.forEach((eventName) => {\n      if (this.opts.developerOptions.listeners) {\n        console.log(`[${this}] Adding listener for \"${eventName}\"`); // eslint-disable-line no-console\n      }\n\n      this.on(`${eventName}.developerMode`, echo.bind(this, eventName));\n    });\n  }\n\n  _initCustomize() {}\n\n  _initRender() {}\n\n  _boundsUpdate(suppressNotify=false, suppressUpdate=false) {\n    this.__notify(EV.BEFORE_BOUNDS_UPDATE);\n\n    // Margin Convention and calculate drawing area size\n    this.margin = this.opts.margin;\n    this.width = this.opts.boundingWidth - this.margin.left - this.margin.right;\n    this.height = this.opts.boundingHeight - this.margin.top - this.margin.bottom;\n\n    // Apply margins to layers\n    this.layers.forEach((l) => l.attr('transform', this._getLayerTranslate()));\n\n    // Update sizing attributes\n    if (this.bound) {\n      this.bound.attr('width', this.opts.boundingWidthAttr || this.opts.boundingWidth)\n        .attr('height', this.opts.boundingHeightAttr || this.opts.boundingHeight);\n    }\n\n    // Update drawing clip\n    if (this.clipRect) {\n      this.clipRect.attr('width', this.width)\n        .attr('height', this.height);\n    }\n\n    const notify = () => { if (this._constructed) { this.__notify(EV.BOUNDS_UPDATED); } };\n    const update = () => { if (this.hasRendered) { this.update(); } };\n\n    if (!suppressNotify) { notify(); }\n    if (!suppressUpdate) { update(); }\n\n    return {\n      notify,\n      update,\n    };\n  }\n\n  /*\n   * Manually invoke the resize strategy (if any).\n   *\n   * @Chainable\n   */\n  checkSize() {\n    if (this._resizeHandler) {\n      this._resizeHandler();\n    }\n\n    return this;\n  }\n\n  destroy() {\n    this.__notify(EV.BEFORE_DESTROY);\n\n    if (this._resizeHandler) {\n      global.getResizeWatcher().remove(this._resizeHandler);\n    }\n\n    this._destroy();\n\n    // Handle case where parentSelector and bound are the same and only remove internal elements.\n    if (this.bound.node() === d3.select(this.parentSelector).node()) {\n      this.bound.node().innerHTML = '';\n    }\n    else {\n      this.bound.remove();\n    }\n\n    this.__notify(EV.DESTROYED);\n  }\n\n  _destroy() {}\n\n  /*\n   * Adds a layer to the chart. The layer is the top most by default.\n   *\n   * @Chainable\n   */\n  addLayer(layerName, elementType = 'g') {\n    const layer = this.bound.append(elementType).attr('class', `monte-${layerName}`);\n\n    this[layerName] = layer;\n    this.layers.push(layer);\n\n    return this;\n  }\n\n  /*\n   * Makes a layer use a defined `clipPath`.\n   *\n   * @Chainable\n   */\n  layerUseClipPath(layerName, pathId) {\n    if (!isDefined(pathId)) {\n      pathId = chartClipPathId(this.getChartId());\n    }\n\n    this[layerName].attr('clip-path', `url(#${pathId})`);\n\n    return this;\n  }\n\n  _getLayerTranslate() { return `translate(${this.margin.left}, ${this.margin.top})`; }\n\n  /**\n   * Sets the external dimensions on the SVG element.\n   *\n   * @Chainable\n   */\n  boundingRect(width, height) {\n    if (arguments.length === 0) {\n      return [this.opts.boundingWidth, this.opts.boundingHeight];\n    }\n\n    if (arguments.length >= 1 && isDefined(width)) {\n      const minWidth = this.option('margin.left') + this.option('margin.right');\n      if (width < minWidth) { width = minWidth; }\n      this.opts.boundingWidth = width;\n    }\n\n    if (arguments.length === 2 && isDefined(height)) {\n      const minHeight = this.option('margin.top') + this.option('margin.bottom');\n      if (height < minHeight) { height = minHeight; }\n      this.opts.boundingHeight = height;\n    }\n\n    this._boundsUpdate();\n    this.update();\n\n    return this;\n  }\n\n  /**\n   * Binds an event to a given `callback`. If no `callback` is provided it returns the callback.\n   * Passing null removes the callback.\n   *\n   * See https://github.com/d3/d3-dispatch#dispatch_on\n   *\n   * @Chainable <setter>\n   */\n  on(typenames, callback) {\n    if (arguments.length < 2) {\n      return this.dispatch.on(typenames);\n    }\n\n    this.dispatch.on(typenames, callback);\n    return this;\n  }\n\n  /**\n   * Binds an extension event (filtered by `eventLead`) to a given `callback`. The `eventLead` is a\n   * string that matches the *beginning* of the extention specific event name including prefix.\n   *\n   * For example, to match all SelectionRect events (including updated, rendered, etc...) use\n   * 'selectionrect:'; to match all selection events to match only selection events (including\n   * selectionStart, selectionMove, etc...) use 'selectionrect:selection'; to match the changed\n   * event use 'selectionrect:selectionChanged'.\n   *\n   * @Chainable <setter>\n   */\n  onExt(eventLead, callback) {\n    if (arguments.length < 2) {\n      return this.on(eventLead);\n    }\n\n    const typename = `extension.${eventLead}`;\n    if (callback === null) {\n      this.on(typename, null);\n    }\n    else {\n      this.on(typename, function(ev, ...args) {\n        if (ev.indexOf(eventLead) === 0) {\n          callback.call(this, ev, ...args);\n        }\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Force the triggering of an event with the given arguments. The `on` callbacks are invoked in\n   * the context of the chart.\n   *\n   * Uses:\n   *  + Trigger event for listeners as needed such as force an extension to update.\n   *\n   * @Chainable\n   */\n  emit(eventName, ...args) {\n    if (!eventName) {\n      return;\n    }\n    else if (!this.dispatch._[eventName]) {\n      // Check that dispatch has a registered event\n      const msg = `Unknown event ${eventName}. Double check the spelling or register the event. Custom events must registered at chart creation.`;\n      throw new MonteError(msg);\n    }\n\n    this.__notify(eventName, ...args);\n\n    return this;\n  }\n\n  /**\n   * Get or set a chart option.\n   *\n   * NOTE: Does not invoke the \"Update cycle\" except for margin changes. To apply option changes\n   *       call `update`.\n   *\n   * @Chainable\n   */\n  option(key, value) {\n    const current = _get(this.opts, key);\n\n    if (value === UNDEF) {\n      return current;\n    }\n\n    if (this._optsSet) {\n      this.__notify(EV.BEFORE_OPTION_CHANGE, key);\n    }\n\n    _set(this.opts, key, value);\n\n    const updateBounds = this.__handleMarginOptions(key, value, current);\n    if (this._optsSet) {\n      // Margins affect the drawing area size so various updates are required.\n      if (updateBounds) {\n        this._boundsUpdate();\n      }\n\n      this.__notify(EV.OPTION_CHANGED, key);\n    }\n\n    return this;\n  }\n\n  /**\n   * Provides extra checks for margin related options and checks if they should modify the bounds\n   * calculations of the chart.\n   */\n  __handleMarginOptions(key, value, current) {\n    let updateBounds = false;\n\n    // Margins cause changes to the internal sizes.\n    // If the new margin values match the old margin values do not update bounds. This will help\n    // prevent an infinite loop if the margin is adjusted in the update cycle.\n    if (key === 'margin') {\n      if (!isObject(value)) {\n        const newVal = { top: value, left: value, right: value, bottom: value };\n\n        if (!isEqual(current, newVal)) {\n          this.opts.margin = newVal;\n          updateBounds = true;\n        }\n      }\n      else if (!isEqual(current, value)) {\n        updateBounds = true;\n      }\n    }\n\n    // Check if key is a 'deep' margin value (ex. 'margin.left')\n    else if (/^margin\\./.test(key) && current !== value) {\n      updateBounds = true;\n    }\n\n    return updateBounds;\n  }\n\n  /**\n   * Generates a function (or uses and existing one from cache) for a given option property. The\n   * generated function attempts to access the property (uses `tryInvoke`). If the property is a\n   * function it invokes the function with all parameters passed at the time on invocation.\n   *\n   * Generally this is good allowing D3 Selection chain methods (`attr`, `style`, etc...) to\n   * directly read chart options.\n   *\n   * For example:\n   *  `.attr('fill', (d, i, nodes) => this.tryInvoke(this.opts.fillScaleAccessor, d, i, nodes))`\n   * is equivalent to\n   *  `.attr('fill', this.optionReaderFunc('fillScaleAccessor')')`\n   */\n  optionReaderFunc(optionKey) {\n    if (!isString(optionKey)) {\n      throw MonteError.InvalidArgumentType('optionReaderFunc', 'optionKey', 'string', optionKey);\n    }\n\n    if (!this._optionReaderCache[optionKey]) {\n      this._optionReaderCache[optionKey] = (...args) =>\n        this.tryInvoke(this.opts[optionKey], ...args);\n    }\n\n    return this._optionReaderCache[optionKey];\n  }\n\n  /**\n   * Invoke a `value` (generally from the chart options) with the given arguments. Static values\n   * are returned directly.\n   */\n  tryInvoke(value, ...args) {\n    if (value === null) {\n      return null;\n    }\n    else if (value === UNDEF) {\n      throw new MonteOptionError('Value not initialized.');\n    }\n\n    try {\n      return isFunc(value) ? value.call(this, ...args) : value;\n    }\n    catch (e) {\n      if (console && console.error) { console.error(e); } // eslint-disable-line no-console\n      this.__notify(EV.SUPPRESSED_ERROR, e);\n      return null;\n    }\n  }\n\n  /**\n   * Invoke a function (`fn`) (generally from the chart options) with the given arguments. If the\n   * `fn` is a non-function value (static values including undefined and null) then null is returned.\n   */\n  fnInvoke(fn, ...args) {\n    if (fn == null || !isFunc(fn)) {\n      return null;\n    }\n\n    try {\n      return fn.call(this, ...args);\n    }\n    catch (e) {\n      this.__notify(EV.SUPPRESSED_ERROR, e);\n      return null;\n    }\n  }\n\n  /**\n   * Gets the object key bound to the property of a datum.\n   */\n  getPropKey(propShortName) {\n    const propFullName = `${propShortName}Prop`;\n\n    if (this.opts[propFullName]) {\n      return this.opts[propFullName];\n    }\n    else if (this.opts[propShortName]) {\n      const propIndex = propShortName.indexOf('Prop');\n\n      if (propIndex > -1) {\n        const expected = propShortName.substring(0, propIndex);\n        throw new MonteError(`Property options should be accessed using short names without the \"Prop\" suffix. Given ${propShortName}, but expected ${expected}.`);\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Reads a property from a datum and returns the raw (unscaled) value.\n   */\n  getProp(propShortName, d, defaultValue=null) {\n    const dataPropName = this.getPropKey(propShortName);\n\n    if (dataPropName) {\n      return d[dataPropName];\n    }\n\n    return defaultValue;\n  }\n\n  /**\n   * Reads a scale bound property from a datum and returns the scaled value.\n   *\n   * Examples:\n   *   `this.getScaledProp('x', d);` which is equivilent to `this.getScaledProp('x', 'x', d);`\n   *   `this.getScaledProp('x', 'xInner', d);`\n   *   `this.getScaledProp('y', 'y2', d)`;\n   *\n   * @param {string} scaleName The scale used for scaling\n   * @param {string} [propPrefix=<scaleName>] The property to be scaled. Defaults to the scale's property.\n   * @param {any}    datum The data to scale.\n   */\n  getScaledProp(scaleName, propPrefix, datum) {\n    let val;\n    let propPre;\n    let d;\n\n    if (arguments.length === 2) {\n      propPre = scaleName;\n      d = propPrefix;\n    }\n    else if (arguments.length === 3) {\n      propPre = propPrefix;\n      d = datum;\n    }\n    else {\n      throw new MonteError(`Incorrect number of arguments. Expected 2 or 3 recieved ${arguments.length}`);\n    }\n\n    const scale = _get(this, scaleName);\n    if (!scale) {\n      throw new MonteError(`Scale \"${scaleName}\" is not defined.`);\n    }\n    else if (scale === noop) {\n      // A noop function means no possible return value.\n      return UNDEF;\n    }\n    else if (!isFunc(scale)) {\n      // Treat scale like a static value (likely string or number) and return early.\n      return scale;\n    }\n    else if (isObject(d)) {\n      // Assume `d` is a datum related to the chart data.\n      val = d[this.opts[`${propPre}Prop`]];\n    }\n    else {\n      // Assume `d` is a value the scale can process.\n      val = d;\n    }\n\n    return scale(val);\n  }\n\n  /**\n   * Remove the data, remove the data elements, and clear the CSS domains.\n   *\n   * @Chainable\n   */\n  clear() {\n    this.__notify(EV.BEFORE_CLEAR);\n\n    this.displayData = null;\n    this._clearDataElements();\n\n    if (this.opts.autoResetStyleDomains) { this.resetStyleDomains(); }\n\n    this.__notify(EV.CLEARED);\n    return this;\n  }\n\n  /**\n   * Internal implementation of the `clear` method.\n   */\n  _clearDataElements() {}\n\n  /**\n   * Resets domains related to CSS scales.\n   *\n   * @Chainable\n   */\n  resetStyleDomains() {\n    this.__notify(EV.BEFORE_STYLE_DOMAINS_RESET);\n    this._resetStyleDomains();\n    this.__notify(EV.STYLE_DOMAINS_RESET);\n\n    return this;\n  }\n\n  /**\n   * Internal implementation of the `resetStyleDomains` method.\n   */\n  _resetStyleDomains() {}\n\n  /**\n   * Builds a string of class names to insert into a `class` attribute on a DOM element (typically\n   * SVG). The strings are inidividual class names and *not* selectors (no `.` or compound class\n   * names).\n   *\n   * @param {array} cssSources The sources (strings or functions) for inidividual class names.\n   * @param {object} d The datum to pass to function sources.\n   * @param {object} i The node index to pass to function sources.\n   * @param {array} nodes The node list to pass to function sources.\n   */\n  _buildCss(cssSources, d, i, nodes) {\n    const cssClasses = [];\n    const sources = Array.isArray(cssSources) ? cssSources : [cssSources];\n\n    sources.forEach((source) => {\n      if (isDefined(source)) {\n        cssClasses.push(this.tryInvoke(source, d, i, nodes));\n      }\n    });\n\n    return cssClasses.join(' ').replace(/\\s+/, ' ');\n  }\n\n  /**\n   * Apply the transition settings (duration, delay, and ease). Attempt to match specfic settings\n   * based on the provided levels.\n   *\n   * For example given the levels `['line', 'update']` the transition settings will first be read:\n   * + `transitionSettings.line.update.<property>` then\n   * + `transitionSettings.update.<property>` then\n   * + `transitionSettings.<property>` then\n   * + `<propertDefaultValue>`\n   *\n   * @param {...string} levels The transition depths to load settings for.\n   */\n  _transitionSetup(...levels) {\n    return (transition, ...args) => {\n      const { duration, delay, ease } = this._transitionSettings(...levels);\n\n      this._transitionConfigureDuration(transition, duration, ...args);\n      this._transitionConfigureDelay(transition, delay, ...args);\n      transition.ease(ease);\n    };\n  }\n\n  _transitionConfigureDuration(transition, duration, ...args) {\n    let durationWrap = null;\n\n    if (isFunc(duration) && args && args.length) {\n      durationWrap = function(d, i, nodes) {\n        return duration(d, i, nodes, ...args);\n      };\n    }\n\n    transition.duration(durationWrap || duration);\n  }\n\n  _transitionConfigureDelay(transition, delay, ...args) {\n    let delayWrap = null;\n\n    if (isFunc(delay) && args && args.length) {\n      delayWrap = function(d, i, nodes) {\n        return delay(d, i, nodes, ...args);\n      };\n    }\n\n    transition.delay(delayWrap || delay);\n  }\n\n  _transitionConfigure(transition, transitionSettings, d, i, nodes, ...args) {\n    const { duration, delay, ease } = transitionSettings;\n\n    transition.duration(this.tryInvoke(duration, d, i, nodes, ...args))\n      .delay(this.tryInvoke(delay, d, i, nodes, ...args))\n      .ease(ease);\n  }\n\n  _transitionSettings(...levels) {\n    const transitionSettings = this.tryInvoke(this.opts.transition);\n    const duration = getTreeSetting(transitionSettings, levels, 'duration', defaultTransition.duration);\n    const delay = getTreeSetting(transitionSettings, levels, 'delay', defaultTransition.delay);\n    const ease = getTreeSetting(transitionSettings, levels, 'ease', defaultTransition.ease);\n\n    if (this.developerMode && this.opts.developerOptions.transitions) {\n      console.log('Transition: ' + levels.join('.')); // eslint-disable-line no-console\n      console.log({ levels: levels, duration, delay, ease }); // eslint-disable-line no-console\n    }\n\n    return { duration, delay, ease };\n  }\n\n  /**\n   * Get / set an attribute of the bounding element.\n   *\n   * A convenience method that is roughly equivalent to `<chart>.bound.attr(<name>, <value>)`,\n   * but returns the chart instead of the `<chart>.bound` selection.\n   *\n   * @Chainable <setter>\n   */\n  attr(name, value) {\n    if (value === UNDEF) {\n      return this.bound.attr(name);\n    }\n\n    this.bound.attr(name, value);\n\n    return this;\n  }\n\n  /**\n   * Get / set a style of the bounding element.\n   *\n   * A convenience method that is roughly equivalent to `<chart>.bound.style(<name>, <value>)`,\n   * but returns the chart instead of the `<chart>.bound` selection.\n   *\n   * @Chainable <setter>\n   */\n  style(name, value) {\n    if (value === UNDEF) {\n      return this.bound.style(name);\n    }\n\n    this.bound.style(name, value);\n\n    return this;\n  }\n\n  /**\n   * Set the CSS classes on the SVG element.\n   *\n   * A convenience method that is roughly equivalent to `<chart>.bound.classed(<names>, <value>)`,\n   * but returns the chart instead of the `<chart>.bound` selection.\n   *\n   * @Chainable\n   */\n  classed(...args) {\n    this.bound.classed(...args);\n\n    return this;\n  }\n\n  /**\n   * Invokes a function in the context of the chart with the given arguments.\n   *\n   * @Chainable\n   */\n  call(f, ...args) {\n    f.call(this, ...args);\n\n    return this;\n  }\n\n  /**\n   * Update the existing data of the chart to display and trigger the \"Update cycle\".\n   *\n   * @Chainable\n   */\n  updateData(data) {\n    this.data(data, true);\n\n    return this;\n  }\n\n  /**\n   * Set the data for the chart to display and trigger the \"Update cycle\".\n   *\n   * @Chainable <setter>\n   */\n  data(data, isUpdate=false, suppressUpdate=false) {\n    if (data === UNDEF) {\n      // No data to assign return the current data.\n      return this.displayData;\n    }\n\n    if (!isUpdate) { this.clear(); }\n    this._data(data);\n    if (!suppressUpdate) { this.update(); }\n\n    return this;\n  }\n\n  /**\n   * Internal method to manage assignment of data.\n   */\n  _data(data) {\n    this.displayData = data;\n  }\n\n  /**\n   * Gets the original data if the chart modified the structure; otherwise returns the same as\n   * `<chart>.data()`;\n   */\n  getRawData() {\n    // TODO: When assigning data make sure new data is a deep copy.\n    if (this.rawData) {\n      return this.rawData;\n    }\n\n    return this.displayData;\n  }\n\n  /**\n   * Add an extension instance to the chart instance.\n   *\n   * @Chainable\n   */\n  addExt(...exts) {\n    this._bindExt(exts);\n\n    return this;\n  }\n\n  /**\n   * Binds a given extension instance to the chart instance.\n   */\n  _bindExt(exts) {\n    exts.forEach((ext) => {\n      if (ext.opts.binding) {\n        ext.setChart(this);\n        this.extensions.push(ext);\n      }\n      else {\n        this.__notify(EV.SUPPRESSED_ERROR, 'Extensions must have the `binding` option specified.');\n      }\n    });\n  }\n\n  /**\n   * Invokes all extensions \"Update Cycle\" if bound to the given event (binding) name.\n   */\n  __updateExt(bindingName, ...extArgs) {\n    this.extensions.forEach((ext) => {\n      if (ext.opts.binding.indexOf(bindingName) > -1) { ext.fire(bindingName, ...extArgs); }\n    });\n  }\n\n  /**\n   * Replaces one scale with another. The new scale `range` and `domain` are set to match the\n   * previous scale.\n   *\n   * For example: changing between a linear and logarithmic scale to allow users to identify trends.\n   *\n   * @Chainable\n   */\n  replaceScale(scaleName, newScaleConstructor) {\n    const scale = newScaleConstructor();\n    scale.range(this[scaleName].range())\n      .domain(this[scaleName].domain());\n    this[scaleName] = scale;\n    this.update();\n\n    return this;\n  }\n\n  /**\n   * (Re)renders the chart by invoking the \"Update cycle\" which is consistent with the D3\n   * \"Enter-Update-Exit\" pattern.\n   *\n   * @Chainable\n   */\n  update() {\n    if (!this.data()) { return this; } // Don't allow update if data has not been set.\n\n    if (!this.hasRendered) {\n      this.__notify(EV.BEFORE_RENDER);\n      this._render();\n      this.hasRendered = true;\n      this.__notify(EV.RENDERED);\n    }\n\n    this.__notify(EV.BEFORE_UPDATE);\n    this._update();\n    this.__notify(EV.UPDATED);\n\n    return this;\n  }\n\n  /**\n   * A specific chart's one-time only setup drawing pass.\n   */\n  _render() {}\n\n  /**\n   * A specific chart's implementation of the \"Update cycle\"\n   */\n  _update() {\n    if (!this.opts.directUse) {\n      throw MonteError.UnimplementedMethod('Update', '_update');\n    }\n  }\n\n  /**\n   * Generates a function to bind the \"common\" element events to an event handler.\n   */\n  __bindCommonEvents(lead) {\n    const chart = this;\n\n    return function(sel) {\n      EV.INTERACTION_EVENTS.forEach((ev) =>\n        sel.on(ev, (d, i, nodes) => chart.__elemEvent(ev, `${lead}:${ev}`, d, i, nodes)));\n    };\n  }\n\n  /**\n   * Notify all listeners, extensions and those bound through `on`, of an event.\n   * Using notify ensures that extensions are notified before outside listeners are.\n   */\n  __notify(eventName, ...args) {\n    this.__updateExt(eventName, ...args);\n    this.dispatch.call(eventName, this, ...args);\n  }\n\n  /**\n   * Handles an event generated through element interaction (i.e. click, mouseover, etc...).\n   */\n  __elemEvent(eventType, eventNameFull, d, i, nodes) {\n    const node = nodes[i];\n    const cssAction = EV.INTERACTION_EVENT_CSS_MAP[eventType];\n\n    if (cssAction) {\n      if (cssAction.action === 'add') {\n        d3.select(node).classed(cssAction.css, true);\n      }\n      else if (cssAction.action === 'remove') {\n        d3.select(node).classed(cssAction.css, false);\n      }\n    }\n\n    this.__notify(eventNameFull, d, i, nodes);\n  }\n\n  /**\n   * Give the chart type name as the identifier.\n   */\n  toString() {\n    return this.constructor.name;\n  }\n\n  static generateScaleAccessor(scaleName, propPrefix) {\n    if (propPrefix) {\n      return function(d) {\n        const scalePath = `opts.${scaleName}`;\n        const v = this.getScaledProp(scalePath, propPrefix, d);\n\n        if (this.developerMode && this.opts.developerOptions.scales && v !== UNDEF) {\n          console.log(scalePath, v); // eslint-disable-line no-console\n        }\n\n        return v;\n      };\n    }\n\n    // If the `propPrefix` is blank than default to index counting.\n    return function(d, i) {\n      const v = _get(this, `opts.${scaleName}`)(i);\n\n      if (this.developerMode) {\n        console.log(v); // eslint-disable-line no-console\n      }\n\n      return v;\n    };\n  }\n\n  static createInstanceGroup(charts, ...additionalMethodsToProxy) {\n    return new InstanceGroup(charts, GROUP_PROXY_METHODS, additionalMethodsToProxy);\n  }\n}\n\n// The public methods from the base chart available for use in `ChartGroup`.\nexport const GROUP_PROXY_METHODS = [\n  'addExt', 'addLayer', 'boundingRect', 'call', 'checkSize', 'classed', 'clear', 'data', 'emit',\n  'layerUseClipPath', 'on', 'option', 'replaceScale', 'resetStyleDomains', 'update', 'updateData',\n];\n","import { INTERACTION_EVENTS } from '../const/events';\n\nexport function commonEventNames(...leads) {\n  const names = [];\n\n  for (let i = 0; i < leads.length; i++) {\n    const lead = leads[i];\n\n    for (const eventName of INTERACTION_EVENTS) {\n      names.push(`${lead}:${eventName}`);\n    }\n  }\n\n  return names;\n}\n","// Clears the domain of a given scale.\nexport function resetScaleDomain(scale) {\n  if (scale && scale.domain) { scale.domain([]); }\n}\n","import { camelCase, kebabCase, snakeCase, upperFirst } from '../external/lodash';\nexport { camelCase, kebabCase, snakeCase, upperFirst };\n\nexport function pascalCase(str) {\n  return upperFirst(camelCase(str));\n}\n","// Create an extent that begins at zero and extends to the max value.\nexport function extentFromZero(extent) {\n  return [0, extent[1]];\n}\n\n// Create an extent that chooses the maximum using absolute value and\nexport function extentBalanced(extent) {\n  const min = extent[0];\n  const max = extent[1];\n\n  if (min >= 0) {\n    return [0, max];\n  }\n  else if (min < 0 && max < 0) {\n    return [min, 0];\n  }\n\n  const absMin = Math.abs(min);\n  const absMax = Math.abs(max);\n  const extreme = absMax > absMin ? absMax : absMin;\n\n  return [-extreme, extreme];\n}\n\n// Create a fixed extent from zero to a given `max`.\nexport function extentGeneratorZeroToMax(max) {\n  return function() {\n    return [0, max];\n  };\n}\n\n// Offset at each end of the extent by an absolute value.\nexport function extentGeneratorValueOffset(minOffset, maxOffset) {\n  if (maxOffset == null) { maxOffset = minOffset; }\n\n  return function(extent) {\n    return [extent[0] - minOffset, extent[1] + maxOffset];\n  };\n}\n\n// Offset by % of total value range.\nexport function extentGeneratorPercentOffset(percent) {\n  return function(extent) {\n    const adjust = Math.abs(extent[1] - extent[0]) * percent;\n\n    return [extent[0] - adjust, extent[1] + adjust];\n  };\n}\n","import { ENTER, EXIT, UPDATE } from '../../const/d3';\nimport { AxesChart } from './AxesChart';\nimport { MonteOptionError } from '../../support/MonteOptionError';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { defaultDataKey } from '../Chart';\nimport { extentBalanced } from '../../util/extents';\nimport { noop } from '../../tools/noop';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\n\nexport const SEGMENT_BAR_MODE = {\n  GROUPED: 'grouped',\n  STACKED: 'stacked',\n};\n\nexport const SEGMENT_BAR_MODE_CSS_MAP = {\n  [SEGMENT_BAR_MODE.GROUPED]: 'monte-segment-mode-grouped',\n  [SEGMENT_BAR_MODE.STACKED]: 'monte-segment-mode-stacked',\n};\n\nconst EVENT_MODE_CHANGING = 'modeChanging';\nconst EVENT_MODE_CHANGED = 'modeChanged';\nconst EVENTS = [EVENT_MODE_CHANGING, EVENT_MODE_CHANGED];\n\nconst BARSEG = 'barseg';\nconst BARGRP = 'bargrp';\nconst LABEL = 'label';\n\nconst SEGMENT_BAR_CHART_DEFAULTS = {\n  chartCss: 'monte-segment-bar-chart',\n  barSegmentCss: 'bar-segment',\n\n  margin: {\n    top: 10,\n    right: 0,\n    bottom: 30,\n    left: 40,\n  },\n\n  segmentBarMode: SEGMENT_BAR_MODE.STACKED,\n\n  xProp: 'id',\n  yProp: 'values',\n  xInnerProp: 'id',\n  yInnerProp: 'value',\n\n  xInnerScale: function() {\n    return d3.scaleBand().paddingInner(0.1).paddingOuter(0.1).round(true);\n  },\n\n  barSegCssScale: noop,\n  barSegCssScaleAccessor: AxesChart.generateScaleAccessor('barSegCssScale', 'x'),\n  barSegFillScale: noop,\n  barSegFillScaleAccessor: AxesChart.generateScaleAccessor('barSegFillScale', 'x'),\n\n  xScale: function() {\n    return d3.scaleBand().paddingInner(0.1).round(true);\n  },\n\n  yDomainCustomize: extentBalanced,\n\n  includeLabels: false,\n\n  labelProp: 'value',\n  labelFillScale: noop,\n  labelFillScaleAccessor: AxesChart.generateScaleAccessor('labelFillScale', 'label'),\n  label: function(d) {\n    return this.getProp('label', d);\n  },\n  labelXAdjust: '',\n  labelX: function(d) {\n    const mode = this.option('segmentBarMode');\n\n    if (mode === SEGMENT_BAR_MODE.STACKED) {\n      return this.x.bandwidth() / 2;\n    }\n    else if (mode === SEGMENT_BAR_MODE.GROUPED) {\n      return this._barXInnerGrouped(d) + this.xInner.bandwidth() / 2;\n    }\n  },\n  labelYAdjust: '1.05em',\n  labelY: function(d, i, nodes, allNodes) {\n    const mode = this.option('segmentBarMode');\n\n    if (mode === SEGMENT_BAR_MODE.STACKED) {\n      return this._barYInnerStacked(d, i, nodes, allNodes);\n    }\n    else if (mode === SEGMENT_BAR_MODE.GROUPED) {\n      return this._barYInnerGrouped(d);\n    }\n  },\n\n  innerDataKey: defaultDataKey,\n};\n\nexport class SegmentBarChart extends AxesChart {\n  _initOptions(...options) {\n    super._initOptions(...options, SEGMENT_BAR_CHART_DEFAULTS);\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(BARGRP),  // Bar group events\n      ...commonEventNames(BARSEG),  // Bar segment events\n      ...EVENTS\n    );\n  }\n\n  _initCore() {\n    super._initCore();\n    this._initInnerScales();\n  }\n\n  _initInnerScales() {\n    this.xInner = this.opts.xInnerScale();\n  }\n\n  // Extent of the inner values across all groups\n  _extentInner(data, baseProp) {\n    const vals = [];\n    data.forEach((d) => {\n      this.getProp(baseProp, d).forEach((d1) => vals.push(this.getProp(`${baseProp}Inner`, d1)));\n    });\n\n    return d3.extent(vals);\n  }\n\n  // Sum the inner values within groups, take max of sums\n  _extentMaxes(data, baseProp) {\n    const maxes = data.map((d) =>\n      d3.sum(this.getProp(baseProp, d), (d1) => this.getProp(`${baseProp}Inner`, d1)));\n\n    return [0, d3.max(maxes)];\n  }\n\n  _domainExtent(data, scaleName) {\n    let extent = null;\n\n    if (scaleName === 'x') {\n      extent = data.map((d) => this.getProp('x', d));\n    }\n    else if (scaleName === 'y') {\n      const mode = this.tryInvoke(this.opts.segmentBarMode);\n\n      if (mode === SEGMENT_BAR_MODE.GROUPED) {\n        extent = this._extentInner(data, 'y');\n      }\n      else if (mode === SEGMENT_BAR_MODE.STACKED) {\n        extent = this._extentMaxes(data, 'y');\n      }\n      else {\n        throw MonteOptionError.InvalidEnumOption('segmentBarMode', mode);\n      }\n    }\n\n    return extent;\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.barSegCssScale);\n    resetScaleDomain(this.opts.barSegFillScale);\n    resetScaleDomain(this.opts.labelFillScale);\n  }\n\n  setMode(mode) {\n    this.option('segmentBarMode', mode);\n    this.emit(EVENT_MODE_CHANGING);\n    this.updateAxesDomains();\n    this.renderAxes();\n    this.update();\n    this.emit(EVENT_MODE_CHANGED);\n\n    return this;\n  }\n\n  mode(mode) {\n    if (mode) {\n      return this.setMode(mode);\n    }\n\n    return this.tryInvoke(this.opts.segmentBarMode);\n  }\n\n  updateAxesRanges() {\n    super.updateAxesRanges();\n    this._updateXInnerRange();\n    this._updateYInnerRange();\n  }\n\n  _updateXInnerRange() {\n    this.xInner.range([0, this.x.bandwidth()]);\n  }\n\n  _updateXInnerDomain() {\n    const data = this.data();\n    const yProp = this.tryInvoke(this.opts.yProp);\n    const xInnerProp = this.tryInvoke(this.opts.xInnerProp);\n\n    // TODO: Find all X inner values to build domain.\n    // TODO: Should this be `yProp` or `xProp`?\n    const xInnerDomain = data[0][yProp].map((d) => d[xInnerProp]);\n    this.xInner.domain(xInnerDomain);\n  }\n\n  _updateYInnerRange() {}\n\n  _updateYInnerDomain() {}\n\n  _data(data) {\n    super._data(data);\n\n    this._updateXInnerDomain();\n    this._updateXInnerRange();\n    this._updateYInnerDomain();\n    this._updateYInnerRange();\n  }\n\n  _render() {\n    const mode = this.tryInvoke(this.opts.segmentBarMode);\n    const classToAdd = SEGMENT_BAR_MODE_CSS_MAP[mode];\n\n    this.classed(classToAdd, true);\n  }\n\n  // Render the vis.\n  _update() {\n    const mode = this.tryInvoke(this.opts.segmentBarMode);\n    const classesToRemove = nonMatchingMapValues(SEGMENT_BAR_MODE_CSS_MAP, mode);\n    const classToAdd = SEGMENT_BAR_MODE_CSS_MAP[mode];\n    let barGrps;\n\n    this.classed(classToAdd, true);\n\n    if (mode === SEGMENT_BAR_MODE.STACKED) {\n      barGrps = this._updateStackedBars();\n    }\n    else if (mode === SEGMENT_BAR_MODE.GROUPED) {\n      barGrps = this._updateGroupedBars();\n    }\n    else {\n      throw MonteOptionError.InvalidEnumOption('segmentBarMode', mode);\n    }\n\n    if (this.opts.includeLabels && barGrps && barGrps.size()) {\n      this._updateLabels(barGrps);\n    }\n\n    classesToRemove.forEach((classToRemove) => this.classed(classToRemove, false));\n  }\n\n  _updateStackedBars() {\n    const barXInner = this._barXInnerStacked.bind(this);\n    const barYInner = this._barYInnerStacked.bind(this);\n    const barWidth = this._barWidthStacked.bind(this);\n    const barHeight = this._barHeightStacked.bind(this);\n\n    return this._updateBars(barXInner, barYInner, barWidth, barHeight);\n  }\n\n  _updateGroupedBars() {\n    const barXInner = this._barXInnerGrouped.bind(this);\n    const barYInner = this._barYInnerGrouped.bind(this);\n    const barWidth = this._barWidthGrouped.bind(this);\n    const barHeight = this._barHeightGrouped.bind(this);\n\n    return this._updateBars(barXInner, barYInner, barWidth, barHeight);\n  }\n\n  _updateBars(barXInner, barYInner, barWidth, barHeight) {\n    const barGrps = this.draw.selectAll('.monte-segment-bar-grp')\n      .data(this.displayData, this.opts.dataKey);\n\n    const fns = {barXInner, barYInner, barWidth, barHeight};\n    const barGrpsEnter = barGrps.enter().append('g')\n      .attr('class', 'monte-segment-bar-grp')\n      .call(this.__bindCommonEvents(BARGRP));\n    this._updateBarSelection(barGrps.merge(barGrpsEnter), fns);\n\n    // TODO: Should this have transitions? Only have a delay?\n    barGrps.exit()\n      .call((sel) => this.fnInvoke(this.opts.bargrpExitSelectionCustomize, sel))\n      .transition()\n        .call((t) => {\n          const settings = this._transitionSettings(BARGRP, EXIT);\n          t.delay(this.tryInvoke(settings.delay));\n        })\n        .call((t) => this.fnInvoke(this.opts.bargrpExitTransitionCustomize, t))\n      .remove();\n\n    return barGrps.merge(barGrps.enter().selectAll('.monte-segment-bar-grp'));\n  }\n\n  _updateBarSelection(barGrps, fns) {\n    const translate = this._barGroupTranslate.bind(this);\n\n    barGrps.attr('transform', (d) => `translate(${translate(d)})`)\n      .each((d, i, nodes) => {\n        const prop = this._barProp();\n        const nestedData = d[prop];\n        const n = d3.select(nodes[i]);\n        const innerRects = n.selectAll('.monte-segment-bar-seg')\n          .data(nestedData, this.opts.innerDataKey);\n\n        const innerRectsEnter = innerRects.enter().append('rect');\n        const innerRectsEnterUpdate = innerRects.merge(innerRectsEnter);\n\n        // Enter\n        innerRectsEnter\n          .call(this.__bindCommonEvents(BARSEG))\n          .style('opacity', 0)\n          .style('fill', this.optionReaderFunc('barSegFillScaleAccessor'))\n          .attr('class', (d, i) => this._buildCss([\n            'monte-segment-bar-seg',\n            this.opts.barSegCss,\n            this.opts.barSegCssScaleAccessor,\n            d.css], d, i))\n          .attr('x', 0)\n          .attr('y', 0)\n          .attr('width', 0)\n          .attr('height', 0)\n          .call((sel) => this.fnInvoke(this.opts.barsegEnterSelectionCustomize, sel))\n          .transition()\n            .call(this._transitionSetup(BARSEG, ENTER), d, i, nodes)\n            .attr('x', (d, i, nodes) => fns.barXInner(d, i, nodes, innerRectsEnterUpdate.nodes()))\n            .attr('y', (d, i, nodes) => fns.barYInner(d, i, nodes, innerRectsEnterUpdate.nodes()))\n            .attr('width', fns.barWidth)\n            .attr('height', fns.barHeight)\n            .style('opacity', 1)\n            .call((t) => this.fnInvoke(this.opts.barsegEnterTransitionCustomize, t));\n\n        // Update\n        innerRects\n          .attr('class', (d, i) => this._buildCss([\n            'monte-segment-bar-seg',\n            this.opts.barSegCss,\n            this.opts.barSegCssScaleAccessor,\n            d.css], d, i))\n          .call((sel) => this.fnInvoke(this.opts.barsegUpdateSelectionCustomize, sel))\n          .transition()\n            .call(this._transitionSetup(BARSEG, UPDATE), d, i, nodes)\n            .style('fill', this.optionReaderFunc('barSegFillScaleAccessor'))\n            .attr('x', (d, i, nodes) => fns.barXInner(d, i, nodes, innerRectsEnterUpdate.nodes()))\n            .attr('y', (d, i, nodes) => fns.barYInner(d, i, nodes, innerRectsEnterUpdate.nodes()))\n            .attr('width', fns.barWidth)\n            .attr('height', fns.barHeight)\n            .style('opacity', 1)\n            .call((t) => this.fnInvoke(this.opts.barsegUpdateTransitionCustomize, t));\n\n        // Exit\n        innerRects.exit()\n          .call((sel) => this.fnInvoke(this.opts.barsegExitSelectionCustomize, sel))\n          .transition()\n            .call(this._transitionSetup(BARSEG, EXIT), d, i, nodes)\n            .call((t) => this.fnInvoke(this.opts.barsegExitTransitionCustomize, t))\n          .remove();\n      });\n  }\n\n  _segLabels(d) {\n    return this.getProp('y', d);\n  }\n\n  _updateLabels(barGrps) {\n    barGrps.each((d, i, nodes) => {\n      const barGrp = d3.select(nodes[i]);\n      this._updateBarSegLabels(barGrp, d, i, nodes);\n    });\n  }\n\n  // TODO: Move labels into segment bar grps (a new nested for the rect and label to live together)?\n  _updateBarSegLabels(barGrp, barData, barIndex, barNodes) {\n    const lbls = barGrp.selectAll('.monte-bar-label').data(this._segLabels(barData));\n    const enterLbls = lbls.enter().append('text').attr('class', 'monte-bar-label');\n    const allNodes = enterLbls.merge(lbls);\n\n    const updateLabels = (sel, mode) => {\n      sel.text((d, i, nodes) => this.tryInvoke(this.opts.label, d, i, nodes))\n        .call((sel) => sel.raise())\n        .call((sel) => this.fnInvoke(this.opts.labelUpdateSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(LABEL, mode), barData, barIndex, barNodes)\n          .style('fill', this.optionReaderFunc('labelFillScaleAccessor'))\n          .attr('x', (d, i, nodes) => this.tryInvoke(this.opts.labelX, d, i, nodes, allNodes.nodes()))\n          .attr('y', (d, i, nodes) => this.tryInvoke(this.opts.labelY, d, i, nodes, allNodes.nodes()))\n          .attr('dx', this.optionReaderFunc('labelXAdjust'))\n          .attr('dy', this.optionReaderFunc('labelYAdjust'))\n          .call((t) => this.fnInvoke(this.opts.labelUpdateTransitionCustomize, t));\n    };\n\n    updateLabels(enterLbls, ENTER);\n    updateLabels(lbls, UPDATE);\n\n    lbls.exit()\n      .call((sel) => this.fnInvoke(this.opts.labelUpdateSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(LABEL, EXIT), barData, barIndex, barNodes)\n        .style('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.labelUpdateTransitionCustomize, t))\n      .remove();\n  }\n\n  _barProp() { return this.tryInvoke(this.opts.yProp); }\n  _barGroupTranslate(d) { return `${this._barX(d)}, 0`; }\n  _barX(d) { return this.getScaledProp('x', d); }\n  _barXInnerGrouped(d) { return this.getScaledProp('xInner', d); }\n  _barXInnerStacked() { return 0; }\n  _barWidthStacked() { return this.x.bandwidth(); }\n  _barWidthGrouped() { return this.xInner.bandwidth(); }\n  _barY(d) { return this.getScaledProp('y', d); }\n  _barYInnerGrouped(d) { return this.height - this._barHeightGrouped(d); }\n  _barYInnerStacked(d, i, nodes, allNodes) {\n    const baseY = this.getScaledProp('y', 'yInner', d);\n    let yShift = 0;\n\n    // New nodes have to account for the presence of old nodes therefore y-shifts are accounted for\n    // using `allNodes`.\n    for (let j = 0; j < i; j++) {\n      const n = d3.select(allNodes[j]);\n      const d1 = n.datum();\n      yShift -= this._barHeightStacked(d1);\n    }\n\n    return baseY + yShift;\n  }\n  _barHeightGrouped(d) { return this.height - this.getScaledProp('y', 'yInner', d); }\n  _barHeightStacked(d) { return this.height - this.getScaledProp('y', 'yInner', d); }\n\n  static createInstanceGroup(charts, ...additionalMethodsToProxy) {\n    additionalMethodsToProxy.push(GROUP_PROXY_METHODS);\n    return super.createInstanceGroup(charts, ...additionalMethodsToProxy);\n  }\n}\n\nSegmentBarChart.EVENTS = EVENTS;\n\nexport const GROUP_PROXY_METHODS = [ 'setMode', 'updateAxesRanges' ];\n\n/**\n * Get the values of all the keys that don't match\n */\nfunction nonMatchingMapValues(map, keyToExclude) {\n  const values = [];\n\n  for (const key in map) {\n    if (map.hasOwnProperty(key)) {\n      if (key !== keyToExclude) {\n        values.push(map[key]);\n      }\n    }\n  }\n\n  return values;\n}\n","import { EXIT, SYMBOL_SIZE, UPDATE } from '../../const/d3';\nimport { AxesChart } from './AxesChart';\nimport { MonteError } from '../../support/MonteError';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { noop } from '../../tools/noop';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\n\nexport const ICON_MODE = {\n  D3_SYMBOL: 'd3Symbol',\n  SVG_USE_DEF: 'svgUseDef',\n  SVG_USE_EXTERNAL: 'svgUseExternal',\n};\n\nconst ICON = 'icon';\n\n// TODO: export icon arrangements on Monte object.\nexport const iconArrangeBottomTop = {\n  rowIndex: function(d, i) {\n    return Math.floor(i / this.opts.columns);\n  },\n\n  columnIndex: function(d, i) {\n    return i % this.opts.columns;\n  },\n};\n\nexport const iconArrangeTopBottom = {\n  rowIndex: function(d, i) {\n    return this.opts.rows - Math.floor(i / this.opts.columns) - 1;\n  },\n\n  columnIndex: function(d, i) {\n    return i % this.opts.columns;\n  },\n};\n\nconst ICON_ARRAY_DEFAULTS = {\n  chartCss: 'monte-icon-array',\n  boundingWidth: 100,\n  boundingHeight: 100,\n\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  },\n\n  suppressAxes: true,\n\n  xScale: function() {\n    return d3.scalePoint().padding(0.5);\n  },\n\n  yScale: function() {\n    return d3.scalePoint().padding(0.5);\n  },\n\n  iconProp: '',\n  iconFillScale: noop,\n  iconFillScaleAccessor: AxesChart.generateScaleAccessor('iconFillScale', 'icon'),\n  iconStrokeScale: noop,\n  iconStrokeScaleAccessor: AxesChart.generateScaleAccessor('iconStrokeScale', 'icon'),\n  iconCssScale: noop,\n  iconCssScaleAccessor: AxesChart.generateScaleAccessor('iconCssScale', 'icon'),\n  iconCss: 'icon',\n  iconSize: SYMBOL_SIZE,\n  iconSymbol: (symbol) => symbol.type(d3.symbolCircle),\n  iconMode: ICON_MODE.D3_SYMBOL,\n  iconDefId: 'svgIcon',\n  iconSvgWidth: 24,\n  iconSvgHeight: 24,\n  iconHref: '',\n  iconSvgSymbol: (symbol) => {\n    symbol.attr('viewbox', '0 0 24 24')\n      .append('path')\n        .attr('d', 'm 0,0 24,24 m -24,0 24,-24');\n  },\n\n  rows: 10,\n  columns: 10,\n\n  arrangement: iconArrangeTopBottom,\n\n  svgVersion: 1, // SVG version 1 requires `xlink:href` for <use> references, but SVG version 2 adds a regular `href` to use instead.\n};\n\nexport class IconArray extends AxesChart {\n  _initOptions(...options) {\n    super._initOptions(...options, ICON_ARRAY_DEFAULTS);\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(ICON) // Icon events\n    );\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.iconCssScale);\n    resetScaleDomain(this.opts.iconFillScale);\n    resetScaleDomain(this.opts.iconStrokeScale);\n  }\n\n  _domainExtent(data, scaleName) {\n    let extent = null;\n\n    if (scaleName === 'y') {\n      extent = new Array(this.opts.rows);\n    }\n    else if (scaleName === 'x') {\n      extent = new Array(this.opts.columns);\n    }\n\n    return extent.fill().map((_, idx) => idx);\n  }\n\n  _render() {\n    if (this.opts.iconMode === ICON_MODE.SVG_USE_DEF) {\n      const chart = this;\n      this.defs.append('symbol')\n        .attr('id', 'svgIcon')\n        .each(function() {\n          chart.opts.iconSvgSymbol(d3.select(this));\n        });\n    }\n  }\n\n  _update() {\n    const max = this.opts.rows * this.opts.columns;\n\n    if (max < this.displayData.length ) {\n      throw new MonteError(`Maximum number of items is ${max}. Data contains ${this.displayData.length}.`);\n    }\n\n    this._updateIcons();\n  }\n\n  _updateIcons() {\n    const modeMap = {\n      [ICON_MODE.D3_SYMBOL]: this._updateD3Symbol,\n      [ICON_MODE.SVG_USE_DEF]: this._updateSvgUse,\n      [ICON_MODE.SVG_USE_EXTERNAL]: this._updateSvgUse,\n    };\n\n    const icons = this.draw.selectAll('.monte-icon').data(this.displayData, this.opts.dataKey);\n\n    modeMap[this.opts.iconMode].call(this, icons, this.opts.iconMode);\n\n    // Fade out removed icons.\n    icons.exit()\n      .transition()\n        .call(this._transitionSetup(ICON, EXIT))\n        .style('opacity', 0)\n        .remove();\n  }\n\n  _updateD3Symbol(icons) {\n    const genSym = (d, i) => {\n      const size = this.tryInvoke(this.opts.iconSize, d, i);\n      const symbase = d3.symbol().size(size);\n      const symbol = this.opts.iconSymbol(symbase, d, i);\n      return symbol(d, i);\n    };\n\n    this._updateCommon('path', icons, iconTransform).attr('d', genSym);\n  }\n\n  _updateSvgUse(icons, mode) {\n    const href = mode === ICON_MODE.SVG_USE_DEF ?\n      (d, i, nodes) => '#' + this.tryInvoke(this.opts.iconDefId, d, i, nodes) :\n      (d, i, nodes) => this.tryInvoke(this.opts.iconHref, d, i, nodes);\n\n    const mergedUpdates = (d, i, nodes) => {\n      const node = d3.select(nodes[i]);\n\n      node.attr('width', this.opts.iconSvgWidth)\n        .attr('height', this.opts.iconSvgHeight);\n    };\n\n    const hrefAttr = this.tryInvoke(this.opts.svgVersion) === 2 ? 'href' : 'xlink:href';\n    this._updateCommon('use', icons, iconTransformShift, mergedUpdates).attr(hrefAttr, href);\n  }\n\n  _updateCommon(type, icons, transform, merge = noop) {\n    const t = icons.enter().append(type)\n        .call(this.__bindCommonEvents(ICON))\n      // TODO: Split apart merge\n      .merge(icons)\n        .each(merge)\n        .attr('transform', (d, i, nodes) => transform.call(this, d, i, nodes))\n        .attr('class', (d, i) => this._buildCss([\n          'monte-icon',\n          this.opts.iconCss,\n          this.opts.iconCssScaleAccessor,\n          d.css], d, i))\n          .call((sel) => this.fnInvoke(this.opts.iconUpdateSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(ICON, UPDATE))\n          .style('fill', this.optionReaderFunc('iconFillScaleAccessor'))\n          .style('stroke', this.optionReaderFunc('iconStrokeScaleAccessor'))\n          .call((t) => this.fnInvoke(this.opts.iconUpdateTransitionCustomize, t));\n\n    return t;\n  }\n}\n\nfunction iconTransform(d, i, nodes) {\n  const col = this.tryInvoke(this.opts.arrangement.columnIndex, d, i, nodes);\n  const row = this.tryInvoke(this.opts.arrangement.rowIndex, d, i, nodes);\n  const x = this.getScaledProp('x', col);\n  const y = this.getScaledProp('y', row);\n\n  return `translate(${x}, ${y})`;\n}\n\nfunction iconTransformShift(d, i, nodes) {\n  const col = this.tryInvoke(this.opts.arrangement.columnIndex, d, i, nodes);\n  const row = this.tryInvoke(this.opts.arrangement.rowIndex, d, i, nodes);\n  const x = this.getScaledProp('x', col);\n  const y = this.getScaledProp('y', row);\n  const xShift = this.opts.iconSvgWidth / 2;\n  const yShift = this.opts.iconSvgHeight / 2;\n\n  return `translate(${x - xShift}, ${y - yShift})`;\n}\n","import { HALF_PI, PI, TAU } from '../const/math';\n\n// https://sites.google.com/site/mymathclassroom/testing-if-two-angles-are-coterminal\nexport function areCoterminalAngles(a1, a2) {\n  const n = (a1 - a2) / TAU;\n\n  // Angles are coterminal if n is an integer; otherwise not.\n  return Number.isInteger(n);\n}\n\n// Placement on an arc given an radius and angle, (cos(a) * r, sin(a) * r)\nexport function getPolarCoord(radius, angle) {\n  // In d3-shape the arc `centroid` function uses a 1/2 PI adjustment to account for the starting\n  // angle differences between SVG (top) vs traditional polar coordinates (right). The adjustment\n  // is repeated here for coordinate consistency.\n  const a = angle - HALF_PI;\n  return [Math.cos(a) * radius, Math.sin(a) * radius];\n}\n\n// * conversion between Radians (rad) and Degrees (deg)\n//    -- Also add support for CSS values like `turn` and `grad` (gradians)???\n\nexport function degreesToRadians(deg) {\n  // radians = degrees * (pi/180)\n  return deg * (PI / 180);\n}\n\nexport function radiansToDegrees(rad) {\n  // degrees = radians * (180/pi)\n  return rad * (180 / PI);\n}\n\nexport function arcBisect(startAngle, endAngle) {\n  return (startAngle + endAngle) / 2;\n}\n\n// Like `arcBisect`, but takes a datum with the fields of `startAngle` and `endAngle`.\nexport function wedgeBisect(d) {\n  return arcBisect(d.startAngle, d.endAngle);\n}\n","import { getPolarCoord } from '../tools/polar';\n\n// Arc is a `d3.arc()` object.\n// Expects `from` and `to` to be `{ startAngle: <number>, endAngle: <number> }`\nexport function arcSimpleTween(arc, from, to) {\n  const i = d3.interpolate(from, to);\n\n  return (t) => arc(i(t));\n}\n\n// Expects `from` and `to` to be `{ angle: <number>, radius: <number>, rotate: <number> }`\nexport function arcLabelTween(from, to, defaultRadius = 0) {\n  if (!from) {\n    from = { angle: 0, radius: defaultRadius, rotate: 0 };\n  }\n  const i = d3.interpolateObject(from, to);\n\n  return function(t) {\n    const v = i(t);\n    const coord = getPolarCoord(v.radius, v.angle);\n    const rotate = v.rotate || 0;\n\n    return `translate(${coord}) rotate(${rotate})`;\n  };\n}\n","export const polarLabelCssPrefix = 'monte-polar-label-';\n\n// NOTE: Radius functions exoect to be invoked in the context of an `Extension` or a `Chart`.\nconst LABEL_PLACEMENT = {\n  CENTROID: {\n    css: `${polarLabelCssPrefix}centroid`,\n    radius: function(w, h) {\n      const chart = this.chart || this; // Expecting to be invoked from an `Extension` or a `Chart`\n      const innerRadius = this.tryInvoke(this.option('innerRadius'), w, h);\n      const outerRadius = this.tryInvoke(this.option('outerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        const ir = chart.tryInvoke(innerRadius, d, i, nodes);\n        const or = chart.tryInvoke(outerRadius, d, i, nodes);\n\n        return (ir + or) / 2;\n      };\n    },\n  },\n\n  INNER: {\n    css: `${polarLabelCssPrefix}inner`,\n    radius: function(w, h) {\n      const chart = this.chart || this;\n      const innerRadius = this.tryInvoke(this.option('innerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        const ir = chart.tryInvoke(innerRadius, d, i, nodes);\n        return ir * 0.9;\n      };\n    },\n  },\n\n  INNER_EDGE: {\n    css: `${polarLabelCssPrefix}inner-edge`,\n    radius: function(w, h) {\n      const chart = this.chart || this;\n      const innerRadius = this.tryInvoke(this.option('innerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        return chart.tryInvoke(innerRadius, d, i, nodes);\n      };\n    },\n  },\n\n  OUTER: {\n    css: `${polarLabelCssPrefix}outer`,\n    radius: function(w, h) {\n      const chart = this.chart || this;\n      const outerRadius = this.tryInvoke(this.option('outerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        const or = chart.tryInvoke(outerRadius, d, i, nodes);\n        return or * 1.1;\n      };\n    },\n  },\n\n  OUTER_EDGE: {\n    css: `${polarLabelCssPrefix}outer-edge`,\n    radius: function(w, h) {\n      const chart = this.chart || this;\n      const outerRadius = this.tryInvoke(this.option('outerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        return chart.tryInvoke(outerRadius, d, i, nodes);\n      };\n    },\n  },\n};\n\nexport function polarLabelCentroid() {\n  return LABEL_PLACEMENT.CENTROID;\n}\n\nexport function polarLabelInner() {\n  return LABEL_PLACEMENT.INNER;\n}\n\nexport function polarLabelInnerEdge() {\n  return LABEL_PLACEMENT.INNER_EDGE;\n}\n\nexport function polarLabelOuter() {\n  return LABEL_PLACEMENT.OUTER;\n}\n\nexport function polarLabelOuterEdge() {\n  return LABEL_PLACEMENT.OUTER_EDGE;\n}\n\nexport function polarLabelInnerFactor(factor) {\n  return {\n    css: `${polarLabelCssPrefix}inner ${polarLabelCssPrefix}inner-x${factor}`,\n    radius: function(w, h) {\n      const chart = this.chart || this;\n      const innerRadius = this.tryInvoke(this.option('innerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        const ir = chart.tryInvoke(innerRadius, d, i, nodes);\n        return ir * factor;\n      };\n    },\n  };\n}\n\nexport function polarLabelInnerAdjust(adjust) {\n  return {\n    css: `${polarLabelCssPrefix}inner ${polarLabelCssPrefix}inner-${adjust}`,\n    radius: function(w, h) {\n      const chart = this.chart || this;\n      const innerRadius = this.tryInvoke(this.option('innerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        const ir = chart.tryInvoke(innerRadius, d, i, nodes);\n        return ir + adjust;\n      };\n    },\n  };\n}\n\nexport function polarLabelOuterFactor(factor) {\n  return {\n    css: `${polarLabelCssPrefix}outer ${polarLabelCssPrefix}outer-x${factor}`,\n    radius: function(w, h) {\n      const chart = this.chart || this;\n      const outerRadius = this.tryInvoke(this.option('outerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        const or = chart.tryInvoke(outerRadius, d, i, nodes);\n        return or * factor;\n      };\n    },\n  };\n}\n\nexport function polarLabelOuterAdjust(adjust) {\n  return {\n    css: `${polarLabelCssPrefix}outer ${polarLabelCssPrefix}outer-${adjust}`,\n    radius: function(w, h) {\n      const chart = this.chart || this;\n      const outerRadius = this.tryInvoke(this.option('outerRadius'), w, h);\n\n      return function(d, i, nodes) {\n        const or = chart.tryInvoke(outerRadius, d, i, nodes);\n        return or + adjust;\n      };\n    },\n  };\n}\n","import { HALF_PI, PI } from '../const/math';\nimport { isNumeric } from '../tools/is';\nimport { wedgeBisect } from '../tools/polar';\n\n// Return the datum if it is an object, but if the value is a number (or coercible to a number) than\n// create a new object with the expected `startAngle` and `endAngle` properties.\nfunction getDatum(d) {\n  return (isNumeric(+d)) ? { startAngle: d, endAngle: d } : d;\n}\n\n\n//\n//\n// Base Rotations\n//\n//\nfunction baseLabelRotateTangentOrigin(angle) { return angle; }\n\nfunction baseLabelRotateTangentFlip(angle) {\n  const absAngle = Math.abs(angle);\n\n  if (absAngle > HALF_PI && absAngle <= 3 * HALF_PI) {\n    angle -= PI;\n  }\n\n  return angle;\n}\n\nfunction baseLabelRotateRay(angle) { return angle - HALF_PI; }\nfunction baseLabelRotateRayOpposite(angle) { return angle - HALF_PI - PI; }\n\nfunction baseLabelRotateRayFlip(angle) {\n  if ((angle <= 0 && angle >= -PI) || angle > PI) { // Right side of circle\n    return angle + HALF_PI;\n  }\n  else if ((angle > 0 && angle <= PI) || angle < -PI) { // Left side of circle\n    return angle - HALF_PI;\n  }\n\n  return angle;\n}\n\nfunction baseLabelRotateNone() { return 0; }\n\n//\n//\n// Polar Chart Rotations\n//\n//\n// TODO: Add `css` to all rotations\nexport function polarLabelRotateTangentOrigin(d) {\n  return baseLabelRotateTangentOrigin(wedgeBisect(getDatum(d)));\n}\n\nexport function polarLabelRotateTangentFlip(d) {\n  return baseLabelRotateTangentFlip(wedgeBisect(getDatum(d)));\n}\n\nexport function polarLabelRotateRay(d) {\n  return baseLabelRotateRay(wedgeBisect(getDatum(d)));\n}\n\nexport function polarLabelRotateRayOpposite(d) {\n  return baseLabelRotateRayOpposite(wedgeBisect(getDatum(d)));\n}\n\nexport function polarLabelRotateRayFlip(d) {\n  return baseLabelRotateRayFlip(wedgeBisect(getDatum(d)));\n}\n\nexport function polarLabelRotateNone() {\n  return baseLabelRotateNone();\n}\n\n\n//\n//\n// Gauge Chart Rotations\n//\n//\nexport function gaugeLabelRotateTangentOrigin(d) {\n  return baseLabelRotateTangentOrigin(getDatum(d).endAngle);\n}\n\nexport function gaugeLabelRotateTangentFlip(d) {\n  return baseLabelRotateTangentFlip(getDatum(d).endAngle);\n}\n\nexport function gaugeLabelRotateRay(d) {\n  return baseLabelRotateRay(getDatum(d).endAngle);\n}\n\nexport function gaugeLabelRotateRayOpposite(d) {\n  return baseLabelRotateRayOpposite(getDatum(d).endAngle);\n}\n\nexport function gaugeLabelRotateRayFlip(d) {\n  return baseLabelRotateRayFlip(getDatum(d).endAngle);\n}\n\nexport function gaugeLabelRotateNone() {\n  return baseLabelRotateNone();\n}\n","// Constrain to smallest draw-area dimension\nexport function radiusContrain(width, height) {\n  const wr = width / 2;\n  const hr = height / 2;\n\n  return wr < hr ? wr : hr;\n}\n","import { isArray, isDefined, isNumberLike } from './is';\n\n// Processes the transform string value from a DOM element and returns an object where the keys are\n// the transform type and the value the transform value.\n//\n// NOTE:\n// `readTransforms` is limited to having a single type of each transform though multiple are\n// technically possible, but considered rare in the context of Monte. See the MDN documentation for\n// workarounds if duplicate types are needed: https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform\n//\n// TODO: Accept DOM elements and D3 selections?\nexport function readTransforms(t) {\n  if (!isDefined(t)) { t = ''; }\n\n  const transformSplit = /(.*?\\(.*?\\))/;\n  const transformRules = t.split(transformSplit).filter((v) => !!v);\n\n  const transforms = {};\n  const transformPattern = /(.*?)\\((.*?)\\)\\s*/;\n\n  transformRules.forEach((rule) => {\n    const matches = transformPattern.exec(rule.trim());\n\n    if (matches) {\n      for (let i = 1; i < matches.length; i += 2) {\n        const k = matches[i];\n        let v = matches[i+1].trim();\n\n        if (v.indexOf(' ') > -1 || v.indexOf(',') > -1) {\n          v = v.split(/,\\s*|\\s+/);\n        }\n\n        if (isArray(v)) {\n          // Convert each array element to a number if possible\n          for (let j = 0; j < v.length; j++) {\n            v[j] = isNumberLike(v[j]) ? +v[j] : v[j];\n          }\n        }\n        else if (isNumberLike(v)) {\n          // Convert value to number if possible.\n          v = +v;\n        }\n\n        transforms[k] = v;\n      }\n    }\n  });\n\n  return transforms;\n}\n\n// Takes an object describing transformations where the keys are the transform type and the value is\n// the transform value and returns a string that can be applied to the DOM node. Transforms are\n// sorted alphabetically for consistentcy.\n//\n// NOTE:\n// Similar to `readTransforms`, `combineTransforms` can only support single occurrences of a particular\n// transform type.\nexport function combineTransforms(transformObj) {\n  const transformStrs = [];\n  const keys = [];\n\n  for (const t in transformObj) {\n    if (transformObj.hasOwnProperty(t)) {\n      keys.push(t);\n    }\n  }\n\n  keys.sort();\n  keys.forEach((t) => {\n    const values = isArray(transformObj[t]) ? transformObj[t].join(', ') : transformObj[t];\n    transformStrs.push(`${t}(${values})`);\n  });\n\n  return transformStrs.join(' ');\n}\n","import { MonteError } from '../support/MonteError';\n\nexport function removeClassByPattern(selection, pattern) {\n  const node = selection.node();\n  const classAttr = node.getAttribute('class');\n  const classList = classAttr.trim().split(/^|\\s+/);\n\n  let re;\n\n  if (typeof pattern === 'string') {\n    re = new RegExp(pattern);\n  }\n  else if (pattern instanceof RegExp) {\n    re = pattern;\n  }\n  else {\n    throw MonteError.InvalidArgumentType('removeClassByPattern', 'pattern', 'String or RegExp', pattern);\n  }\n\n  classList.forEach((c) => {\n    if (re.test(c)) {\n      selection.classed(c, false);\n    }\n  });\n}\n","import { mergeOptions } from '../tools/mergeOptions';\n\nexport function needleRoundedEnd(/* options */) {\n  return function needleRoundedEndDyn(needleHeight, needleBaseWidth) {\n    const h = needleHeight;        // Overall height, starts from origin\n    const r = needleBaseWidth / 2; // Base width === diameter\n\n    const p1 = '-' + r + ' 0';\n    const p2 = '0 -' + h;\n    const p3 = r + ' 0';\n    const a = [r + ' ' + r, 0, 0, 1, '-' + r + ' 0'].join(',');\n    const path = ['M', p1, p2, p3, 'A', a, 'Z'].join(' ');\n\n    return path;\n  };\n}\n\nexport function needleFlatEnd(/* options */) {\n  return function needleFlatEndDyn(needleHeight, needleBaseWidth) {\n    const h = needleHeight;\n    const w = needleBaseWidth / 2;\n\n    const p1 = '-' + w + ' 0';\n    const p2 = '0 -' + h;\n    const p3 = w + ' 0';\n    const path = ['M', p1, p2, p3, 'Z'].join(' ');\n\n    return path;\n  };\n}\n\nconst NEEDLE_EXT = {\n  smallNeedleHeight: 0,\n  smallNeedleRatio: 0.05,\n};\n\nexport function needleExtraPointer(options) {\n  const opts = mergeOptions(options, NEEDLE_EXT);\n\n  return function needleExtraPointerDyn(needleHeight, needleBaseWidth) {\n    const h1 = needleHeight;\n    const h2 = opts.smallNeedleHeight || (needleHeight * opts.smallNeedleRatio);\n    const w = needleBaseWidth / 2;\n\n    const p1 = '-' + w + ' 0';\n    const p2 = '0 -' + h1;\n    const p3 = w + ' 0';\n    const p4 = '0 ' + h2;\n    const path = ['M', p1, p2, p3, p4, 'Z'].join(' ');\n\n    return path;\n  };\n}\n\nexport function needleRect(options) {\n  const opts = mergeOptions(options, NEEDLE_EXT);\n\n  return function neddleRectDyn(needleHeight, needleBaseWidth) {\n    const h1 = needleHeight;\n    const h2 = opts.smallNeedleHeight || (needleHeight * opts.smallNeedleRatio);\n    const w = needleBaseWidth / 2;\n\n    const p1 = `-${w} 0`;\n    const p2 = `-${w} -${h1}`;\n    const p3 = `${w} -${h1}`;\n    const p4 = `${w} 0`;\n    const p5 = `${w} ${h2}`;\n    const p6 = `-${w} ${h2}`;\n    const path = ['M', p1, p2, p3, p4, p5, p6, 'Z'].join(' ');\n\n    return path;\n  };\n}\n\n// export function needleCircleBase(options) {\n//   const opts = _.defaultsDeep({}, options, NEEDLE_EXTRA_POINTER);\n//\n//   return function needle_extra_pointer(needleHeight, needleBaseWidth) {\n//     const h1 = needleHeight;\n//     const h2 = opts.smallNeedleHeight || (needleHeight * opts.smallNeedleRatio);\n//     const w = needleBaseWidth / 2;\n//\n//     const p1 = '-' + w + ' 0';\n//     const p2 = '0 -' + h1;\n//     const p3 = w + ' 0';\n//     const p4 = '0 ' + h2;\n//     const path = ['M', p1, p2, p3, p4, 'Z'].join(' ');\n//\n//     return path;\n//   }\n// }\n","import { ENTER, EXIT, SYMBOL_SIZE, UPDATE } from '../../const/d3';\nimport { polarLabelCssPrefix, polarLabelOuter } from '../../util/polarLabels';\nimport { MonteOptionError } from '../../support/MonteOptionError';\nimport { PolarChart } from './PolarChart';\nimport { TAU } from '../../const/math';\nimport { arcLabelTween } from '../../util/tween';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { gaugeLabelRotateTangentFlip } from '../../util/polarLabelRotations';\nimport { getPolarCoord } from '../../tools/polar';\nimport { isDefined } from '../../tools/is';\nimport { noop } from '../../tools/noop';\nimport { radiansToDegrees } from '../../tools/polar';\nimport { radiusContrain } from '../../util/dimension';\nimport { readTransforms } from '../../tools/transform';\nimport { removeClassByPattern } from '../../tools/css';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\nimport { upperFirst } from '../../tools/string';\n\nconst LABEL_CSS_PATTERN = new RegExp(`^${polarLabelCssPrefix}*`);\n\nconst EVENT_UPDATING_LABELS = 'updatingLabels';\nconst EVENT_UPDATED_LABELS = 'updatedLabels';\nconst EVENTS = [ EVENT_UPDATING_LABELS, EVENT_UPDATED_LABELS ];\n\nconst LABEL = 'label';\nconst AREA = 'area';\nconst POINT = 'point';\nconst RAY = 'ray';\nconst WEB = 'web';\n\nconst WEB_MODE_LINE = 'line';\nconst WEB_MODE_ARC = 'arc';\nexport const WEB_MODES = [ WEB_MODE_LINE, WEB_MODE_ARC ];\n\nconst RADAR_CHART_DEFAULTS = {\n  chartCss: 'monte-radar-chart',\n\n  outerRadius: radiusContrain,\n\n  // Callback function to customize the area generator.\n  areaCustomize: null,\n  areaProp: 'value',\n  areaCssScale: noop,\n  areaCssScaleAccessor: PolarChart.generateScaleAccessor('areaCssScale', 'area'),\n  areaFillScale: noop,\n  areaFillScaleAccessor: PolarChart.generateScaleAccessor('areaFillScale', 'area'),\n  areaStrokeScale: noop,\n  areaStrokeScaleAccessor: PolarChart.generateScaleAccessor('areaStrokeScale', 'area'),\n\n  startAngle: 0,\n  endAngle: TAU,\n\n  radiusScale: d3.scaleLinear,\n  radiusDomainCustomize: null,\n\n  // Radius Labels\n  suppressRadiusLabels: false,\n  radiusLabelLayer: 'support',\n  radiusLabelRotation: gaugeLabelRotateTangentFlip,\n  radiusLabelAngle: 0,\n  radiusLabelFillScale: noop,\n  radiusLabelFillScaleAccessor: function(d) { return this.opts.radiusLabelFillScale(d); },\n  radiusLabel: (d) => d,\n  radiusLabelXAdjust: '',\n  radiusLabelYAdjust: '0.35em',\n\n  // Web\n  suppressWeb: false,\n  webArcCustomize: null,\n  webLevels: function() {\n    return this.radius.ticks();\n  },\n  webInnerLevels: [],\n  webMode: WEB_MODE_LINE,\n\n  // Ray Labels\n  suppressLabels: false,\n  labelPlacement: polarLabelOuter,\n  labelRotation: gaugeLabelRotateTangentFlip,\n  labelAngle: 0,\n  labelProp: 'value',\n  labelFillScale: noop,\n  labelFillScaleAccessor: PolarChart.generateScaleAccessor('labelFillScale', 'label'),\n  label: (d) => d.prop,\n  labelXAdjust: '',\n  labelYAdjust: '0.35em',\n\n  suppressPoints: false,\n\n  pointProp: '',\n  pointFillScale: noop,\n  pointFillScaleAccessor: PolarChart.generateScaleAccessor('pointFillScale', 'pointProp'),\n\n  pointStrokeScale: noop,\n  pointStrokeScaleAccessor: PolarChart.generateScaleAccessor('pointStrokeScale', 'pointProp'),\n\n  // Scale function for CSS class to apply per line. Input: line index, Output: String of CSS Class.\n  pointCssScale: noop,\n  pointCssScaleAccessor: PolarChart.generateScaleAccessor('pointCssScale', 'pointProp'),\n\n  // Static CSS class(es) to apply to every line.\n  pointCss: 'point',\n  pointSize: SYMBOL_SIZE,\n  pointSymbol: (symbol) => symbol.type(d3.symbolCircle),\n\n  areaValuesProp: 'values',\n  rayIdProp: 'id',\n  rayValueProp: 'value',\n};\n\nexport class RadarChart extends PolarChart {\n  _initOptions(...options) {\n    super._initOptions(...options, RADAR_CHART_DEFAULTS);\n  }\n\n  _initCore() {\n    super._initCore();\n\n    this.radius = this.tryInvoke(this.opts.radiusScale);\n\n    this.areaRadialLine = d3.radialLine()\n      .radius((d) => this.radius(d.radius))\n      .angle((d) => d.angle)\n      .curve(d3.curveLinearClosed);\n\n    this.webArc = d3.arc()\n      .innerRadius((d) => this.radius(d.radius))\n      .outerRadius((d) => this.radius(d.radius));\n  }\n\n  _initCustomize() {\n    super._initCustomize();\n    if (this.opts.webArcCustomize) {\n      this.fnInvoke(this.opts.webArcCustomize, this.webArc);\n    }\n\n    if (this.opts.areaRadialLineCustomize) {\n      this.fnInvoke(this.opts.areaRadialLineCustomize, this.areaRadialLine);\n    }\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(AREA), // Area events\n      ...commonEventNames(POINT), // POINT events\n      ...EVENTS\n    );\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.areaCssScale);\n    resetScaleDomain(this.opts.areaFillScale);\n    resetScaleDomain(this.opts.areaStrokeScale);\n    resetScaleDomain(this.opts.labelFillScale);\n    resetScaleDomain(this.opts.radiusLabelFillScale);\n    resetScaleDomain(this.opts.pointFillScale);\n    resetScaleDomain(this.opts.pointStrokeScale);\n    resetScaleDomain(this.opts.pointCssScale);\n  }\n\n  _boundsUpdate() {\n    super._boundsUpdate();\n\n    const or = this.tryInvoke(this.opts.outerRadius, this.width, this.height);\n    this.radius.range([0, or]);\n  }\n\n  _data(data) {\n    super._data(data);\n\n    const propsMap = {};\n    this.displayData.forEach((area) => {\n      const values = this.getProp('areaValues', area);\n      // For each area look at the ids. Compile a list of all ids across all areas.\n      values.forEach((ray) => {\n        const rayId = this.getProp('rayId', ray);\n\n        if (!propsMap[rayId]) {\n          propsMap[rayId] = 1;\n        }\n        else {\n          propsMap[rayId]++;\n        }\n      });\n    });\n\n    const props = Object.keys(propsMap);\n    let currentMax = 0;\n\n    // Find max across all properties\n    props.forEach((prop) => {\n      data.forEach((d) => {\n        if (currentMax < d[prop]) {\n          currentMax = d[prop];\n        }\n      });\n    });\n\n    const domain = isDefined(this.opts.radiusDomainCustomize) ?\n      this.tryInvoke(this.opts.radiusDomainCustomize, [0, currentMax]) :\n      [0, currentMax];\n    this.radius.domain(domain);\n\n    const { rayAngleMap, rayData } = this.__rayData(props);\n    this.rayAngleMap = rayAngleMap;\n    this.rayData = rayData;\n    this.props = props;\n  }\n\n  __rayData(props) {\n    const startAngle = this.tryInvoke(this.opts.startAngle);\n    const endAngle = this.tryInvoke(this.opts.endAngle);\n    const rayCount = props.length;\n    const rayInterval = (endAngle - startAngle) / rayCount;\n    const rayAngleMap = {};\n    const rayData = [];\n    let activeAngle = startAngle;\n\n    for (let i = 0; i < rayCount; i++) {\n      rayAngleMap[props[i]] = activeAngle;\n      rayData.push({\n        prop: props[i],\n        angle: activeAngle,\n      });\n\n      activeAngle += rayInterval;\n    }\n\n    return { rayAngleMap, rayData };\n  }\n\n  _update() {\n    const rayGrps = this._updateRays();\n    const areaGrps = this._updateAreas();\n    this._updateWeb();\n\n    const suppressPoints = this.tryInvoke(this.opts.suppressPoints);\n    if (!suppressPoints) {\n      this._updatePoints(areaGrps);\n    }\n\n    if (!this.opts.suppressLabels) {\n      this._updateRayLabels(rayGrps);\n    }\n\n    if (!this.opts.suppressRadiusLabels) {\n      this._updateRadiusLabels(rayGrps);\n    }\n  }\n\n  _updateAreas() {\n    // Data join for the area\n    const areaGrps = this.draw.selectAll('.monte-radar-area-grp')\n      .data(this.displayData, this.opts.dataKey);\n\n    // Create new area and update existing\n    const enterAreas = areaGrps.enter().append('g').classed('monte-radar-area-grp', true)\n      .append('path')\n      .classed('monte-radar-area', true)\n      .call(this.__bindCommonEvents(AREA));\n    this._updateAreaSelections(enterAreas, ENTER);\n    this._updateAreaSelections(areaGrps.selectAll('.monte-radar-area'), UPDATE);\n\n    // Fade out removed area\n    areaGrps.exit()\n      .call((sel) => this.fnInvoke(this.opts.areaExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(AREA, EXIT))\n        .style('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.areaExitTransitionCustomize, t))\n        .remove();\n\n    return areaGrps.merge(areaGrps.enter().selectAll('.monte-radar-area-grp'));\n  }\n\n  _updateAreaSelections(sel, stage) {\n    const selectionFnName = AREA + upperFirst(stage) + 'SelectionCustomize';\n    const transitionFnName = AREA + upperFirst(stage) + 'TransitionCustomize';\n\n    sel.attr('class', (d, i) => this._buildCss([\n      'monte-radar-area',\n      this.opts.areaCss,\n      this.opts.areaCssScaleAccessor,\n      d.css], d, i))\n      .call((sel) => this.fnInvoke(this.opts[selectionFnName], sel))\n      .transition()\n        .call(this._transitionSetup(AREA, stage))\n        .attr('d', (d) => {\n          const areaValues = this.getProp('areaValues', d);\n          const values = [];\n\n          this.props.forEach((p) => {\n            // Find the correct value element for a particular label\n            const idKey = this.getPropKey('rayId');\n            const valueKey = this.getPropKey('rayValue');\n            const radius = findBy(areaValues, idKey, p, valueKey);\n\n            values.push({\n              radius,\n              angle: this.rayAngleMap[p],\n            });\n          });\n\n          return this.areaRadialLine(values);\n        })\n        .style('fill', this.optionReaderFunc('areaFillScaleAccessor'))\n        .call((t) => this.fnInvoke(this.opts[transitionFnName], t));\n  }\n\n  _updateRays() {\n    const or = this.tryInvoke(this.opts.outerRadius, this.width, this.height);\n    const rayGrps = this.support.selectAll('.monte-radar-ray-grp').data(this.rayData);\n\n    rayGrps.enter().append('g').classed('monte-radar-ray-grp', true)\n      .append('line')\n        .classed('monte-radar-ray', true)\n        .attr('x0', 0)\n        .attr('y0', 0)\n        .attr('x1', (d) => getPolarCoord(or, d.angle)[0])\n        .attr('y1', (d) => getPolarCoord(or, d.angle)[1])\n        .attr('opacity', 0)\n        .call((sel) => this.fnInvoke(this.opts.rayEnterSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(RAY, ENTER))\n          .attr('opacity', 1)\n          .call((t) => this.fnInvoke(this.opts.rayEnterTransitionCustomize, t));\n\n    rayGrps.select('.monte-radar-ray')\n      .call((sel) => this.fnInvoke(this.opts.rayUpdateSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(RAY, UPDATE))\n        .attr('x1', (d) => getPolarCoord(or, d.angle)[0])\n        .attr('y1', (d) => getPolarCoord(or, d.angle)[1])\n        .attr('opacity', 1)\n        .call((t) => this.fnInvoke(this.opts.rayUpdateTransitionCustomize, t));\n\n    rayGrps.call((sel) => this.fnInvoke(this.opts.rayExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(RAY, EXIT))\n        .attr('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.rayExitTransitionCustomize, t));\n\n    return rayGrps.merge(rayGrps.enter().selectAll('.monte-radar-ray-grp'));\n  }\n\n  _updateRayLabels(rayGrps) {\n    this.emit(EVENT_UPDATING_LABELS);\n\n    const labelPlacement = this.tryInvoke(this.opts.labelPlacement);\n    const css = this.tryInvoke(labelPlacement.css);\n\n    // Clear old label CSS from chart and add new.\n    removeClassByPattern(this.bound, LABEL_CSS_PATTERN);\n    this.classed(css, true);\n\n    rayGrps.each((d, i, nodes) => {\n      const node = d3.select(nodes[i]);\n      this._updateRayLabel(node, d, i, nodes);\n    });\n\n    this.emit(EVENT_UPDATED_LABELS);\n  }\n\n  _updateRayLabel(rayGrp, d, i, nodes) {\n    const lbl = rayGrp.selectAll('.monte-radar-ray-label').data([d]);\n    const labelPlacement = this.tryInvoke(this.opts.labelPlacement);\n    const labelRadius = this.tryInvoke(labelPlacement.radius, this.width, this.height);\n    const radius = this.tryInvoke(labelRadius, d, i, nodes);\n    const angle = d.angle;\n    const rotate = radiansToDegrees(this.tryInvoke(this.opts.labelRotation, d.angle, i, nodes));\n    const coord = getPolarCoord(radius, angle);\n\n    lbl.enter().append('text')\n      .attr('class', 'monte-radar-ray-label')\n      .attr('dx', (d1) => this.tryInvoke(this.opts.labelXAdjust, d1, i, nodes))\n      .attr('dy', (d1) => this.tryInvoke(this.opts.labelYAdjust, d1, i, nodes))\n      .attr('transform', () => `translate(${coord}) rotate(${rotate})`)\n      .attr('angle', angle)\n      .attr('radius', labelRadius)\n      .style('opacity', 0)\n      .style('fill', this.optionReaderFunc('labelFillScaleAccessor'))\n      .text((d1) => this.tryInvoke(this.opts.label, d1, i, nodes))\n      .call((sel) => this.fnInvoke(this.opts.labelEnterSelectionCustomize, sel))\n      .transition()\n        .call((t) => {\n          const ts = this._transitionSettings(LABEL, ENTER);\n          this._transitionConfigure(t, ts, d, i, nodes);\n        })\n        .style('opacity', 1)\n        .call((t) => this.fnInvoke(this.opts.labelEnterTransitionCustomize, t));\n\n    lbl.style('fill', this.optionReaderFunc('labelFillScaleAccessor'))\n        .style('opacity', 1)\n        .attr('dx', (d1) => this.tryInvoke(this.opts.labelXAdjust, d1, i, nodes))\n        .attr('dy', (d1) => this.tryInvoke(this.opts.labelYAdjust, d1, i, nodes))\n        .call((sel) => this.fnInvoke(this.opts.labelUpdateSelectionCustomize, sel))\n        .transition()\n          .call((t) => {\n            const ts = this._transitionSettings(LABEL, UPDATE);\n            this._transitionConfigure(t, ts, d, i, nodes);\n          })\n          .attrTween('transform', () => {\n            const currentTransforms = readTransforms(lbl.attr('transform'));\n            const from = {\n              angle: +lbl.attr('angle'),\n              radius: +lbl.attr('radius'),\n              rotate: currentTransforms.rotate || 0,\n            };\n            const to = { angle, radius, rotate };\n\n            return arcLabelTween(from, to, radius);\n          })\n          .attr('angle', angle)\n          .attr('radius', labelRadius)\n          .text((d1) => this.tryInvoke(this.opts.label, d1, i, nodes))\n          .call((t) => this.fnInvoke(this.opts.labelUpdateTransitionCustomize, t));\n\n    lbl.exit()\n      .call((sel) => this.fnInvoke(this.opts.labelExitSelectionCustomize, sel))\n      .transition()\n        .call((t) => {\n          const ts = this._transitionSettings(LABEL, EXIT);\n          this._transitionConfigure(t, ts, d, i, nodes);\n        })\n        .style('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.labelExitTransitionCustomize, t))\n      .remove();\n  }\n\n  _updateRadiusLabels() {\n    const levels = this.tryInvoke(this.opts.webLevels);\n    const layer = this.tryInvoke(this.opts.radiusLabelLayer);\n    const lbls = this[layer].selectAll('.monte-radar-radius-label').data(levels);\n\n    const transform = (d, i, nodes) => {\n      const radius = this.radius(d);\n      const angle = this.tryInvoke(this.opts.radiusLabelAngle, angle, i, nodes);\n      const coord = getPolarCoord(radius, angle);\n      const radRot = this.tryInvoke(this.opts.radiusLabelRotation, angle, i, nodes);\n      const rotate = radiansToDegrees(radRot);\n\n      return `translate(${coord}) rotate(${rotate})`;\n    };\n\n    lbls.enter().append('text').classed('monte-radar-radius-label', true)\n      .attr('class', 'monte-radar-ray-label')\n      .attr('dx', this.optionReaderFunc('radiusLabelXAdjust'))\n      .attr('dy', this.optionReaderFunc('radiusLabelYAdjust'))\n      .style('opacity', 0)\n      .style('fill', this.optionReaderFunc('radiusLabelFillScaleAccessor'))\n      .attr('transform', 'translate(0, 0)')\n      .text(this.optionReaderFunc('radiusLabel'))\n      .call((sel) => this.fnInvoke(this.opts.radiusLabelEnterSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(LABEL, ENTER))\n        .style('opacity', 1)\n        .attr('transform', transform)\n        .call((t) => this.fnInvoke(this.opts.radiusLabelEnterTransitionCustomize, t));\n\n    lbls.style('fill', this.optionReaderFunc('radiusLabelFillScaleAccessor'))\n      .style('opacity', 1)\n      .call((sel) => this.fnInvoke(this.opts.radiusLabelUpdateSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(LABEL, UPDATE))\n        .attr('transform', transform)\n        .text(this.optionReaderFunc('radiusLabel'))\n        .call((t) => this.fnInvoke(this.opts.radiusLabelUpdateTransitionCustomize, t));\n\n    lbls.exit()\n      .call((sel) => this.fnInvoke(this.opts.radiusLabelExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(LABEL, EXIT))\n        .style('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.radiusLabelExitTransitionCustomize, t))\n      .remove();\n  }\n\n  _updateWeb() {\n    const mode = this.tryInvoke(this.opts.webMode);\n\n    if (mode === WEB_MODE_ARC) {\n      this._updateWebArc();\n    }\n    else if (mode === WEB_MODE_LINE) {\n      this._updateWebLine();\n    }\n    else {\n      throw MonteOptionError.InvalidEnumOption('webMode', mode);\n    }\n  }\n\n  _updateWebArc() {\n    const minorLevels = this.tryInvoke(this.opts.webInnerLevels);\n    const levels = this.tryInvoke(this.opts.webLevels);\n    const startAngle = this.tryInvoke(this.opts.startAngle);\n    const endAngle = this.tryInvoke(this.opts.endAngle);\n    const arcs = minorLevels.map((d) => ({\n      radius: d,\n      startAngle,\n      endAngle,\n      type: 'minor',\n    }));\n\n    levels.forEach((d) => {\n      arcs.push({\n        radius: d,\n        startAngle,\n        endAngle,\n        type: 'major',\n      });\n    });\n\n    const webs = this.bg.selectAll('.monte-radar-web').data(arcs);\n\n    webs.enter().append('path')\n      .attr('class', (d) => d.type)\n      .classed('monte-radar-web', true)\n      .attr('d', (d) => this.webArc(d))\n      .call((sel) => this.fnInvoke(this.opts.webEnterSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(WEB, ENTER))\n        .call((t) => this.fnInvoke(this.opts.webEnterTransitionCustomize, t));\n\n    webs.call((sel) => this.fnInvoke(this.opts.webUpdateSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(WEB, UPDATE))\n        .attr('d', (d) => this.webArc(d))\n        .call((t) => this.fnInvoke(this.opts.webUpdateTransitionCustomize, t));\n\n    webs.exit()\n      .call((sel) => this.fnInvoke(this.opts.webExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(WEB, EXIT))\n        .call((t) => this.fnInvoke(this.opts.webExitTransitionCustomize, t))\n      .remove();\n  }\n\n  _updateWebLine() {\n    const minorLevels = this.tryInvoke(this.opts.webInnerLevels);\n    const levels = this.tryInvoke(this.opts.webLevels);\n    const lines = minorLevels.map((d) => ({\n      radius: d,\n      values: this.rayData.map((r) => ({ radius: d, angle: r.angle })),\n      type: 'minor',\n    }));\n\n    levels.forEach((d) => {\n      lines.push({\n        radius: d,\n        values: this.rayData.map((r) => ({ radius: d, angle: r.angle })),\n        type: 'major',\n      });\n    });\n\n    const webs = this.bg.selectAll('.monte-radar-web').data(lines);\n\n    webs.enter().append('path')\n      .attr('class', (d) => d.type)\n      .classed('monte-radar-web', true)\n      .attr('d', (d) => this.areaRadialLine(d.values))\n      .call((sel) => this.fnInvoke(this.opts.webEnterSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(WEB, ENTER))\n        .call((t) => this.fnInvoke(this.opts.webEnterTransitionCustomize, t));\n\n    webs.call((sel) => this.fnInvoke(this.opts.webUpdateSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(WEB, UPDATE))\n        .attr('d', (d) => this.areaRadialLine(d.values))\n        .call((t) => this.fnInvoke(this.opts.webUpdateTransitionCustomize, t));\n\n    webs.exit()\n      .call((sel) => this.fnInvoke(this.opts.webExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(WEB, EXIT))\n        .call((t) => this.fnInvoke(this.opts.webExitTransitionCustomize, t))\n      .remove();\n  }\n\n  _updatePoints(areaGrps) {\n    areaGrps.each((d, i, nodes) => this._updateAreaPoints(nodes[i], d, i));\n  }\n\n  _updateAreaPoints(areaNode, areaDatum, areaIndex) {\n    const areaGrp = d3.select(areaNode);\n    const pointsData = Object.keys(areaDatum).map((d) => ({ prop: d, value: areaDatum[d] }));\n\n    // Data join for the points\n    const points = areaGrp.selectAll('.monte-point').data(pointsData);\n\n    const genSym = (d, i) => {\n      const size = this.tryInvoke(this.opts.pointSize, d, i);\n      const symbase = d3.symbol().size(size);\n      const symbol = this.opts.pointSymbol(symbase, d, i);\n      return symbol(d, i);\n    };\n\n    // Create new points\n    points.enter().append('path')\n        .call(this.__bindCommonEvents(POINT))\n        .attr('d', genSym)\n        .attr('transform', (d) => this._translatePoint(d))\n        .attr('class', (d) => this._buildCss(\n          ['monte-point',\n            this.opts.pointCss,\n            this.opts.pointCssScaleAccessor,\n            d.css], areaDatum, areaIndex))\n        .call((sel) => this.fnInvoke(this.opts.pointEnterSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(POINT, ENTER))\n          .style('fill', this.optionReaderFunc('pointFillScaleAccessor'))\n          .style('stroke', this.optionReaderFunc('pointStrokeScaleAccessor'))\n          .attr('transform', (d) => this._translatePoint(d))\n          .call((sel) => this.fnInvoke(this.opts.pointEnterTransitionCustomize, sel));\n\n    // Update existing points\n    points.attr('class', (d) => this._buildCss(\n      ['monte-point',\n        this.opts.pointCss,\n        this.opts.pointCssScaleAccessor,\n        d.css], areaDatum, areaIndex))\n      .call((sel) => this.fnInvoke(this.opts.pointUpdateSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(POINT, UPDATE))\n        .style('fill', this.optionReaderFunc('pointFillScaleAccessor'))\n        .style('stroke', this.optionReaderFunc('pointStrokeScaleAccessor'))\n        .attr('transform', (d) => this._translatePoint(d))\n        .attr('d', genSym)\n        .call((sel) => this.fnInvoke(this.opts.pointUpdateTransitionCustomize, sel));\n\n    // Fade out removed points.\n    points.exit()\n    .call((sel) => this.fnInvoke(this.opts.pointExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(POINT, EXIT))\n        .style('opacity', 0)\n        .call((sel) => this.fnInvoke(this.opts.pointExitTransitionCustomize, sel))\n        .remove();\n  }\n\n  _translatePoint(d) {\n    const angle = this.rayAngleMap[d.prop];\n    const point = getPolarCoord(this.radius(d.value), angle);\n    return `translate(${point[0]}, ${point[1]})`;\n  }\n}\n\nRadarChart.EVENTS = EVENTS;\n\nfunction findBy(objArray, searchKey, searchKeyMatch, valueKey) {\n  let v = null;\n\n  for (let i = 0; i < objArray.length; i++) {\n    if (objArray[i]) {\n      if (objArray[i][searchKey] === searchKeyMatch) {\n        v = objArray[i][valueKey];\n        break;\n      }\n    }\n  }\n\n  return v;\n}\n","import { Extension } from './Extension';\nimport { ReplacePreceding } from '../tools/mergeOptions';\nimport { noop } from '../tools';\n\nconst AXIS_LABEL_DEFAULTS = {\n  binding: new ReplacePreceding(['axisRendered']),\n  layer: 'support',\n  eventPrefix: 'axislabelwrap',\n  axis: 'x',\n  labelCustomize: noop,\n  lineHeightEm: 1.1,\n  maxWidth: Number.POSITIVE_INFINITY,\n};\n\nexport class AxisLabelWrap extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, AXIS_LABEL_DEFAULTS);\n  }\n\n  _update() {\n    const axis = this.tryInvoke(this.opts.axis);\n    const lineHeightEm = +this.tryInvoke(this.opts.lineHeightEm);\n    const maxWidth = this.tryInvoke(this.opts.maxWidth);\n    const lbls = this.layer.selectAll(`.${axis}-axis.axis .tick text`);\n\n    this.layer.select(`.${axis}-axis`).transition()\n      .on('end', () => {\n        lbls.call(wrap, maxWidth, lineHeightEm)\n          .call((...args) => this.tryInvoke(this.opts.labelCustomize, ...args));\n      });\n  }\n}\n\n// Based on Mike Bostock's example at: https://bl.ocks.org/mbostock/7555321\nfunction wrap(text, width, lineHeightEm) {\n  text.each(function() {\n    const text = d3.select(this);\n    const words = text.text().split(/\\s+/).reverse();\n    const y = text.attr('y');\n    const dy = parseFloat(text.attr('dy'));\n    let line = [];\n    let tspan = text.text(null).append('tspan').attr('x', 0).attr('y', y).attr('dy', dy + 'em');\n    let lineNumber = 0;\n    let word = words.pop();\n\n    while (word) {\n      line.push(word);\n      tspan.text(line.join(' '));\n\n      if (tspan.node().getComputedTextLength() > width) {\n        line.pop();\n        tspan.text(line.join(' '));\n        line = [word];\n\n        ++lineNumber;\n        tspan = text.append('tspan')\n          .attr('x', 0)\n          .attr('y', y)\n          .attr('dy', lineNumber * lineHeightEm + dy + 'em')\n          .text(word);\n      }\n\n      word = words.pop();\n    }\n  });\n}\n","import { Extension } from './Extension';\nimport { ReplacePreceding } from '../tools/mergeOptions';\nimport { noop } from '../tools';\n\nconst AXIS_LABEL_DEFAULTS = {\n  binding: new ReplacePreceding(['axisRendered']),\n  layer: 'support',\n  eventPrefix: 'axislabeltrunc',\n  axis: 'x',\n  labelCustomize: noop,\n  maxWidth: Number.POSITIVE_INFINITY,\n  indicator: '...',\n};\n\nexport class AxisLabelTruncate extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, AXIS_LABEL_DEFAULTS);\n  }\n\n  _update() {\n    const axis = this.tryInvoke(this.opts.axis);\n    const indicator = this.tryInvoke(this.opts.indicator);\n    const maxWidth = this.tryInvoke(this.opts.maxWidth);\n    const lbls = this.layer.selectAll(`.${axis}-axis.axis .tick text`);\n\n    this.layer.select(`.${axis}-axis`).transition()\n      .on('end', () => {\n        lbls.call(limit, maxWidth, indicator)\n          .call((...args) => this.tryInvoke(this.opts.labelCustomize, ...args));\n      });\n  }\n}\n\n// Based on Mike Bostock's wrapping example at: https://bl.ocks.org/mbostock/7555321\nfunction limit(text, width, indicator) {\n  text.each(function() {\n    const textSel = d3.select(this);\n    const node = textSel.node();\n    const w = width < 1 ? 1 : width;\n    const origText = textSel.text();\n    let text = textSel.text();\n    let wasTruncated = false;\n\n    while (node.getComputedTextLength() > w) {\n      text = text.slice(0, -1);\n      textSel.text(text + indicator);\n      wasTruncated = true;\n    }\n\n    // Set the original text as the \"title\" attribute on the axis text element.\n    if (wasTruncated) {\n      textSel.append('title').text(origText);\n    }\n  });\n}\n","import { isDefined, isNumeric, noop } from '../tools';\nimport { Extension } from './Extension';\n\nconst LABEL_DEFAULTS = {\n  eventPrefix: 'label',\n  labelCss: 'monte-ext-label',\n  text: '',\n  x: 0,\n  y: 0,\n  dy: '0.35em',\n  dx: 0,\n  anchor: 'start',\n  labelCustomize: noop,\n  maxWidth: Number.POSITIVE_INFINITY,\n};\n\nexport class Label extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, LABEL_DEFAULTS);\n  }\n\n  _update() {\n    const labelCss = this.tryInvoke(this.opts.labelCss);\n    const text = this.tryInvoke(this.opts.text);\n    const maxWidth = +this.tryInvoke(this.opts.maxWidth);\n\n    const lbl = this._extCreateSelection().data([text]);\n\n    lbl.enter().append('text')\n      .call(this._setExtAttrs.bind(this))\n      .attr('class', labelCss)\n      .merge(lbl)\n        .html((d) => d)\n        .attr('text-anchor', this.tryInvoke(this.opts.anchor))\n        .call((lblSel) => this._checkMaxWidth(lblSel, maxWidth))\n        .attr('x', this.tryInvoke(this.opts.x))\n        .attr('y', this.tryInvoke(this.opts.y))\n        .attr('dx', this.tryInvoke(this.opts.dx))\n        .attr('dy', this.tryInvoke(this.opts.dy))\n        .call((...args) => this.tryInvoke(this.opts.labelCustomize, ...args));\n\n    lbl.exit().remove();\n  }\n\n  _checkMaxWidth(lblSel, maxWidth) {\n    if (isNumeric(maxWidth) && maxWidth > 0) {\n      const el = lblSel.node();\n      const currentWidth = el.getBBox().width;\n\n      if (currentWidth > maxWidth) {\n        const currentFontSize = getFontSize(el);\n        const newFontSize = currentFontSize * maxWidth / currentWidth;\n\n        // Store original font size to be potentially restored later.\n        if (!this.origFontSize) { this.origFontSize = currentFontSize; }\n\n        lblSel.style('font-size', newFontSize + 'px');\n      }\n      else if (isDefined(this.origFontSize) && currentWidth < maxWidth) {\n        // The font size has been changed and no longer needs to be scaled down\n        const currentFontSize = getFontSize(el);\n        const newFontSize = currentFontSize * maxWidth / currentWidth;\n\n        if (newFontSize > this.origFontSize) {\n          // New font would be larger than the original, don't grow but use restore original font size\n          lblSel.style('font-size', this.origFontSize + 'px');\n        }\n        else {\n          // Use new intermediate font size\n          lblSel.style('font-size', newFontSize + 'px');\n        }\n      }\n    }\n  }\n}\n\nfunction getFontSize(el) {\n  const style = window.getComputedStyle(el, null);\n  return parseFloat(style.getPropertyValue('font-size'), 10);\n}\n","import { ANY, HORIZONTAL, NONE, VERTICAL } from '../const/direction';\nimport { isDefined, isFunc } from '../tools/is';\nimport { BRUSH_HANDLE_SIZE } from '../const/d3';\nimport { Extension } from './Extension';\nimport { MonteOptionError } from '../support/MonteOptionError';\nimport { noop } from '../tools';\n\nconst SELECTION_CHANGED = 'selectionChanged';\nconst SELECTION_MOVE = 'selectionMove';\nconst SELECTION_START ='selectionStart';\nconst SELECTION_END = 'selectionEnd';\nconst SELECTION_EVENTS = [ SELECTION_CHANGED, SELECTION_MOVE, SELECTION_START, SELECTION_END ];\n\nconst SELECTION_RECT_DEFAULTS = {\n  css: '',\n  layer: 'selection',\n  eventPrefix: 'selectionRect',\n  selectionDirection: null,\n  handleSize: BRUSH_HANDLE_SIZE,\n\n  extent: function(w, h, selectionDirection) { // eslint-disable-line no-unused-vars\n    return [[0, 0], [w, h]];\n  },\n\n  initialSelection: function(w, h, selectionDirection) {\n    if (this.isXYBrush(selectionDirection)) {\n      return [[0, 0], [0, 0]]; // Select none and allow user to make a custom selection.\n    }\n    else if (this.isXBrush(selectionDirection)) {\n      return [0, w]; // Select entire region, because no small generalization can be made.\n    }\n    else if (this.isYBrush(selectionDirection)) {\n      return [0, h]; // Select entire region, because no small generalization can be made.\n    }\n  },\n\n  filter: null,\n  customHandlePath: null,\n};\n\nexport class SelectionRect extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, SELECTION_RECT_DEFAULTS);\n  }\n\n  _initPublicEvents(...events) {\n    events.push(...SELECTION_EVENTS);\n    super._initPublicEvents(events);\n  }\n\n  _brush(selectionDirection) {\n    let brush;\n    let css;\n\n    if (this.isXYBrush(selectionDirection)) {\n      brush = d3.brush();\n      css = 'select-dir-all';\n    }\n    else if (this.isXBrush(selectionDirection)) {\n      brush = d3.brushX();\n      css = 'select-dir-x';\n    }\n    else if (this.isYBrush(selectionDirection)) {\n      brush = d3.brushY();\n      css = 'select-dir-y';\n    }\n    else {\n      let msg = `The \"selectionDirection\" option must be a direction (${HORIZONTAL}, ${VERTICAL}, or ${NONE}), axis (x or y), or an unset value (null or undefined).`;\n      throw new MonteOptionError(msg);\n    }\n\n    return { brush, css };\n  }\n\n  _handles(selectionDirection) {\n    if (this.isXYBrush(selectionDirection)) {\n      return [{ type: 'n' }, { type: 'e' }, { type: 's' }, { type: 'w' }];\n    }\n    else if (this.isXBrush(selectionDirection)) {\n      return [{ type: 'e' }, { type: 'w' }];\n    }\n    else if (this.isYBrush(selectionDirection)) {\n      return [{ type: 'n' }, { type: 's' }];\n    }\n  }\n\n  _render() {\n    const selectionDirection = this.tryInvoke(this.opts.selectionDirection);\n    const handleSize = this.tryInvoke(this.opts.handleSize);\n    const css = this.tryInvoke(this.opts.css);\n    const w = this.chart.width;\n    const h = this.chart.height;\n    const extent = this.tryInvoke(this.opts.extent, w, h, selectionDirection);\n    const initialSelection = this.tryInvoke(this.opts.initialSelection, w, h, selectionDirection);\n    const brushDetails = this._brush(selectionDirection);\n\n    this.selectionDirection = selectionDirection;\n    this.extent = extent;\n    this.brush = brushDetails.brush.extent(extent);\n    this.brush.handleSize(handleSize)\n      .on('start', this._brushMove.bind(this, SELECTION_START))\n      .on('brush', this._brushMove.bind(this, SELECTION_MOVE))\n      .on('end', this._brushMove.bind(this, SELECTION_END));\n\n    // Setup brush / selection layer.\n    this.brushSel = this.layer\n      .classed('monte-ext-selection-rect', true)\n      .classed(brushDetails.css, true)\n      .classed(css, true)\n      .call(this.brush);\n\n    // Associate filter function if defined.\n    if (isDefined(this.opts.filter) && isFunc(this.opts.filter)) {\n      this.brush.filter(this.opts.filter);\n    }\n\n    // Draw custom handles\n    if (isDefined(this.opts.customHandlePath) && this.opts.customHandlePath !== noop) {\n      this._renderCustomHandles();\n      this.brushSel.classed('custom-handles', true);\n    }\n    else {\n      this.brushSel.classed('standard-handles', true);\n    }\n\n    // Break apart chain to ensure `brushSel` is assigned to before move and event listeners are\n    // invoked.\n    this.brush.move(this.brushSel, initialSelection);\n  }\n\n  _renderCustomHandles() {\n    this.brushSel.selectAll('.handle--custom')\n      .data(this._handles(this.selectionDirection))\n      .enter().append('path')\n        .attr('display', 'none')\n        .attr('class', (d) => `handle--custom ${d.type}`)\n        .attr('d', (d, i, nodes) => this.tryInvoke(this.opts.customHandlePath, d, i, nodes));\n\n    this.usingCustomHandles = true;\n  }\n\n  _boundsUpdate() {\n    const w = this.chart.width;\n    const h = this.chart.height;\n    const extent = this.tryInvoke(this.opts.extent, w, h, this.selectionDirection);\n    this.extent = extent;\n    this.brush.extent(extent);\n    this.brushSel.call(this.brush);\n\n    // Update proper scale of rect if the chart is resized.\n    this.brush.move(this.brushSel, this.unscaleSelection(this._selection.scaled));\n  }\n\n  _update() { }\n\n  _brushMove(ev) {\n    const s = this.selection();\n    this._selection = s;\n\n    if (this.usingCustomHandles) {\n      const handle = this.brushSel.selectAll('.handle--custom');\n\n      if (s.raw == null) {\n        handle.attr('display', 'none');\n      }\n      else {\n        handle.attr('display', null)\n          .attr('transform', (d) => {\n            const x = this._handleX(d.type, s.raw);\n            const y = this._handleY(d.type, s.raw);\n            return 'translate(' + x + ',' + y + ')';\n          });\n      }\n    }\n\n    this.emit(ev, s);\n    this.emit(SELECTION_CHANGED, s);\n  }\n\n  // NOTE: The scaled y0 and y1 are flipped because height and origin are flipped by convention\n  //       in the axes charts.\n  scaleSelection(rawSelection) {\n    const selectionDirection = this.selectionDirection;\n    const s = rawSelection;\n\n    if (!s) { return s; }\n\n    if (this.isXYBrush(selectionDirection)) {\n      // [[x0, y0], [x1, y1]]\n      return [\n        [this.chart.x.invert(s[0][0]), this.chart.y.invert(s[1][1])],\n        [this.chart.x.invert(s[1][0]), this.chart.y.invert(s[0][1])],\n      ];\n    }\n    else if (this.isXBrush(selectionDirection)) {\n      // [x0, x1]\n      return [this.chart.x.invert(s[0]), this.chart.x.invert(s[1])];\n    }\n    else if (this.isYBrush(selectionDirection)) {\n      // [y0, y1]\n      return [this.chart.y.invert(s[1]), this.chart.y.invert(s[0])];\n    }\n  }\n\n  unscaleSelection(scaledSelection) {\n    const selectionDirection = this.selectionDirection;\n    const s = scaledSelection;\n\n    if (!s) { return s; }\n\n    if (this.isXYBrush(selectionDirection)) {\n      // [[x0, y0], [x1, y1]]\n      return [\n        [this.chart.x(s[0][0]), this.chart.y(s[1][1])],\n        [this.chart.x(s[1][0]), this.chart.y(s[0][1])],\n      ];\n    }\n    else if (this.isXBrush(selectionDirection)) {\n      // [x0, x1]\n      return [this.chart.x(s[0]), this.chart.x(s[1])];\n    }\n    else if (this.isYBrush(selectionDirection)) {\n      // [y0, y1]\n      return [this.chart.y(s[1]), this.chart.y(s[0])];\n    }\n  }\n\n  selection() {\n    const raw = d3.brushSelection(this.brushSel.node());\n    const scaled = this.scaleSelection(raw);\n\n    return { raw, scaled };\n  }\n\n  clearSelection() {\n    this.brushSel.call(this.brush.move, null);\n  }\n\n  destroy() { }\n\n  isXYBrush(selectionDirection) {\n    return !isDefined(selectionDirection) || selectionDirection === NONE ||\n      selectionDirection === ANY;\n  }\n\n  isXBrush(selectionDirection) {\n    selectionDirection = selectionDirection || '';\n    return selectionDirection.toLowerCase() === 'x' || selectionDirection === HORIZONTAL;\n  }\n\n  isYBrush(selectionDirection) {\n    selectionDirection = selectionDirection || '';\n    return selectionDirection.toLowerCase() === 'y' || selectionDirection === VERTICAL;\n  }\n\n  _handleX(type, rawSelection) {\n    const dir = this.selectionDirection;\n    const s = rawSelection;\n    const isX = this.isXBrush(dir);\n    const isY = this.isYBrush(dir);\n\n    if (!s) { return 0; }\n\n    switch (type) {\n    case 'n': return isY ? mid(this.extent[0][0], this.extent[1][0]) : mid(s[0][0], s[1][0]);\n    case 's': return isY ? mid(this.extent[0][0], this.extent[1][0]) : mid(s[0][0], s[1][0]);\n    case 'e': return isX ? s[1] : s[1][0];\n    case 'w': return isX ? s[0] : s[0][0];\n    }\n  }\n\n  _handleY(type, rawSelection) {\n    const dir = this.selectionDirection;\n    const s = rawSelection;\n    const isX = this.isXBrush(dir);\n    const isY = this.isYBrush(dir);\n\n    if (!s) { return 0; }\n\n    switch (type) {\n    case 'n': return isY ? s[0] : s[0][1];\n    case 's': return isY ? s[1] : s[1][1];\n    case 'w': return isX ? mid(this.extent[0][1], this.extent[1][1]) : mid(s[0][1], s[1][1]);\n    case 'e': return isX ? mid(this.extent[0][1], this.extent[1][1]) : mid(s[0][1], s[1][1]);\n    }\n  }\n}\n\nfunction mid(a, b) {\n  return (a + b) / 2;\n}\n","import { mergeOptions } from '../tools/mergeOptions';\n\nexport function axisNoTicks(axis) {\n  axis.tickSize(0);\n  return axis;\n}\n\nexport function axisWholeNumberFormat(axis) {\n  axis.tickFormat(d3.format(',.0f'));\n  return axis;\n}\n\n//--------------------------------------------------------------------------------------------------\n//\n//  Axis label placements\n//\n//--------------------------------------------------------------------------------------------------\nconst X_LABEL_DEFAULTS = {\n  x: 0,\n  y: 30,\n  rotate: 0,\n  textAnchor: 'middle',\n};\nexport function axisXLabelGenerator(options) {\n  const opts = mergeOptions(options, X_LABEL_DEFAULTS);\n\n  // The `this` context is an `AxesChart`.\n  return function(lbl) {\n    const x = this.tryInvoke(opts.x);\n    const y = this.tryInvoke(opts.y);\n    const rotate = this.tryInvoke(opts.rotate);\n    const textAnchor = this.tryInvoke(opts.textAnchor);\n\n    lbl.attr('transform', `translate(${x}, ${y}), rotate(${rotate})`)\n      .style('text-anchor', textAnchor);\n  };\n}\n\nexport function axisXLabelStart(lbl) {\n  lbl.attr('transform', 'translate(0, 30)').style('text-anchor', 'start');\n}\n\nexport function axisXLabelCenter(lbl) {\n  const w = this.width || 0;\n  lbl.attr('transform', `translate(${w/2}, 30)`).style('text-anchor', 'middle');\n}\nexport { axisXLabelCenter as axisXLabelMiddle };\n\nexport function axisXLabelEnd(lbl) {\n  const w = this.width || 0;\n  lbl.attr('transform', `translate(${w}, 30)`).style('text-anchor', 'end');\n}\n\nconst Y_LABEL_DEFAULTS = {\n  x: -30,\n  y: function(w, h) { return h / 2; },\n  rotate: -90,\n  textAnchor: 'middle',\n};\nexport function axisYLabelGenerator(options) {\n  const opts = mergeOptions(options, Y_LABEL_DEFAULTS);\n\n  // The `this` context is an `AxesChart`.\n  return function(lbl) {\n    const x = this.tryInvoke(opts.x, this.width, this.height);\n    const y = this.tryInvoke(opts.y, this.width, this.height);\n    const rotate = this.tryInvoke(opts.rotate);\n    const textAnchor = this.tryInvoke(opts.textAnchor);\n\n    lbl.attr('transform', `translate(${x}, ${y}), rotate(${rotate})`)\n      .style('text-anchor', textAnchor);\n  };\n}\nexport function axisYLabelStart(lbl) {\n  const h = this.height || 0;\n  lbl.attr('transform', `translate(-30, ${h}), rotate(-90)`).style('text-anchor', 'start');\n}\n\nexport function axisYLabelCenter(lbl) {\n  const h = this.height || 0;\n  lbl.attr('transform', `translate(-30, ${h / 2}), rotate(-90)`).style('text-anchor', 'middle');\n}\nexport { axisYLabelCenter as axisYLabelMiddle };\n\nexport function axisYLabelEnd(lbl) {\n  lbl.attr('transform', 'translate(-30, 0), rotate(-90)').style('text-anchor', 'end');\n}\n","import { MonteError } from '../support/MonteError';\n\nfunction readStyleProp(style, prop) {\n  const val = parseFloat(style.getPropertyValue(prop), 10);\n  return isNaN(val) ? 0 : val;\n}\n\nfunction getStyle(el) {\n  const s = window.getComputedStyle(el, null);\n\n  return {\n    rect: el.getBoundingClientRect(),\n    style: s,\n    pl: readStyleProp(s, 'padding-left'),\n    pr: readStyleProp(s, 'padding-right'),\n    pt: readStyleProp(s, 'padding-top'),\n    pb: readStyleProp(s, 'padding-bottom'),\n  };\n}\n\nexport class Resizer {\n  constructor(options) {\n    this.opts = options || {};\n  }\n\n  option(prop, value) {\n    this.opts[prop] = value;\n  }\n\n  resize(chart) {\n    const el = chart.bound.node().parentElement;\n\n    // Only resize the element if it's in the DOM. This helps avoid an IE11 'Unspecified Error'\n    // issue and helps that resizes only apply to elemnts that can actually be measured.\n    if (document.body.contains(el)) {\n      this.checkResize(chart);\n    }\n  }\n\n  checkResize() {\n    throw MonteError.UnimplementedMethod('Resize', 'resize');\n  }\n}\n\nexport class HorizontalResizer extends Resizer {\n  checkResize(chart) {\n    const el = chart.bound.node().parentElement;\n    const s = getStyle(el);\n\n    chart.boundingRect(s.rect.width - s.pl - s.pr, chart.opts.boundingHeight);\n  }\n}\n\nexport class HorizontalRatioResizer extends Resizer {\n  checkResize(chart) {\n    const el = chart.bound.node().parentElement;\n    const s = getStyle(el);\n    const width = s.rect.width - s.pl - s.pr;\n    const ratio = this.opts.ratio || 1;\n\n    chart.boundingRect(width, width / ratio);\n  }\n}\n\nexport class AutoResizer extends Resizer {\n  checkResize(chart) {\n    const el = chart.bound.node().parentElement;\n    const s = getStyle(el);\n\n    chart.boundingRect(s.rect.width - s.pl - s.pr, s.rect.height - s.pt - s.pb);\n  }\n}\n\nexport class VerticalResizer extends Resizer {\n  checkResize(chart) {\n    const el = chart.bound.node().parentElement;\n    const s = getStyle(el);\n\n    chart.boundingRect(chart.opts.boundingWidth, s.rect.height - s.pt - s.pb);\n  }\n}\n","export var name = \"monte\";\nexport var version = \"0.0.0-alpha28\";\nexport var author = {\"name\":\"Yellow Tugboat\",\"url\":\"http://www.yellowtugboat.com\"};\nexport var description = \"A visualization framework for D3.js and SVG. Ships with prebuilt charts and components.\";\nexport var main = \"build/monte.js\";\nexport var scripts = {\"postpublish\":\"zip -j build/monte.zip -- LICENSE README.md build/monte.js build/monte.min.js\",\"prepublish\":\"npm run build\",\"test\":\"(browserify test/**/*-test.js | tape-run) && npm run lint\",\"lint\":\"eslint src/**\",\"package-version\":\"json2module package.json > build/package.js\",\"package-umd\":\"rollup --config config/rollup.config.umd.js\",\"package-umd-min\":\"npm run lint && rollup --config config/rollup.config.umd.min.js\",\"watch\":\"npm run package-version && nodemon -e js -w *.js -w src -x \\\"npm run package-version && npm run package-umd\\\"\",\"build\":\"npm run package-version && npm run package-umd && npm run package-umd-min\"};\nexport var repository = {\"type\":\"git\",\"url\":\"git+https://github.com/YellowTugboat/monte.git\"};\nexport var keywords = [\"D3\",\"chart\",\"charts\",\"Monte\",\"line\",\"scatter\",\"bar\",\"pie\",\"donut\",\"doughnut\",\"icon\",\"iconarray\"];\nexport var license = \"MIT\";\nexport var bugs = {\"url\":\"https://github.com/YellowTugboat/monte/issues\"};\nexport var homepage = \"https://github.com/YellowTugboat/monte#readme\";\nexport var devDependencies = {\"babel-cli\":\"6\",\"babel-plugin-lodash\":\"3.2\",\"babel-preset-es2015-rollup\":\"3\",\"browser-run\":\"^3.2.0\",\"browserify\":\"^13.1.0\",\"d3\":\"4\",\"eslint\":\"3\",\"eslint-config-yellow-tugboat\":\"0\",\"http-server\":\"^0.9.0\",\"json2module\":\"0.0.3\",\"lodash\":\"4\",\"lodash-es\":\"4\",\"nodemon\":\"^1.9\",\"rollup\":\"^0.43\",\"rollup-plugin-babel\":\"2\",\"rollup-plugin-node-resolve\":\"3\",\"rollup-plugin-uglify\":\"2\",\"tape\":\"^4.6.0\",\"tape-run\":\"^2.1.4\"};\nexport var peerDependencies = {\"d3\":\"4\"};\n","// General interaction (charts or elements)\nexport const CLICK = 'click';\nexport const TOUCHSTART = 'touchstart';\nexport const TOUCHEND = 'touchend';\nexport const MOUSEOVER = 'mouseover';\nexport const MOUSEOUT = 'mouseout';\n\n// Chart Support\nexport const SUPPRESSED_ERROR = 'suppressedError';\nexport const EXTENSION = 'extension';\n\n// Chart and Extension Lifecycle (extensions support a subset)\nexport const BEFORE_RENDER = 'beforeRender';\nexport const RENDERED = 'rendered';\nexport const BEFORE_UPDATE = 'beforeUpdate';\nexport const UPDATED = 'updated';\nexport const BEFORE_BOUNDS_UPDATE = 'beforeBoundsUpdate';\nexport const BOUNDS_UPDATED = 'boundsUpdated';\nexport const BEFORE_CLEAR = 'beforeClear';\nexport const CLEARED = 'cleared';\nexport const BEFORE_DESTROY = 'beforeDestroy';\nexport const DESTROYED = 'destroyed';\n\nexport const BEFORE_OPTION_CHANGE = 'beforeOptionChange';\nexport const OPTION_CHANGED = 'optionChanged';\nexport const BEFORE_STYLE_DOMAINS_RESET = 'beforeStyleDomainsReset';\nexport const STYLE_DOMAINS_RESET = 'styleDomainsReset';\n\nexport const INTERACTION_EVENTS = [CLICK, TOUCHSTART, TOUCHEND, MOUSEOVER, MOUSEOUT];\nexport const INTERACTION_SHOW_EVENTS = [TOUCHSTART, MOUSEOVER];\nexport const INTERACTION_HIDE_EVENTS = [TOUCHEND, MOUSEOUT];\n\n// Support events\nexport const CHART_SUPPORT_EVENTS = [SUPPRESSED_ERROR, EXTENSION];\n\n// Lifecycle event pairs\nexport const CHART_LIFECYCLE_EVENTS = [\n  BEFORE_RENDER, RENDERED,\n  BEFORE_UPDATE, UPDATED,\n  BEFORE_BOUNDS_UPDATE, BOUNDS_UPDATED,\n  BEFORE_CLEAR, CLEARED,\n  BEFORE_STYLE_DOMAINS_RESET, STYLE_DOMAINS_RESET,\n  BEFORE_OPTION_CHANGE, OPTION_CHANGED,\n  BEFORE_DESTROY, DESTROYED,\n];\n\nexport const EXTENSION_LIFECYCLE_EVENTS = [\n  BEFORE_UPDATE, UPDATED,\n  BEFORE_CLEAR, CLEARED,\n  BEFORE_OPTION_CHANGE, OPTION_CHANGED,\n  BEFORE_DESTROY, DESTROYED,\n];\n\nexport const ACTION_ADD = 'add';\nexport const ACTION_REMOVE = 'remove';\nexport const ACTION_CSS_OVER = 'over';\nexport const ACTION_CSS_TOUCH = 'touch';\n\nexport const INTERACTION_EVENT_CSS_MAP = {\n  [MOUSEOVER]: { action: ACTION_ADD, css: ACTION_CSS_OVER },\n  [MOUSEOUT]: { action: ACTION_REMOVE, css: ACTION_CSS_OVER },\n  [TOUCHSTART]: { action: ACTION_ADD, css: ACTION_CSS_TOUCH },\n  [TOUCHEND]: { action: ACTION_REMOVE, css: ACTION_CSS_TOUCH },\n};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import createCaseFirst from './_createCaseFirst.js';\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nexport default upperFirst;\n","import castSlice from './_castSlice.js';\nimport hasUnicode from './_hasUnicode.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nexport default createCaseFirst;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nexport default snakeCase;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = createCompounder(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\nexport default kebabCase;\n","import capitalize from './capitalize.js';\nimport createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nexport default camelCase;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import baseFlatten from './_baseFlatten.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nexport default flattenDeep;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nexport default mergeWith;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","// External LoDash dependencies must be loaded through this file in order to easily track which\n// specific features are used.\nimport _ from 'lodash-es';\n\n// Used for deep merging of options\nexport const defaultsDeep = _.defaultsDeep;\n\n// Used for deep setting/getting of values in nested objects\nexport const set = _.set;\nexport const get = _.get;\nexport const has = _.has;\n\nexport const flattenDeep = _.flattenDeep;\n\nexport const isEqual = _.isEqual;\n\n// String manipulation\n// Used for CSS and class method names\nexport const camelCase = _.camelCase;\nexport const kebabCase = _.kebabCase;\nexport const snakeCase = _.snakeCase;\nexport const upperFirst = _.upperFirst;\n","import apply from './_apply.js';\nimport baseRest from './_baseRest.js';\nimport customDefaultsMerge from './_customDefaultsMerge.js';\nimport mergeWith from './mergeWith.js';\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n * // => { 'a': { 'b': 2, 'c': 3 } }\n */\nvar defaultsDeep = baseRest(function(args) {\n  args.push(undefined, customDefaultsMerge);\n  return apply(mergeWith, undefined, args);\n});\n\nexport default defaultsDeep;\n","import baseSet from './_baseSet.js';\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nexport default set;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","import baseHas from './_baseHas.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nexport default has;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","// Use a true undefined in case the `undefined` is overridden for some reason.\nexport const UNDEF = void 0;\n","// Based on `ExtendableError` from\n// http://stackoverflow.com/questions/31089801/extending-error-in-javascript-with-es6-syntax\n\nconst DEFAULT_MSG = 'An error has occurred, but no specific message was provided. Please use the stacktrace to debug.';\n\nexport class MonteError extends Error {\n  constructor(message, ...msgs) {\n    const msg = [message || DEFAULT_MSG, ...msgs].join(' ');\n    super(msg);\n    this.name = this.constructor.name;\n    this.message = msg;\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    else {\n      this.stack = (new Error(message)).stack;\n    }\n  }\n\n  static UnimplementedMethod(method, methodName, sourceType='chart', ...msgs) {\n    return new MonteError(`${method} (\\`${methodName}\\`) needs to be defined in order for the ${sourceType} to be useful.`, ...msgs);\n  }\n\n  static InvalidArgumentType(methodName, argumentName, expectedType, received, ...msgs) {\n    return new MonteError(`Method (${methodName}) argument \"${argumentName}\" of unexpected type. Expected ${expectedType}, but was given ${received}.`, ...msgs);\n  }\n}\n","import { MonteError } from './MonteError';\nimport { flattenDeep } from '../external/lodash';\nimport { isFunc } from '../tools/is';\n\nexport class InstanceGroup {\n  constructor(instances, proxyMethodSet, ...additionalMethodsToProxy) {\n    this._instances = [];\n    this._methodsToProxy = proxyMethodSet.concat(flattenDeep(...additionalMethodsToProxy));\n\n    this._methodsToProxy.forEach((m) => this.addProxyMethod(m));\n    instances.forEach((instance) => this.addInstance(instance));\n  }\n\n  addProxyMethod(methodName) {\n    this[methodName] = this.invokeProxyMethod.bind(this, methodName);\n  }\n\n  removeProxyMethod(methodName) {\n    const index = this._methodsToProxy.indexOf(methodName);\n\n    if (index > -1) { this._methodsToProxy.splice(index, 1); }\n  }\n\n  addInstance(instance) {\n    if (instance) {\n      this._instances.push(instance);\n    }\n  }\n\n  removeChart(instance) {\n    const index = this._instances.indexOf(instance);\n\n    if (index > -1) { this._instances.splice(index, 1); }\n  }\n\n  invokeProxyMethod(methodName, ...args) {\n    this._instances.forEach((instance) => {\n      if (instance && instance[methodName] && isFunc(instance[methodName])) {\n        instance[methodName](...args);\n      }\n      else {\n        throw new MonteError(`Cannot invoke ${methodName} on ${instance}`);\n      }\n    });\n\n    return this;\n  }\n\n  getProxiedMethods() {\n    return this._methodsToProxy;\n  }\n\n  destroy(...args) {\n    this._instances.forEach((instance) => {\n      if (instance && instance['destroy'] && isFunc(instance['destroy'])) {\n        instance['destroy'](...args);\n      }\n    });\n\n    this._instances.length = 0;\n  }\n}\n","import { MonteError } from './MonteError';\nexport class MonteOptionError extends MonteError {\n  static RequiredOption(optionName, ...msgs) {\n    return new MonteOptionError(`Option \"${optionName}\" is required.`, ...msgs);\n  }\n\n  static InvalidEnumOption(optionName, badValue, ...msgs) {\n    return new MonteOptionError(`Option \"${optionName}\" must be set to a valid option. The value \"${badValue}\" is not valid.`, ...msgs);\n  }\n\n  static OptionMustBeFunction(optionName, ...msgs) {\n    return new MonteOptionError(`Option \"${optionName}\" must be a function.`, ...msgs);\n  }\n}\n","// In d3-axis, there are hard coded shifts of 0.5. This shift is used for grid alignment and other\n// axis alignments.\nexport const AXIS_SHIFT = 0.5;\n\n// In d3-transition the default transition time is 250ms.\nexport const TRANSITION_DURATION_MS = 250;\nexport const TRANSITION_DELAY_MS = 0;\nexport const TRANSITION_EASE = d3.easeCubic;\nexport const TRANSITION_EASE_START_POSITION = 0;\nexport const TRANSITION_EASE_END_POSITION = 1;\n\nexport const ENTER = 'enter';\nexport const UPDATE = 'update';\nexport const EXIT = 'exit';\n\nexport const UPDATE_PATTERN = { ENTER: ENTER, UPDATE: UPDATE, EXIT: EXIT };\n\nexport const BRUSH_HANDLE_SIZE = 6;\n\n// In d3-shape, a default size of 64 is used.\nexport const SYMBOL_SIZE = 64;\n","import { TRANSITION_DELAY_MS, TRANSITION_DURATION_MS, TRANSITION_EASE, TRANSITION_EASE_END_POSITION } from '../const/d3';\n\nexport const standard = {\n  delay: TRANSITION_DELAY_MS,\n  duration: TRANSITION_DURATION_MS,\n  ease: TRANSITION_EASE,\n};\n\nexport const none = {\n  delay: 0,\n  duration: 0,\n  ease: function() { return TRANSITION_EASE_END_POSITION; },\n};\n\nexport const transitionSettings = {\n  standard,\n  none,\n};\n","// Based on examples at https://developer.mozilla.org/en-US/docs/Web/Events/resize\nimport { mergeOptions } from '../tools/mergeOptions';\n\n// Frames per second -> Frame duration in MS == the timeout in MS to use\n// -----------------------------\n// | Frame Rate | Timeout in MS |\n// |      30fps |  33ms         |\n// |      20fps |  50ms         |\n// |      15fps |  66ms         |\n// |      10fps | 100ms         |\n// |       5fps | 200ms         |\n// ------------------------------\nexport const frameRateTimings = {\n  FPS_30: 33,\n  FPS_20: 50,\n  FPS_15: 66,\n  FPS_10: 100,\n  FPS_05: 200,\n};\n\nexport function EventWatcherException(message) {\n  this.message = message;\n  this.name = 'EventWatcherException';\n}\n\nconst DEFAULTS = {\n  timeoutDelayMs: frameRateTimings.FPS_15,\n  target: window,\n  eventName: 'resize',\n\n  // Automatically run all callbacks when `document.DOMContentLoaded` or `window.load` is fired.\n  documentLoadRun: true,\n};\n\nexport class EventWatcher {\n  constructor(options) {\n    this.opts = mergeOptions(options, DEFAULTS);\n    this.callbacks = [];\n    this.running = false;\n    this.pendingFrame = null;\n    this.pendingTimeout = null;\n    this.listenerAttached = false;\n    this.documentReady = null;\n\n    if (!this.opts.eventName) {\n      throw new EventWatcher.EventWatcherException('An event name must be given!');\n    }\n\n    if (this.opts.documentLoadRun) {\n      const eventWatcher = this;\n      const ready = (() => {\n        // Use timeout to get a fresh pass after document is ready.\n        setTimeout(function() {\n          document.removeEventListener('DOMContentLoaded', ready);\n          window.removeEventListener('load', ready);\n\n          eventWatcher.documentReady = true;\n          eventWatcher.runCallbacks();\n        }, 0);\n      });\n\n      this.documentReady = false;\n      document.addEventListener('DOMContentLoaded', ready);\n      window.addEventListener('load', ready);\n\n      if (document.readyState === 'complete') {\n        ready();\n      }\n    }\n  }\n\n  // fired on event firing\n  _fired() {\n    if (!this.running) {\n      this.running = true;\n      const run = this._runCallbacks.bind(this);\n\n      if (window.requestAnimationFrame) {\n        this.pendingFrame = window.requestAnimationFrame(run);\n      }\n      else {\n        this.pendingTimeout = setTimeout(run, this.opts.timeoutDelayMs);\n      }\n    }\n  }\n\n  // Run the actual callbacks and clear state.\n  _runCallbacks() {\n    this.pendingFrame = this.pendingTimeout = null;\n    this.runCallbacks();\n    this.running = false;\n  }\n\n  // Run the actual callbacks.\n  runCallbacks() {\n    this.callbacks.forEach((callback) => callback());\n  }\n\n  // Add callback\n  add(callback) {\n    if (!this.listenerAttached) {\n      this.opts.target.addEventListener(this.opts.eventName, this._fired.bind(this));\n      this.listenerAttached = true;\n    }\n\n    if (callback) { this.callbacks.push(callback); }\n  }\n\n  // Remove specific callback\n  remove(callback) {\n    if (this.callbacks.length) {\n      const index = this.callbacks.indexOf(callback);\n\n      if (index > -1) { this.callbacks.splice(index, 1); }\n    }\n\n    return this;\n  }\n\n  // Destroy EventWatcher\n  destroy() {\n    // Cancel pending invocation\n    if (this.pendingFrame) { window.cancelAnimationFrame(this.pendingFrame); }\n    else if (this.pendingTimeout) { clearTimeout(this.pendingTimeout); }\n\n    // Remove listener\n    if (this.listenerAttached) {\n      this.opts.target.removeEventListener(this.opts.eventName, this._fired.bind(this));\n    }\n  }\n\n  // Modify the delay. The delay is only used in browsers that don't support animation frames.\n  timeoutDelay(timeoutDelayMs = null) {\n    if (timeoutDelayMs === null) { return this.opts.timeoutDelayMs;}\n    this.opts.timeoutDelayMs = timeoutDelayMs;\n\n    return this;\n  }\n}\n","import { EventWatcher } from '../support/EventWatcher';\nimport { flattenDeep } from '../external/lodash';\n\nclass MonteGlobal {\n  constructor() {\n    this._developerMode = false;\n    this._developerModeEvents = null;\n    this._resizeWatch = new EventWatcher();\n    this.extensionId = 0;\n    this.chartId = 0;\n  }\n\n  getNextChartId() {\n    return this.chartId++; // Post-increment so counts start at zero.\n  }\n\n  // WARNING:\n  //   Resetting IDs may result in unexpected behavior if multiple chart instances recieve the same\n  //   ID... use cautiously and sparingly.\n  //\n  //   Resetting the chart IDs should rarely be done and should have very specific motivation. In\n  //   general, the IDs should be allowed to grow over the course of an application's life span.\n  resetChartCount() {\n    this.chartId = 0;\n  }\n\n  getNextExtensionId() {\n    return this.extensionId++; // Post-increment so counts start at zero.\n  }\n\n  // WARNING:\n  //   Resetting IDs may result in unexpected behavior if multiple extension instances recieve the\n  //   same ID... use cautiously and sparingly.\n  //\n  //   Resetting the extension IDs should rarely be done and should have very specific motivation.\n  //   In general, the IDs should be allowed to grow over the course of an application's life span.\n  resetExtensionCount() {\n    this.extensionId = 0;\n  }\n\n  getResizeWatcher() {\n    return this._resizeWatch;\n  }\n\n  isDeveloperMode() {\n    return this._developerMode;\n  }\n\n  // TODO: Add example of wild card event(s)?\n  setDeveloperModeEvents(...args) {\n    this._developerModeEvents = flattenDeep(args);\n    this._developerMode = true;\n  }\n\n  getDeveloperModeEvents() {\n    return this._developerModeEvents;\n  }\n\n  clearDeveloperModeEvents() {\n    this._developerModeEvents = null;\n  }\n\n  clearDeveloperMode() {\n    this._developerMode = false;\n  }\n\n  enableDeveloperMode() {\n    this._developerMode = true;\n  }\n}\n\nexport const global = new MonteGlobal();\n\n// FIXME: Does a simple window check work in Node / JSDom / Tests? A `typeof window === object` is\n//        probably needed.\nif (typeof window === 'object') {\n  window.MonteGlobal = global;\n}\n","import { ENTER, UPDATE } from '../../const/d3';\nimport { isArray, isDefined, isFunc } from '../../tools/is';\nimport { Chart } from '../Chart';\nimport { MonteError } from '../../support/MonteError';\nimport { MonteOptionError } from '../../support/MonteOptionError';\nimport { noop } from '../../tools/noop';\n\nconst EVENT_AXIS_BEFORE_RENDER = 'beforeAxisRender';\nconst EVENT_AXIS_RENDERED = 'axisRendered';\nconst EVENTS = [EVENT_AXIS_BEFORE_RENDER, EVENT_AXIS_RENDERED];\n\nconst AXES_CHART_DEFAULTS = {\n  // The axes X and Y are generally assumed. In some cases it may be desirable to add an additional\n  // axis such as 'Y2'.\n  axes: ['x', 'y'], // The scale names to create axes for.\n\n  suppressAxes: false, // Suppress the display of the axes.\n\n  /*************************************************************************************************\n   *\n   * \"X\"-related Options\n   *\n   ************************************************************************************************/\n\n  // The property name of the value for the X coordinate passed to the scale function.\n  xProp: 'x',\n\n  // The scale function for X values.\n  xScale: d3.scaleLinear,\n\n  // Callback function to customize the X axis, such as tick count and format.\n  xAxisCustomize: null,\n\n  // Callback function to customize the X extent.\n  xDomainCustomize: null,\n\n  xRange: (w, h) => [0, w], // eslint-disable-line no-unused-vars\n\n  xAxisConstructor: d3.axisBottom,\n\n  xAxisTransform: (w, h) => `translate(0,${h})`,\n\n  xLabel: null,\n\n  xLabelCustomize: noop,\n\n  xTickLabelCustomize: noop,\n\n  /*************************************************************************************************\n   *\n   * \"Y\"-related Options\n   *\n   ************************************************************************************************/\n\n  // The property name of the value for the X coordinate passed to the scale function.\n  yProp: 'y',\n\n  // The scale function for Y values.\n  yScale: d3.scaleLinear,\n\n  // Callback function to customize the X axis, such as tick count and format.\n  yAxisCustomize: null,\n\n  // Callback function to customize the Y extent.\n  yDomainCustomize: null,\n\n  yRange: (w, h) => [h, 0],\n\n  yAxisConstructor: d3.axisLeft,\n\n  yAxisTransform: null,\n\n  yLabel: null,\n\n  yLabelCustomize: noop,\n\n  yTickLabelCustomize: noop,\n};\n\nexport class AxesChart extends Chart {\n  __axisOpt(scaleName, option) {\n    return this.opts[`${scaleName}${option}`];\n  }\n\n  _initOptions(...options) {\n    super._initOptions(...options, AXES_CHART_DEFAULTS);\n\n    if (!isDefined(this.opts.axes)) {\n      // Set empty array to ease assumptions (i.e. avoid null checks) in later code.\n      this.opts.axes = [];\n    }\n\n    this.axes = this.tryInvoke(this.opts.axes);\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...EVENTS // Axis events\n    );\n  }\n\n  _initCore() {\n    super._initCore();\n\n    this.forEachAxisScale((scaleName) => {\n      // Create scale\n      const range = this.__axisOpt(scaleName, 'Range')(this.width, this.height);\n      const scale = this.__axisOpt(scaleName, 'Scale')().range(range);\n      this[scaleName] = scale;\n\n      // Setup axes\n      this[`${scaleName}Axis`] = this.__axisOpt(scaleName, 'AxisConstructor')(scale);\n    });\n  }\n\n  _initCustomize() {\n    this.forEachAxisScale((scaleName) => {\n      const customize = this.__axisOpt(scaleName, 'AxisCustomize');\n\n      if (isArray(customize)) {\n        const axis = this[`${scaleName}Axis`];\n        customize.forEach((customFunc) => customFunc.call(this, axis));\n      }\n      else if (isFunc(customize)) {\n        customize.call(this, this[`${scaleName}Axis`]);\n      }\n    });\n  }\n\n  _initRender() {\n    // Attach axes\n    this.forEachAxisScale((scaleName) => {\n      this.support.append('g').attr('class', `${scaleName}-axis axis`);\n    });\n    this.updateAxesTransforms();\n\n    super._initRender();\n  }\n\n  _boundsUpdate() {\n    const actions = super._boundsUpdate(true, true);\n\n    this.updateAxesRanges();\n    this.updateAxesTransforms();\n    this.renderAxes();\n\n    actions.notify();\n    actions.update();\n  }\n\n  _data(data) {\n    super._data(data);\n    this.updateAxesDomains();\n    this.renderAxes();\n  }\n\n  replaceScale(scaleName, newScaleConstructor) {\n    super.replaceScale(scaleName, newScaleConstructor);\n    this[`${scaleName}Axis`].scale(this[scaleName]);\n    this.renderAxes();\n\n    return this;\n  }\n\n  updateAxesTransforms() {\n    this.forEachAxisScale((scaleName) => {\n      const axisGrp = this.support.select(`.${scaleName}-axis`);\n      const trans = this.__axisOpt(scaleName, 'AxisTransform');\n\n      if (trans) {\n        axisGrp.attr('transform', this.tryInvoke(trans, this.width, this.height));\n      }\n    });\n\n    return this;\n  }\n\n  updateAxesRanges() {\n    this.forEachAxisScale((scaleName) => {\n      const rangeFunc = this.__axisOpt(scaleName, 'Range');\n      const range = rangeFunc.call(this, this.width, this.height);\n      this[scaleName].range(range);\n    });\n\n    return this;\n  }\n\n  updateAxesDomains() {\n    const data = this.data();\n\n    this.forEachAxisScale((scaleName) => {\n      const customize = this.opts[scaleName + 'DomainCustomize'];\n      let extent = data ? this._domainExtent(data, scaleName) : [];\n\n      if (customize) { extent = this.tryInvoke(customize, extent); }\n\n      this[scaleName].domain(extent);\n    });\n\n    return this;\n  }\n\n  renderAxes() {\n    // Only suppress all if a literal boolean is given.\n    const suppressAxes = this.tryInvoke(this.opts.suppressAxes);\n    if (suppressAxes === true) { return; }\n\n    const isSuppressArray = isArray(suppressAxes);\n    const stage = this.hasRendered ? UPDATE : ENTER;\n    const t = this.bound.transition().call(this._transitionSetup('axis', stage));\n\n    // (Re)render axes\n    this.forEachAxisScale((scaleName) => {\n      if (isSuppressArray && suppressAxes.indexOf(scaleName) > -1) { return; }\n\n      const axis = this[`${scaleName}Axis`];\n      this.emit(EVENT_AXIS_BEFORE_RENDER, scaleName, axis);\n\n      this.support.select(`.${scaleName}-axis`)\n        .transition(t)\n          .call(axis)\n          .call(this._setLabel.bind(this, scaleName))\n          .call((t) => this.emit(EVENT_AXIS_RENDERED, scaleName, axis, t));\n    });\n\n    return this;\n  }\n\n  _domainExtent(data, scaleName) { // eslint-disable-line no-unused-vars\n    if (this.opts.directUse) {\n      // Provide simple default extent that can be overridden by the corresponding\n      // `<scaleName>DomainCustomize` option.\n      return [0, 1];\n    }\n\n    throw MonteError.UnimplementedMethod('Domain Extent', '_domainExtent');\n  }\n\n  // Loops over each scale name that is bound to an axis.\n  forEachAxisScale(f) {\n    this.axes.forEach(f);\n\n    return this;\n  }\n\n  _setLabel(scaleName, transition) { // eslint-disable-line no-unused-vars\n    const optLabel = this.opts[`${scaleName}Label`];\n    const label = isDefined(optLabel) ? this.tryInvoke(this.opts[`${scaleName}Label`]) : null;\n    const data = label === null ? [] : [label];\n    const lbl = this.support.select(`.${scaleName}-axis`).selectAll('.monte-axis-label').data(data);\n\n    lbl.enter().append('text')\n      .merge(lbl)\n        .attr('class', 'monte-axis-label')\n        .text((d) => d)\n        .call((lbls) => {\n          const opt =`${scaleName}LabelCustomize`;\n          const lblCustomize = this.opts[opt];\n\n          if (lblCustomize) {\n            if (isFunc(lblCustomize)) {\n              this.fnInvoke(lblCustomize, lbls);\n            }\n            else {\n              throw MonteOptionError.OptionMustBeFunction(opt, `(${opt} is optional)`);\n            }\n          }\n        });\n\n    lbl.exit().remove();\n  }\n\n  static createInstanceGroup(charts, ...additionalMethodsToProxy) {\n    additionalMethodsToProxy.push(GROUP_PROXY_METHODS);\n    return super.createInstanceGroup(charts, ...additionalMethodsToProxy);\n  }\n}\n\nAxesChart.EVENTS = EVENTS;\n\nexport const GROUP_PROXY_METHODS = [\n  'forEachAxisScale', 'renderAxes', 'replaceScale', 'updateAxesDomains', 'updateAxesRanges',\n  'updateAxesTransforms',\n];\n","import { Chart } from '../Chart';\n\n// Serves as the base chart for charts using polar coordinates (pie, donut, guage, etc...)\nexport class PolarChart extends Chart {\n  _getLayerTranslate() {\n    let l;\n    let t;\n\n    if (this.opts.origin) {\n      l = this.tryInvoke(this.opts.origin.left, this);\n      t = this.tryInvoke(this.opts.origin.top, this);\n    }\n    else {\n      l = this.width / 2 + this.margin.left;\n      t = this.height / 2 + this.margin.top;\n    }\n\n    return `translate(${l}, ${t})`;\n  }\n}\n","import { ENTER, EXIT, SYMBOL_SIZE, UPDATE } from '../../const/d3';\nimport { AxesChart } from './AxesChart';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { noop } from '../../tools/noop';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\nimport { upperFirst } from '../../tools/string';\n\nconst LINE = 'line';\nconst POINT = 'point';\nconst LINE_CHART_DEFAULTS = {\n  chartCss: 'monte-line-chart',\n\n  margin: {\n    top: 10,\n    right: 10,\n    bottom: 30,\n    left: 40,\n  },\n\n  /***********************************************************************************************\n   *\n   * Line related options\n   *\n   **********************************************************************************************/\n\n  valuesProp: 'values',\n\n  lineProp: '',\n\n  // Callback function to customize the line generator, such as set the interpolate.\n  lineCustomize: null,\n\n  lineStrokeScale: noop,\n  lineStrokeScaleAccessor: AxesChart.generateScaleAccessor('lineStrokeScale', 'lineProp'),\n\n  // Scale function for CSS class to apply per line. Input: line index, Output: String of CSS Class.\n  lineCssScale: noop,\n  lineCssScaleAccessor: AxesChart.generateScaleAccessor('lineCssScale', 'lineProp'),\n\n  // Static CSS class(es) to apply to every line.\n  lineCss: 'line',\n\n  /***********************************************************************************************\n   *\n   * Point related options\n   *\n   **********************************************************************************************/\n\n  includePoints: false,\n\n  pointProp: '',\n  pointFillScale: noop,\n  pointFillScaleAccessor: AxesChart.generateScaleAccessor('pointFillScale', 'pointProp'),\n\n  pointStrokeScale: noop,\n  pointStrokeScaleAccessor: AxesChart.generateScaleAccessor('pointStrokeScale', 'pointProp'),\n\n  // Scale function for CSS class to apply per line. Input: line index, Output: String of CSS Class.\n  pointCssScale: noop,\n  pointCssScaleAccessor: AxesChart.generateScaleAccessor('pointCssScale', 'pointProp'),\n\n  // Static CSS class(es) to apply to every line.\n  pointCss: 'point',\n\n  pointSize: SYMBOL_SIZE,\n\n  pointSymbol: (symbol) => symbol.type(d3.symbolCircle),\n\n  pointDataKey: AxesChart.defaultDataKey,\n};\n\nexport class LineChart extends AxesChart {\n  _initOptions(...options) {\n    super._initOptions(...options, LINE_CHART_DEFAULTS);\n  }\n\n  _initCore() {\n    super._initCore();\n\n    // Initialize the line generator\n    this.line = d3.line()\n      .x((d) => this.getScaledProp('x', d))\n      .y((d) => this.getScaledProp('y', d));\n  }\n\n  _initCustomize() {\n    super._initCustomize();\n    if (this.opts.lineCustomize) { this.opts.lineCustomize(this.line); }\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(LINE), // Line events\n      ...commonEventNames(POINT) // Point events\n    );\n  }\n\n  _domainExtent(data, scaleName) {\n    const valuesProp = this.opts.valuesProp;\n    const itemProp = this.opts[scaleName + 'Prop'];\n    const extents = data.map((line) => d3.extent(line[valuesProp], (d) => d[itemProp]));\n    const extent = [d3.min(extents, (d) => d[0]), d3.max(extents, (d) => d[1])];\n\n    return extent;\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.lineStrokeScale);\n    resetScaleDomain(this.opts.lineCssScale);\n    resetScaleDomain(this.opts.pointFillScale);\n    resetScaleDomain(this.opts.pointStrokeScale);\n    resetScaleDomain(this.opts.pointCssScale);\n  }\n\n  // Render the vis.\n  _update() {\n    const lineGrps = this._updateLines();\n\n    if (this.opts.includePoints) {\n      lineGrps.each((d, i, nodes) => this._updateLinePoints(nodes[i], d, i));\n    }\n\n    return lineGrps;\n  }\n\n  _updateLines() {\n    // Data join for the lines\n    const lineGrps = this.draw.selectAll('.monte-line-grp')\n      .data(this.displayData, this.opts.dataKey);\n\n    const enterLines = lineGrps.enter().append('g')\n      .attr('class', 'monte-line-grp')\n      .append('path')\n        .call(this.__bindCommonEvents(LINE));\n\n    this._updateLineSelection(enterLines, ENTER);\n\n    // Update existing lines and set values on new lines.\n    const updateLines = lineGrps.select('.monte-line');\n    this._updateLineSelection(updateLines, UPDATE);\n\n    // Fade out removed lines.\n    lineGrps.exit()\n      .transition()\n        .call(this._transitionSetup(LINE, EXIT))\n        .style('opacity', 0)\n      .remove();\n\n    // Here the order is important. Merging the line groups when only an update occurs results in an\n    // empty selection if the command was lineGrps.enter().selectAll('.grp-line').merge(lineGrps);\n    return lineGrps.merge(lineGrps.enter().selectAll('.monte-line-grp'));\n  }\n\n  _updateLineSelection(sel, stage) {\n    const selectionFnName = LINE + upperFirst(stage) + 'SelectionCustomize';\n    const transitionFnName = LINE + upperFirst(stage) + 'TransitionCustomize';\n\n    sel.attr('class', (d, i) => this._buildCss(\n      ['monte-line',\n        this.opts.lineCss,\n        this.opts.lineCssScaleAccessor,\n        d.css], d, i))\n        .call((sel) => this.fnInvoke(this.opts[selectionFnName], sel))\n      .transition()\n        .call(this._transitionSetup(LINE, stage))\n        .attr('d', (d) => this.line(this.getProp('values', d)))\n        .style('stroke', this.optionReaderFunc('lineStrokeScaleAccessor'))\n        .call((t) => this.fnInvoke(this.opts[transitionFnName], t));\n  }\n\n  _updateLinePoints(node, lineDatum, lineIndex) {\n    const lineGrp = d3.select(node);\n\n    // Data join for the points\n    const points = lineGrp.selectAll('.monte-point')\n      .data((d) => this.getProp('values', d), this.opts.pointDataKey);\n\n    const genSym = (d, i) => {\n      const size = this.tryInvoke(this.opts.pointSize, d, i);\n      const symbase = d3.symbol().size(size);\n      const symbol = this.opts.pointSymbol(symbase, d, i);\n      return symbol(d, i);\n    };\n\n    // Create new points\n    points.enter().append('path')\n        .call(this.__bindCommonEvents(POINT))\n        .attr('d', genSym)\n        .attr('transform', (d) => this._translatePoint(d))\n        .attr('class', (d) => this._buildCss(\n          ['monte-point',\n            lineDatum.css,\n            this.opts.lineCssScaleAccessor,\n            this.opts.pointCss,\n            this.opts.pointCssScaleAccessor,\n            d.css], lineDatum, lineIndex))\n        .call((sel) => this.fnInvoke(this.opts.pointEnterSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(POINT, ENTER))\n          .attr('transform', (d) => this._translatePoint(d))\n          .call((sel) => this.fnInvoke(this.opts.pointEnterTransitionCustomize, sel));\n\n    // Update existing points\n    points.attr('class', (d) => this._buildCss(\n      ['monte-point',\n        lineDatum.css,\n        this.opts.lineCssScaleAccessor,\n        this.opts.pointCss,\n        this.opts.pointCssScaleAccessor,\n        d.css], lineDatum, lineIndex))\n      .call((sel) => this.fnInvoke(this.opts.pointUpdateSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(POINT, UPDATE))\n        .style('fill', this.optionReaderFunc('pointFillScaleAccessor'))\n        .style('stroke', this.optionReaderFunc('pointStrokeScaleAccessor'))\n        .attr('transform', (d) => this._translatePoint(d))\n        .attr('d', genSym)\n        .call((sel) => this.fnInvoke(this.opts.pointUpdateTransitionCustomize, sel));\n\n    // Fade out removed points.\n    points.exit()\n    .call((sel) => this.fnInvoke(this.opts.pointExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(POINT, EXIT))\n        .style('opacity', 0)\n        .call((sel) => this.fnInvoke(this.opts.pointExitTransitionCustomize, sel))\n        .remove();\n  }\n\n  _translatePoint(d) {\n    return `translate(${this.getScaledProp('x', d)}, ${this.getScaledProp('y', d)})`;\n  }\n}\n","import { ENTER, EXIT, UPDATE } from '../../const/d3';\nimport { LineChart } from './LineChart';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { extentFromZero } from '../../util/extents';\nimport { noop } from '../../tools/noop';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\nimport { upperFirst } from '../../tools/string';\n\nconst AREA = 'area';\n\nconst AREA_CHART_DEFAULTS = {\n  chartCss: 'monte-area-chart',\n\n  margin: {\n    top: 10,\n    right: 10,\n    bottom: 30,\n    left: 40,\n  },\n\n  /***********************************************************************************************\n   *\n   * Area related options\n   *\n   **********************************************************************************************/\n\n  areaProp: '',\n\n  // Callback function to customize the area generator.\n  areaCustomize: null,\n\n  // Scale function for the `fill` attribute to apply per area.\n  areaFillScale: noop,\n  areaFillScaleAccessor: LineChart.generateScaleAccessor('areaFillScale', 'areaProp'),\n\n  // Scale function for CSS class to apply per area. Input: line index, Output: String of CSS Class.\n  areaCssScale: noop,\n  areaCssScaleAccessor: LineChart.generateScaleAccessor('areaCssScale', 'areaProp'),\n\n  // Static CSS class(es) to apply to every area.\n  areaCss: 'area',\n\n  // OVERRIDES\n  yDomainCustomize: extentFromZero,\n};\n\nexport class AreaChart extends LineChart {\n  _initOptions(...options) {\n    super._initOptions(...options, AREA_CHART_DEFAULTS);\n  }\n\n  _initCore() {\n    super._initCore();\n\n    // Initialize the line generator\n    this.area = d3.area()\n      .x((d) => this.getScaledProp('x', d))\n      .y0(() => this.height)\n      .y1((d) => this.getScaledProp('y', d));\n  }\n\n  _initCustomize() {\n    super._initCustomize();\n\n    if (this.opts.areaCustomize) {\n      this.tryInvoke(this.opts.areaCustomize, this.area);\n    }\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(AREA)   // Area events\n    );\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.areaCssScale);\n    resetScaleDomain(this.opts.areaFillScale);\n  }\n\n  _update() {\n    const lineGrps = super._update();\n\n    lineGrps.each((d, i, nodes) => {\n      this._updateLineArea(nodes[i], d, i, nodes);\n    });\n  }\n\n  _updateLineArea(node, lineDatum, lineIndex, lineNodes) {\n    const lineGrp = d3.select(node);\n\n    // Data join for the area\n    const area = lineGrp.selectAll('.monte-area').data((d) => [d]);\n\n    // Create new area and update existing\n    const enterAreas = area.enter().insert('path', ':first-child')\n        .call(this.__bindCommonEvents(AREA));\n    this._updateLineAreaSelections(enterAreas, ENTER, lineDatum, lineIndex, lineNodes);\n    this._updateLineAreaSelections(area, UPDATE, lineDatum, lineIndex, lineNodes);\n\n    // Fade out removed area\n    area.exit()\n      .call((sel) => this.fnInvoke(this.opts.areaExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(AREA, EXIT))\n        .style('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.areaExitTransitionCustomize, t))\n        .remove();\n  }\n\n  _updateLineAreaSelections(sel, stage, lineDatum, lineIndex, lineNodes) {\n    const selectionFnName = AREA + upperFirst(stage) + 'SelectionCustomize';\n    const transitionFnName = AREA + upperFirst(stage) + 'TransitionCustomize';\n\n    sel.attr('class', (d) => this._buildCss(\n      ['monte-area',\n        lineDatum.css,\n        this.opts.lineCssScaleAccessor,\n        this.opts.areaCss,\n        this.opts.areaCssScaleAccessor,\n        d.css], lineDatum, lineIndex))\n        .call((sel) => this.fnInvoke(this.opts[selectionFnName], sel))\n    .transition()\n        .call(this._transitionSetup(AREA, stage), lineDatum, lineIndex, lineNodes)\n        .attr('d', (d) => this.area(this.getProp('values', d)))\n        .style('fill', this.optionReaderFunc('areaFillScaleAccessor'))\n        .call((t) => this.fnInvoke(this.opts[transitionFnName], t));\n  }\n}\n","import { LineChart } from './LineChart';\n\nconst SPARKLINE_CHART_DEFAULTS = {\n  chartCss: 'monte-sparkline-chart',\n  boundingWidth: 80,\n  boundingHeight: 30,\n\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  },\n\n  suppressAxes: true,\n\n  pointSize: 24,\n};\n\nexport class SparklineChart extends LineChart {\n  _initOptions(...options) {\n    super._initOptions(...options, SPARKLINE_CHART_DEFAULTS);\n  }\n\n  _data(data, ...tail) {\n    this.rawData = data;\n    super._data([data], ...tail);\n  }\n}\n","import { ENTER, EXIT, UPDATE } from '../../const/d3';\nimport { AxesChart } from './AxesChart';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { extentBalanced } from '../../util/extents';\nimport { noop } from '../../tools/noop';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\n\nconst EVENT_UPDATING_LABELS = 'updatingLabels';\nconst EVENT_UPDATED_LABELS = 'updatedLabels';\n\nconst EVENTS = [\n  EVENT_UPDATING_LABELS, EVENT_UPDATED_LABELS,\n];\n\nconst BAR = 'bar';\nconst LABEL = 'label';\n\nconst BAR_CHART_DEFAULTS = {\n  chartCss: 'monte-bar-chart',\n\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 30,\n    left: 40,\n  },\n\n  barCssScale: noop,\n  barCssScaleAccessor: AxesChart.generateScaleAccessor('barCssScale', 'x'),\n\n  barFillScale: noop,\n  barFillScaleAccessor: AxesChart.generateScaleAccessor('barFillScale', 'x'),\n\n  // Static CSS class(es) to apply to every line.\n  barCss: 'bar',\n  barGrpCss: function(d) {\n    const value = this.getProp('y', d);\n    let css = 'monte-bar-zero';\n\n    if (value > 0) {\n      css = 'monte-bar-pos';\n    }\n    else if (value < 0) {\n      css = 'monte-bar-neg';\n    }\n\n    return css;\n  },\n\n  xProp: 'id',\n  yProp: 'value',\n\n  xScale: function() {\n    return d3.scaleBand().paddingInner(0.1).round(true);\n  },\n\n  yDomainCustomize: extentBalanced,\n\n  includeLabels: false,\n\n  // TODO: Adopt label placement like arc charts?\n  labelProp: 'value',\n  labelFillScale: noop,\n  labelFillScaleAccessor: AxesChart.generateScaleAccessor('labelFillScale', 'label'),\n  label: function(d) {\n    return this.getProp('label', d);\n  },\n  labelXAdjust: '',\n  labelX: function(d) {\n    return this._barX(d) + this.x.bandwidth() / 2;\n  },\n  labelYAdjust: function(d) {\n    const value = this.getProp('y', d);\n\n    return value > 0 ?\n      '-0.05em' :\n      '1.05em';\n  },\n  labelY: function(d) {\n    const value = this.getProp('y', d);\n\n    return value > 0 ?\n      this._barY(d) :\n      this._barY(d) + this._barHeight(d);\n  },\n};\n\nexport class BarChart extends AxesChart {\n  _initOptions(...options) {\n    super._initOptions(...options, BAR_CHART_DEFAULTS);\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(BAR),   // Bar events\n      ...EVENTS\n    );\n  }\n\n  _domainExtent(data, scaleName) {\n    let extent = null;\n\n    if (scaleName === 'y') {\n      extent = d3.extent(data, (d) => this.getProp('y', d));\n    }\n    else if (scaleName === 'x') {\n      extent = data.map((d) => this.getProp('x', d));\n    }\n\n    return extent;\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.barCssScale);\n    resetScaleDomain(this.opts.barFillScale);\n    resetScaleDomain(this.opts.labelFillScale);\n  }\n\n  // Render the vis.\n  _update() {\n    const barGrps = this._updateBars();\n\n    if (this.opts.includeLabels) {\n      this.emit(EVENT_UPDATING_LABELS);\n\n      barGrps.each((d, i, nodes) => {\n        const node = d3.select(nodes[i]);\n        this._updateBarLabel(node, d, i, nodes);\n      });\n\n      this.emit(EVENT_UPDATED_LABELS);\n    }\n  }\n\n  _updateBars() {\n    const barGrps = this.draw.selectAll('.monte-bar-grp')\n      .data(this.displayData, this.opts.dataKey);\n\n    const barX = this._barX.bind(this);\n    const barY = this._barY.bind(this);\n    const barWidth = this._barWidth.bind(this);\n    const barHeight = this._barHeight.bind(this);\n\n    // Create new bar groups\n    barGrps.enter().append('g')\n      .attr('class', (d, i) => this._buildCss([\n        'monte-bar-grp',\n        this.opts.barGrpCss], d, i))\n      .append('rect')\n        .call(this.__bindCommonEvents(BAR))\n        .style('opacity', 0)\n        .attr('x', barX)\n        .attr('y', barY)\n        .attr('width', barWidth)\n        .attr('height', barHeight)\n        .style('fill', this.optionReaderFunc('barFillScaleAccessor'))\n        .attr('class', (d, i) => this._buildCss([\n          'monte-bar',\n          this.opts.barCss,\n          this.opts.barCssScaleAccessor,\n          d.css], d, i))\n        .call((sel) => this.fnInvoke(this.opts.barEnterSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(BAR, ENTER))\n          .style('opacity', 1)\n          .attr('x', barX)\n          .attr('y', barY)\n          .attr('width', barWidth)\n          .attr('height', barHeight)\n          .call((t) => this.fnInvoke(this.opts.barEnterTransitionCustomize, t));\n\n    // Update existing bar groups\n    barGrps\n      .attr('class', (d, i) => this._buildCss([\n        'monte-bar-grp',\n        this.opts.barGrpCss], d, i))\n      .select('rect')\n        .style('fill', this.optionReaderFunc('barFillScaleAccessor'))\n        .attr('class', (d, i) => this._buildCss([\n          'monte-bar',\n          this.opts.barCss,\n          this.opts.barCssScaleAccessor,\n          d.css], d, i))\n        .call((sel) => this.fnInvoke(this.opts.barUpdateSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(BAR, UPDATE))\n          .attr('x', barX)\n          .attr('y', barY)\n          .attr('width', barWidth)\n          .attr('height', barHeight)\n          .style('opacity', 1)\n          .call((t) => this.fnInvoke(this.opts.barUpdateTransitionCustomize, t));\n\n    // Fade out removed lines.\n    barGrps.exit()\n      .call((sel) => this.fnInvoke(this.opts.barExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(BAR, EXIT))\n        .style('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.barExitTransitionCustomize, t))\n      .remove();\n\n    // Here the order is important. Merging the line groups when only an update occurs results in an\n    // empty selection if the command was lineGrps.enter().selectAll('.grp-line').merge(lineGrps);\n    return barGrps.merge(barGrps.enter().selectAll('.monte-bar-grp'));\n  }\n\n  _updateBarLabel(barGrp, d, i, nodes) {\n    const lbl = barGrp.selectAll('.monte-bar-label').data([d]);\n\n    lbl.enter().append('text')\n      .attr('class', 'monte-bar-label')\n      .style('opacity', 0)\n      .style('fill', (d1) => this.tryInvoke(this.opts.labelFillScaleAccessor, d1, i, nodes))\n      .attr('x', (d1) => this.tryInvoke(this.opts.labelX, d1, i, nodes))\n      .attr('dx', (d1) => this.tryInvoke(this.opts.labelXAdjust, d1, i, nodes))\n      .attr('y', (d1) => this.tryInvoke(this.opts.labelY, d1, i, nodes))\n      .attr('dy', (d1) => this.tryInvoke(this.opts.labelYAdjust, d1, i, nodes))\n      .text((d1) => this.tryInvoke(this.opts.label, d1, i, nodes))\n      .call((sel) => this.fnInvoke(this.opts.labelEnterSelectionCustomize, sel))\n      .transition()\n        .call((t) => {\n          const ts = this._transitionSettings(LABEL, ENTER);\n          this._transitionConfigure(t, ts, d, i, nodes);\n        })\n        .style('opacity', 1)\n        .call((t) => this.fnInvoke(this.opts.labelEnterTransitionCustomize, t));\n\n    lbl.style('fill', (d1) => this.tryInvoke(this.opts.labelFillScaleAccessor, d1, i, nodes))\n      .attr('x', (d1) => this.tryInvoke(this.opts.labelX, d1, i, nodes))\n      .attr('dx', (d1) => this.tryInvoke(this.opts.labelXAdjust, d1, i, nodes))\n      .attr('y', (d1) => this.tryInvoke(this.opts.labelY, d1, i, nodes))\n      .attr('dy', (d1) => this.tryInvoke(this.opts.labelYAdjust, d1, i, nodes))\n      .text((d1) => this.tryInvoke(this.opts.label, d1, i, nodes))\n      .call((sel) => this.fnInvoke(this.opts.labelUpdateSelectionCustomize, sel))\n      .transition()\n        .call((t) => {\n          const ts = this._transitionSettings(LABEL, UPDATE);\n          this._transitionConfigure(t, ts, d, i, nodes);\n        })\n        .style('opacity', 1)\n        .call((t) => this.fnInvoke(this.opts.labelUpdateTransitionCustomize, t));\n\n    lbl.exit()\n      .call((sel) => this.fnInvoke(this.opts.labelExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(LABEL, EXIT))\n        .call((t) => this.fnInvoke(this.opts.labelExitTransitionCustomize, t))\n      .remove();\n  }\n\n  _barX(d) { return this.getScaledProp('x', d); }\n  _barWidth() { return this.x.bandwidth(); }\n  _barY(d) {\n    const value = this.getProp('y', d);\n\n    return value < 0 ? this.y(0) : this.getScaledProp('y', d);\n  }\n  _barHeight(d) {\n    if (this.y.domain()[0] < 0) {\n      // extent includes negative values\n      return Math.abs(this.height - this.getScaledProp('y', d) - this.y(0));\n    }\n\n    return this.height - this.getScaledProp('y', d);\n  }\n}\n\nBarChart.EVENTS = EVENTS;\n","import { BarChart } from './BarChart';\nimport { extentBalanced } from '../../util/extents';\n\nconst HBAR_CHART_DEFAULTS = {\n  chartCss: 'monte-horizontal-bar-chart',\n\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 40,\n    left: 40,\n  },\n\n  barCssScaleAccessor: BarChart.generateScaleAccessor('barCssScale', 'y'),\n  barFillScaleAccessor: BarChart.generateScaleAccessor('barFillScale', 'y'),\n\n  xProp: 'value',\n  yProp: 'id',\n\n  xScale: d3.scaleLinear,\n  yScale: function() {\n    return d3.scaleBand().paddingInner(0.1).round(true);\n  },\n\n  xDomainCustomize: extentBalanced,\n  yDomainCustomize: null,\n\n  barGrpCss: function(d) {\n    const value = this.getProp('x', d);\n    let css = 'monte-bar-zero';\n\n    if (value > 0) {\n      css = 'monte-bar-pos';\n    }\n    else if (value < 0) {\n      css = 'monte-bar-neg';\n    }\n\n    return css;\n  },\n\n  labelX: function(d) {\n    const value = this.getProp('x', d);\n\n    return value > 0 ?\n      this._barWidth(d) + this._barX(d) :\n      this._barX(d);\n  },\n  labelXAdjust: '',\n  labelY: function(d) {\n    return this._barY(d) + this.y.bandwidth() / 2;\n  },\n  labelYAdjust: '0.35em',\n};\n\nexport class HorizontalBarChart extends BarChart {\n  _initOptions(...options) {\n    super._initOptions(...options, HBAR_CHART_DEFAULTS);\n  }\n\n  _domainExtent(data, scaleName) {\n    let extent = null;\n\n    if (scaleName === 'x') {\n      extent = d3.extent(data, (d) => d[this.opts.xProp]);\n    }\n    else if (scaleName === 'y') {\n      extent = data.map((d) => d[this.opts.yProp]);\n    }\n\n    return extent;\n  }\n\n  _barX(d) {\n    const value = this.getProp('x', d);\n\n    return value > 0 ? this.x(0) : this.x(0) - this._barWidth(d);\n  }\n  _barWidth(d) {\n    return Math.abs(this.getScaledProp('x', d) - this.x(0));\n  }\n  _barY(d) { return this.getScaledProp('y', d); }\n  _barHeight() { return this.y.bandwidth(); }\n}\n","import { BarChart } from './BarChart';\nimport { isObject } from '../../tools/is';\n\nconst SIMPLE_BAR_CHART_DEFAULTS = {\n  chartCss: 'monte-simple-bar-chart',\n  boundingWidth: 10,\n  boundingHeight: 100,\n\n  margin: {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1,\n  },\n\n  suppressAxes: true,\n\n  xScale: function() {\n    return d3.scaleBand().paddingInner(0).round(true);\n  },\n  yDomainCustomize: [0, 100],\n};\n\nexport class SimpleBarChart extends BarChart {\n  _initOptions(...options) {\n    super._initOptions(...options, SIMPLE_BAR_CHART_DEFAULTS);\n  }\n\n  _data(data, ...tail) {\n    const valueProp = this.tryInvoke(this.opts.yProp);\n    const datum = isObject(data) ? data: {\n      [valueProp]: data,\n    };\n\n    if (!datum.css) { datum.css = 'monte-simple-bar-value'; }\n\n    this.rawData = data;\n    super._data([datum], ...tail);\n  }\n\n  _update() {\n    super._update();\n\n    this._updateSupport();\n  }\n\n  _updateSupport() {\n    const barSupport = { bottom: this.y.domain()[1], top: this.y.domain()[0] };\n    const bgBar = this.bg.selectAll('.monte-bar-bg').data([barSupport]);\n    const frame = this.draw.selectAll('.monte-frame').data([barSupport]);\n\n    bgBar.enter().append('rect')\n        .attr('class', 'monte-simple-bar-bg')\n      .merge(bgBar)\n        .attr('x', 0)\n        .attr('y', (d) => this.y(d.bottom))\n        .attr('width', this.x.bandwidth())\n        .attr('height', (d) => this.y(d.top));\n\n    bgBar.exit().remove();\n\n    frame.enter().append('rect')\n        .attr('class', 'monte-simple-bar-frame')\n      .merge(frame)\n        .attr('x', 0)\n        .attr('y', (d) => this.y(d.bottom))\n        .attr('width', this.x.bandwidth())\n        .attr('height', (d) => this.y(d.top));\n\n    frame.exit().remove();\n  }\n}\n","import { HorizontalBarChart } from './HorizontalBarChart';\nimport { isObject } from '../../tools/is';\n\nconst SIMPLE_HORT_BAR_CHART_DEFAULTS = {\n  chartCss: 'monte-simple-horizontal-bar-chart',\n  boundingWidth: 100,\n  boundingHeight: 10,\n\n  margin: {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1,\n  },\n\n  suppressAxes: true,\n\n  xDomainCustomize: [0, 100],\n  yScale: function() {\n    return d3.scaleBand().paddingInner(0).round(true);\n  },\n};\n\nexport class HorizontalSimpleBarChart extends HorizontalBarChart {\n  _initOptions(...options) {\n    super._initOptions(...options, SIMPLE_HORT_BAR_CHART_DEFAULTS);\n  }\n\n  _data(data, ...tail) {\n    const valueProp = this.tryInvoke(this.opts.xProp);\n    const datum = isObject(data) ? data: {\n      [valueProp]: data,\n    };\n\n    if (!datum.css) { datum.css = 'monte-simple-hort-bar-value'; }\n\n    this.rawData = data;\n    super._data([datum], ...tail);\n  }\n\n  _update() {\n    super._update();\n\n    this._updateSupport();\n  }\n\n  _updateSupport() {\n    const barSupport = { left: this.x.domain()[0], right: this.x.domain()[1] };\n    const bgBar = this.bg.selectAll('.monte-bar-bg').data([barSupport]);\n    const frame = this.draw.selectAll('.monte-frame').data([barSupport]);\n\n    bgBar.enter().append('rect')\n        .attr('class', 'monte-simple-bar-bg')\n      .merge(bgBar)\n        .attr('x', (d) => this.y(d.left))\n        .attr('y', 0)\n        .attr('width', (d) => this.x(d.right))\n        .attr('height', this.y.bandwidth());\n\n    bgBar.exit().remove();\n\n    frame.enter().append('rect')\n        .attr('class', 'monte-simple-bar-frame')\n      .merge(frame)\n        .attr('x', (d) => this.y(d.left))\n        .attr('y', 0)\n        .attr('width', (d) => this.x(d.right))\n        .attr('height', this.y.bandwidth());\n\n    frame.exit().remove();\n  }\n}\n","import { SEGMENT_BAR_MODE, SegmentBarChart } from './SegmentBarChart';\nimport { MonteOptionError } from '../../support/MonteOptionError';\nimport { extentBalanced } from '../../util/extents';\n\nconst HSEGMENT_BAR_CHART_DEFAULTS = {\n  chartCss: 'monte-horizontal-segment-bar-chart',\n  barSegmentCss: 'bar-segment',\n\n  margin: {\n    top: 0,\n    right: 10,\n    bottom: 20,\n    left: 40,\n  },\n\n  segmentBarMode: SEGMENT_BAR_MODE.STACKED,\n\n  barSegCssScaleAccessor: SegmentBarChart.generateScaleAccessor('barSegCssScale', 'y'),\n  barSegFillScaleAccessor: SegmentBarChart.generateScaleAccessor('barSegFillScale', 'y'),\n\n  yProp: 'id',\n  xProp: 'values',\n  yInnerProp: 'id',\n  xInnerProp: 'value',\n\n  xScale: d3.scaleLinear,\n\n  yInnerScale: function() {\n    return d3.scaleBand().paddingInner(0.1).paddingOuter(0.1).round(true);\n  },\n\n  yScale: function() {\n    return d3.scaleBand().paddingInner(0.1).round(true);\n  },\n\n  xDomainCustomize: extentBalanced,\n  yDomainCustomize: null,\n\n\n  labelXAdjust: '-0.1em',\n  labelX: function(d, i, nodes, allNodes) {\n    const mode = this.option('segmentBarMode');\n\n    if (mode === SEGMENT_BAR_MODE.STACKED) {\n      return this._barXInnerStacked(d, i, nodes, allNodes) + this._barWidthStacked(d);\n    }\n    else if (mode === SEGMENT_BAR_MODE.GROUPED) {\n      return this._barWidthGrouped(d);\n    }\n  },\n  labelYAdjust: '0.35em',\n  labelY: function(d) {\n    const mode = this.option('segmentBarMode');\n\n    if (mode === SEGMENT_BAR_MODE.STACKED) {\n      return this.y.bandwidth() / 2;\n    }\n    else if (mode === SEGMENT_BAR_MODE.GROUPED) {\n      return this._barYInnerGrouped(d) + this.yInner.bandwidth() / 2;\n    }\n  },\n};\n\nexport class HorizontalSegmentBarChart extends SegmentBarChart {\n  _initOptions(...options) {\n    super._initOptions(...options, HSEGMENT_BAR_CHART_DEFAULTS);\n  }\n\n  _initInnerScales() {\n    this.yInner = this.opts.yInnerScale();\n  }\n\n  _updateXInnerRange() {}\n\n  _updateXInnerDomain() {}\n\n  _updateYInnerRange() {\n    this.yInner.range([0, this.y.bandwidth()]);\n  }\n\n  _updateYInnerDomain() {\n    const data = this.data();\n    const xProp = this.tryInvoke(this.opts.xProp);\n    const yInnerProp = this.tryInvoke(this.opts.yInnerProp);\n\n    // TODO: Find all Y inner values to build domain.\n    const yInnerDomain = data[0][xProp].map((d) => d[yInnerProp]);\n    this.yInner.domain(yInnerDomain);\n  }\n\n  _domainExtent(data, scaleName) {\n    let extent = null;\n\n    if (scaleName === 'y') {\n      extent = data.map((d) => this.getProp('y', d));\n    }\n    else if (scaleName === 'x') {\n      const mode = this.tryInvoke(this.opts.segmentBarMode);\n\n      if (mode === SEGMENT_BAR_MODE.GROUPED) {\n        extent = this._extentInner(data, 'x');\n      }\n      else if (mode === SEGMENT_BAR_MODE.STACKED) {\n        extent = this._extentMaxes(data, 'x');\n      }\n      else {\n        throw MonteOptionError.InvalidEnumOption('segmentBarMode', mode);\n      }\n    }\n\n    return extent;\n  }\n\n  _segLabels(d) {\n    return this.getProp('x', d);\n  }\n\n  _barProp() { return this.tryInvoke(this.opts.xProp); }\n  _barGroupTranslate(d) { return `0, ${this._barY(d)}`; }\n  _barX(d) { return this.getScaledProp('x', d); }\n  _barXInnerGrouped() { return 0; }\n  _barXInnerStacked(d, i, nodes, allNodes) {\n    const baseX = 0;\n    let xShift = 0;\n\n    for (let j = 0; j < i; j++) {\n      const n = d3.select(allNodes[j]);\n      const d1 = n.datum();\n      xShift += this._barWidthStacked(d1);\n    }\n\n    return baseX + xShift;\n  }\n  _barWidthGrouped(d) { return this.getScaledProp('x', 'xInner', d); }\n  _barWidthStacked(d) { return this.getScaledProp('x', 'xInner', d); }\n  _barY(d) { return this.getScaledProp('y', d); }\n  _barYInnerGrouped(d) { return this.getScaledProp('yInner', d); }\n  _barYInnerStacked() { return 0; }\n  _barHeightGrouped() { return this.yInner.bandwidth(); }\n  _barHeightStacked() { return this.y.bandwidth(); }\n}\n","import { ENTER, EXIT, UPDATE } from '../../const/d3';\nimport { AxesChart } from './AxesChart';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { defaultDataKey } from '../Chart';\nimport { extentBalanced } from '../../util/extents';\nimport { kebabCase } from '../../tools/string';\nimport { noop } from '../../tools/noop';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\n\nconst EVENT_UPDATING_LABELS = 'updatingLabels';\nconst EVENT_UPDATED_LABELS = 'updatedLabels';\n\nconst EVENTS = [\n  EVENT_UPDATING_LABELS, EVENT_UPDATED_LABELS,\n];\n\nconst CAT = 'cat';\nconst SPAN = 'span';\nconst LABEL = 'label';\n\nconst SPAN_CHART_DEFAULTS = {\n  chartCss: 'monte-vertical-span-chart',\n\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 30,\n    left: 40,\n  },\n\n  spanCssScale: noop,\n  spanCssScaleAccessor: AxesChart.generateScaleAccessor('spanCssScale', 'x'),\n\n  spanFillScale: noop,\n  spanFillScaleAccessor: AxesChart.generateScaleAccessor('spanFillScale', 'x'),\n\n  // Static CSS class(es) to apply to every line.\n  spanCss: 'span',\n  spanGrpCss: noop,\n\n  xProp: 'id',\n  valuesProp: 'values',\n  y1Prop: 'startValue',\n  y2Prop: 'endValue',\n\n  xScale: function() {\n    return d3.scaleBand().paddingInner(0.1).round(true);\n  },\n\n  yDomainCustomize: extentBalanced,\n\n  includeLabels: false, // false = neither, true = both, otherwise: 'start' or 'end' for one.\n\n  // TODO: Adopt label placement like arc charts?\n  labelStartProp: 'startValue',\n  labelStartFillScale: noop,\n  labelStartFillScaleAccessor: AxesChart.generateScaleAccessor('labelStartFillScale', 'labelStart'),\n  labelStart: function(d) {\n    return this.getProp('labelStart', d);\n  },\n  labelStartXAdjust: '',\n  labelStartX: function(d, i, node, catDatum) {\n    return this._spanX(catDatum, d) + this.x.bandwidth() / 2;\n  },\n  labelStartYAdjustProp: 'y2',\n  labelStartYAdjust: function(d) {\n    const value = this.getProp('y2', d);\n\n    return value > 0 ?\n      '-0.05em' :\n      '1.05em';\n  },\n  labelStartY: function(d, i, node, catDatum) {\n    const value = this.getProp('y2', d);\n\n    return value > 0 ?\n      this._spanY(catDatum, d) + this._spanHeight(catDatum, d) :\n      this._spanY(catDatum, d);\n  },\n\n  labelEndProp: 'endValue',\n  labelEndFillScale: noop,\n  labelEndFillScaleAccessor: AxesChart.generateScaleAccessor('labelEndFillScale', 'labelEnd'),\n  labelEnd: function(d) {\n    return this.getProp('labelEnd', d);\n  },\n  labelEndXAdjust: '',\n  labelEndX: function(d, i, node, catDatum) {\n    return this._spanX(catDatum, d) + this.x.bandwidth() / 2;\n  },\n  labelEndYAdjustProp: 'y2',\n  labelEndYAdjust: function(d) {\n    const value = this.getProp('y2', d);\n\n    return value > 0 ?\n      '-0.05em' :\n      '1.05em';\n  },\n  labelEndY: function(d, i, node, catDatum) {\n    const value = this.getProp('y2', d);\n\n    return value > 0 ?\n      this._spanY(catDatum, d) :\n      this._spanY(catDatum, d) + this._spanHeight(catDatum, d);\n  },\n\n  innerDataKey: defaultDataKey,\n\n  transition: {\n    [CAT]: {\n      duration: 0,\n      delay: 0,\n    },\n  },\n};\n\nexport class VerticalSpanChart extends AxesChart {\n  _initOptions(...options) {\n    super._initOptions(...options, SPAN_CHART_DEFAULTS);\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(SPAN),   // Span events\n      ...EVENTS\n    );\n  }\n\n  _domainExtent(data, scaleName) {\n    let extent = null;\n\n    if (scaleName === 'y') {\n      const y1Values = [];\n      const y2Values = [];\n\n      data.forEach((d) => this.getProp('values', d).forEach((v) => {\n        y1Values.push(this.getProp('y1', v));\n        y2Values.push(this.getProp('y2', v));\n      }));\n\n      extent = d3.extent([\n        d3.min(y1Values),\n        d3.min(y1Values),\n        d3.max(y2Values),\n        d3.max(y2Values),\n      ]);\n    }\n    else if (scaleName === 'x') {\n      extent = data.map((d) => this.getProp('x', d));\n    }\n\n    return extent;\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.spanCssScale);\n    resetScaleDomain(this.opts.spanFillScale);\n    resetScaleDomain(this.opts.labelFillScale);\n  }\n\n  // Render the vis.\n  _update() {\n    const self = this;\n    const spanCats = this.draw.selectAll('.monte-span-cat')\n      .data(this.displayData, this.opts.dataKey);\n\n    const doUpdate = (d, i, nodes) => {\n      const catSel = d3.select(nodes[i]);\n      self._updateSpans(catSel, d);\n\n      if (this.opts.includeLabels) {\n        this.emit(EVENT_UPDATING_LABELS);\n\n        catSel.selectAll('.monte-span-grp').each((d, i, nodes) => {\n          const node = d3.select(nodes[i]);\n\n          if (this.opts.includeLabels === true || this.opts.includeLabels === 'start') {\n            this._updateSpanLabel(node, d, i, nodes, 'labelStart');\n          }\n\n          if (this.opts.includeLabels === true || this.opts.includeLabels === 'end') {\n            this._updateSpanLabel(node, d, i, nodes, 'labelEnd');\n          }\n        });\n\n        this.emit(EVENT_UPDATED_LABELS);\n      }\n    };\n\n    // Create new groupings\n    spanCats.enter().append('g')\n      .attr('class', (d, i) => this._buildCss([\n        'monte-span-cat',\n        this.opts.spanGrpCss], d, i))\n      .call((sel) => this.fnInvoke(this.opts.catEnterSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(CAT, ENTER))\n        .call((t) => this.fnInvoke(this.opts.catEnterTransitionCustomize, t))\n        .each(function(d, i, nodes) {\n          if (d3.active(this)) {\n            d3.active(this).on('end', doUpdate);\n          }\n          else {\n            doUpdate(d, i, nodes);\n          }\n        });\n\n    // Update\n    spanCats.each(doUpdate);\n\n    // Remove a grouping\n    spanCats.exit()\n    .call((sel) => this.fnInvoke(this.opts.catExitSelectionCustomize, sel))\n    .transition()\n      .call(this._transitionSetup(CAT, EXIT))\n      .call((t) => this.fnInvoke(this.opts.catExitTransitionCustomize, t))\n      // TODO: Calculate value or sync events?\n    .remove();\n\n    return spanCats.merge(spanCats.enter().selectAll('.monte-span-cat'));\n  }\n\n  _updateSpans(spanCat, catDatum) {\n    const values = this.getProp('values', catDatum);\n    const spanGrps = spanCat.selectAll('.monte-span-grp').data(values);\n\n    const spanX = this._spanX.bind(this, catDatum);\n    const spanY = this._spanY.bind(this, catDatum);\n    const spanWidth = this._spanWidth.bind(this, catDatum);\n    const spanHeight = this._spanHeight.bind(this, catDatum);\n\n    // Create new span groups\n    spanGrps.enter().append('g')\n      .attr('class', (d, i) => this._buildCss([\n        'monte-span-grp',\n        this.opts.spanGrpCss], d, i))\n      .append('rect')\n        .call(this.__bindCommonEvents(SPAN))\n        .style('opacity', 0)\n        .attr('x', spanX)\n        .attr('y', spanY)\n        .attr('width', spanWidth)\n        .attr('height', spanHeight)\n        .style('fill', this.optionReaderFunc('spanFillScaleAccessor'))\n        .attr('class', (d, i) => this._buildCss([\n          'monte-span',\n          this.opts.spanCss,\n          this.opts.spanCssScaleAccessor,\n          d.css], d, i))\n        .call((sel) => this.fnInvoke(this.opts.spanEnterSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(SPAN, ENTER))\n          .style('opacity', 1)\n          .attr('x', spanX)\n          .attr('y', spanY)\n          .attr('width', spanWidth)\n          .attr('height', spanHeight)\n          .call((t) => this.fnInvoke(this.opts.spanEnterTransitionCustomize, t));\n\n    // Update existing span groups\n    spanGrps\n      .attr('class', (d, i) => this._buildCss([\n        'monte-span-grp',\n        this.opts.spanGrpCss], d, i))\n      .select('rect')\n        .style('fill', this.optionReaderFunc('spanFillScaleAccessor'))\n        .attr('class', (d, i) => this._buildCss([\n          'monte-span',\n          this.opts.spanCss,\n          this.opts.spanCssScaleAccessor,\n          d.css], d, i))\n        .call((sel) => this.fnInvoke(this.opts.spanUpdateSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(SPAN, UPDATE))\n          .attr('x', spanX)\n          .attr('y', spanY)\n          .attr('width', spanWidth)\n          .attr('height', spanHeight)\n          .style('opacity', 1)\n          .call((t) => this.fnInvoke(this.opts.spanUpdateTransitionCustomize, t));\n\n    // Fade out removed lines.\n    spanGrps.exit()\n      .call((sel) => this.fnInvoke(this.opts.spanExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(SPAN, EXIT))\n        .style('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.spanExitTransitionCustomize, t))\n      .remove();\n\n    // Here the order is important. Merging the line groups when only an update occurs results in an\n    // empty selection if the command was lineGrps.enter().selectAll('.grp-line').merge(lineGrps);\n    return spanGrps.merge(spanGrps.enter().selectAll('.monte-span-grp'));\n  }\n\n  _updateSpanLabel(spanGrp, d, i, nodes, labelSet) {\n    const labelSetCss = kebabCase(labelSet);\n    const lbl = spanGrp.selectAll(`.monte-span-label.${labelSetCss}`).data([d]);\n    const catDatum = d3.select(spanGrp.node().parentNode).datum();\n\n    lbl.enter().append('text')\n      .attr('class', 'monte-span-label')\n      .classed(labelSetCss, true)\n      .style('opacity', 0)\n      .style('fill', (d1) => this.tryInvoke(this.opts[`${labelSet}FillScaleAccessor`], d1, i, nodes, catDatum))\n      .attr('x', (d1) => this.tryInvoke(this.opts[`${labelSet}X`], d1, i, nodes, catDatum))\n      .attr('dx', (d1) => this.tryInvoke(this.opts[`${labelSet}XAdjust`], d1, i, nodes, catDatum))\n      .attr('y', (d1) => this.tryInvoke(this.opts[`${labelSet}Y`], d1, i, nodes, catDatum))\n      .attr('dy', (d1) => this.tryInvoke(this.opts[`${labelSet}YAdjust`], d1, i, nodes, catDatum))\n      .text((d1) => this.tryInvoke(this.opts[labelSet], d1, i, nodes, catDatum))\n      .call((sel) => this.fnInvoke(this.opts[`${labelSet}EnterSelectionCustomize`], sel))\n      .transition()\n        .call((t) => {\n          const ts = this._transitionSettings(LABEL, ENTER);\n          this._transitionConfigure(t, ts, d, i, nodes);\n        })\n        .style('opacity', 1)\n        .call((t) => this.fnInvoke(this.opts[`${labelSet}EnterTransitionCustomize`], t));\n\n    lbl.style('fill', (d1) => this.tryInvoke(this.opts[`${labelSet}FillScaleAccessor`], d1, i, nodes, catDatum))\n      .attr('x', (d1) => this.tryInvoke(this.opts[`${labelSet}X`], d1, i, nodes, catDatum))\n      .attr('dx', (d1) => this.tryInvoke(this.opts[`${labelSet}XAdjust`], d1, i, nodes, catDatum))\n      .attr('y', (d1) => this.tryInvoke(this.opts[`${labelSet}Y`], d1, i, nodes, catDatum))\n      .attr('dy', (d1) => this.tryInvoke(this.opts[`${labelSet}YAdjust`], d1, i, nodes, catDatum))\n      .text((d1) => this.tryInvoke(this.opts[labelSet], d1, i, nodes, catDatum))\n      .call((sel) => this.fnInvoke(this.opts[`${labelSet}UpdateSelectionCustomize`], sel))\n      .transition()\n        .call((t) => {\n          const ts = this._transitionSettings(LABEL, UPDATE);\n          this._transitionConfigure(t, ts, d, i, nodes);\n        })\n        .style('opacity', 1)\n        .call((t) => this.fnInvoke(this.opts[`${labelSet}UpdateTransitionCustomize`], t));\n\n    lbl.exit()\n      .call((sel) => this.fnInvoke(this.opts[`${labelSet}ExitSelectionCustomize`], sel))\n      .transition()\n        .call(this._transitionSetup(LABEL, EXIT))\n        .call((t) => this.fnInvoke(this.opts[`${labelSet}ExitTransitionCustomize`], t))\n      .remove();\n  }\n\n  _spanX(catDatum) { return this.getScaledProp('x', catDatum); }\n  _spanWidth() { return this.x.bandwidth(); }\n  _spanY(catDatum, d) { return this.getScaledProp('y', 'y2', d); }\n  _spanHeight(catDatum, d) { return this.getScaledProp('y', 'y1', d) - this.getScaledProp('y', 'y2', d); }\n}\n\nVerticalSpanChart.EVENTS = EVENTS;\n","import { VerticalSpanChart } from './VerticalSpanChart';\nimport { extentBalanced } from '../../util/extents';\n\nconst HSPAN_CHART_DEFAULTS = {\n  chartCss: 'monte-horizontal-span-chart',\n\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 40,\n    left: 40,\n  },\n\n  spanCssScaleAccessor: VerticalSpanChart.generateScaleAccessor('spanCssScale', 'y'),\n  spanFillScaleAccessor: VerticalSpanChart.generateScaleAccessor('spanFillScale', 'y'),\n\n  x1Prop: 'startValue',\n  x2Prop: 'endValue',\n  yProp: 'id',\n\n  // Clear VerticalSpanChart's inherited values\n  yProp1: null,\n  yProp2: null,\n\n  xScale: d3.scaleLinear,\n  yScale: function() {\n    return d3.scaleBand().paddingInner(0.1).round(true);\n  },\n\n  xDomainCustomize: extentBalanced,\n  yDomainCustomize: null,\n\n  labelStartX: function(d, i, node, catDatum) {\n    const value = this.getProp('x', d);\n\n    return value > 0 ?\n      this._spanWidth(catDatum, d) + this._spanX(catDatum, d) :\n      this._spanX(catDatum, d);\n  },\n  labelStartXAdjust: '',\n  labelStartY: function(d, i, node, catDatum) {\n    return this._spanY(catDatum, d) + this.y.bandwidth() / 2;\n  },\n  labelStartYAdjust: '0.35em',\n\n  labelEndX: function(d, i, node, catDatum) {\n    const value = this.getProp('x', d);\n\n    return value > 0 ?\n      this._spanX(catDatum, d) :\n      this._spanWidth(catDatum, d) + this._spanX(catDatum, d);\n  },\n  labelEndXAdjust: '',\n  labelEndY: function(d, i, node, catDatum) {\n    return this._spanY(catDatum, d) + this.y.bandwidth() / 2;\n  },\n  labelEndYAdjust: '0.35em',\n};\n\nexport class HorizontalSpanChart extends VerticalSpanChart {\n  _initOptions(...options) {\n    super._initOptions(...options, HSPAN_CHART_DEFAULTS);\n  }\n\n  _domainExtent(data, scaleName) {\n    let extent = null;\n\n    if (scaleName === 'x') {\n      const x1Values = [];\n      const x2Values = [];\n\n      data.forEach((d) => this.getProp('values', d).forEach((v) => {\n        x1Values.push(this.getProp('x1', v));\n        x2Values.push(this.getProp('x2', v));\n      }));\n\n      extent = d3.extent([\n        d3.min(x1Values),\n        d3.min(x1Values),\n        d3.max(x2Values),\n        d3.max(x2Values),\n      ]);\n    }\n    else if (scaleName === 'y') {\n      extent = data.map((d) => this.getProp('y', d));\n    }\n\n    return extent;\n  }\n\n  _spanX(catDatum, d) { return this.getScaledProp('x', 'x1', d); }\n  _spanWidth(catDatum, d) { return this.getScaledProp('x', 'x2', d) - this.getScaledProp('x', 'x1', d); }\n  _spanY(catDatum) { return this.getScaledProp('y', catDatum); }\n  _spanHeight() { return this.y.bandwidth(); }\n}\n","import { ENTER, EXIT, SYMBOL_SIZE, UPDATE } from '../../const/d3';\nimport { AxesChart } from './AxesChart';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { noop } from '../../tools/noop';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\nimport { upperFirst } from '../../tools/string';\n\nconst POINT = 'point';\n\nconst SCATTER_PLOT_DEFAULTS = {\n  chartCss: 'monte-scatter-plot',\n\n  margin: {\n    top: 10,\n    right: 10,\n    bottom: 30,\n    left: 40,\n  },\n\n  // The size of each point\n  pointSize: SYMBOL_SIZE,\n\n  pointProp: '',\n\n  pointFillScale: noop,\n  pointFillScaleAccessor: AxesChart.generateScaleAccessor('pointFillScale', 'point'),\n\n  pointStrokeScale: noop,\n  pointStrokeScaleAccessor: AxesChart.generateScaleAccessor('pointStrokeScale', 'point'),\n\n  // Scale function for CSS class to apply per line. Input: line index, Output: String of CSS Class.\n  pointCssScale: noop,\n  pointCssScaleAccessor: AxesChart.generateScaleAccessor('pointCssScale', 'point'),\n\n  // Static CSS class(es) to apply to every line.\n  pointCss: 'monte-point',\n\n  pointSymbol: (symbol) => symbol.type(d3.symbolCircle),\n};\n\nexport class ScatterPlot extends AxesChart {\n  _initOptions(...options) {\n    super._initOptions(...options, SCATTER_PLOT_DEFAULTS);\n  }\n\n  _initCore() {\n    super._initCore();\n\n    this.symbol = d3.symbol();\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(POINT) // Point events\n    );\n  }\n\n  _domainExtent(data, scaleName) {\n    const itemProp = this.opts[scaleName + 'Prop'];\n    const extent = d3.extent(data, (d) => d[itemProp]);\n\n    return extent;\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.pointCssScale);\n    resetScaleDomain(this.opts.pointFillScale);\n    resetScaleDomain(this.opts.pointStrokeScale);\n  }\n\n  // Render the vis.\n  _update() {\n    const points = this._updatePoints();\n\n    return points;\n  }\n\n  _updatePoints() {\n    // Data join for the points\n    const points = this.draw.selectAll('.monte-point').data(this.displayData, this.opts.dataKey);\n\n    // Create new points and update existing\n    const pointsEnter = points.enter().append('path')\n        .call(this.__bindCommonEvents(POINT));\n    this._updatePointsSelection(pointsEnter, ENTER);\n    this._updatePointsSelection(points, UPDATE);\n\n    // Fade out removed points.\n    points.exit()\n      .call((sel) => this.fnInvoke(this.opts.pointExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(POINT, EXIT))\n        .style('opacity', 0)\n        .call((t) => this.fnInvoke(this.opts.pointExitTransitionCustomize, t))\n      .remove();\n\n    return points.merge(points.enter().selectAll('.point'));\n  }\n\n  _updatePointsSelection(sel, stage) {\n    const selectionFnName = POINT + upperFirst(stage) + 'SelectionCustomize';\n    const transitionFnName = POINT + upperFirst(stage) + 'TransitionCustomize';\n\n    sel.attr('d', (d, i) => {\n      const symbase = d3.symbol().size(this.opts.pointSize);\n      const symbol = this.opts.pointSymbol(symbase, d, i);\n      return symbol(d, i);\n    })\n    .attr('class', (d, i) => this._buildCss([\n      'monte-point',\n      this.opts.pointCss,\n      this.opts.pointCssScaleAccessor,\n      d.css], d, i))\n    .style('fill', this.optionReaderFunc('pointFillScaleAccessor'))\n    .style('stroke', this.optionReaderFunc('pointStrokeScaleAccessor'))\n    .call((sel) => this.fnInvoke(this.opts[selectionFnName], sel))\n    .transition()\n      .call(this._transitionSetup(POINT, stage))\n      .style('fill', this.optionReaderFunc('pointFillScaleAccessor'))\n      .style('stroke', this.optionReaderFunc('pointStrokeScaleAccessor'))\n      .attr('transform', (d) => `translate(${this.getScaledProp('x', d)}, ${this.getScaledProp('y', d)})`)\n      .call((t) => this.fnInvoke(this.opts[transitionFnName], t));\n  }\n}\n","export const EPSILON = 1e-12;\nexport const PI = Math.PI;\nexport const HALF_PI = PI / 2;\nexport const TAU = 2 * PI;\n","import { ENTER, EXIT, UPDATE } from '../../const/d3';\nimport { arcLabelTween, arcSimpleTween } from '../../util/tween';\nimport { polarLabelCentroid, polarLabelCssPrefix } from '../../util/polarLabels';\nimport { PolarChart } from './PolarChart';\nimport { TAU } from '../../const/math';\nimport { commonEventNames } from '../../tools/commonEventNames';\nimport { getPolarCoord } from '../../tools/polar';\nimport { noop } from '../../tools/noop';\nimport { polarLabelRotateTangentFlip } from '../../util/polarLabelRotations';\nimport { radiansToDegrees } from '../../tools/polar';\nimport { radiusContrain } from '../../util/dimension';\nimport { readTransforms } from '../../tools/transform';\nimport { removeClassByPattern } from '../../tools/css';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\n\nconst LABEL_CSS_PATTERN = new RegExp(`^${polarLabelCssPrefix}*`);\n\nconst EVENT_UPDATING_LABELS = 'updatingLabels';\nconst EVENT_UPDATED_LABELS = 'updatedLabels';\n\nconst EVENTS = [ EVENT_UPDATING_LABELS, EVENT_UPDATED_LABELS ];\n\nconst WEDGE = 'wedge';\nconst ARC_CHART_DEFAULTS = {\n  chartCss: 'monte-arc-chart',\n\n  cornerRadius: 0,\n  innerRadius: 0,\n  outerRadius: radiusContrain,\n\n  arcCustomize: null,\n  arcCss: 'arc',\n  arcWedgeCss: 'wedge',\n  arcWedgeCssScale: noop,\n  arcWedgeCssScaleAccessor: PolarChart.generateScaleAccessor('arcWedgeCssScale', 'itemValue'),\n  arcWedgeFillScale: noop,\n  arcWedgeFillScaleAccessor: PolarChart.generateScaleAccessor('arcWedgeFillScale', 'itemValue'),\n  arcWedgeStrokeScale: noop,\n  arcWedgeStrokeScaleAccessor: PolarChart.generateScaleAccessor('arcWedgeStrokeScale', 'itemValue'),\n\n  arcWedgeEnter: (d) => ({\n    startAngle: d.endAngle,\n    endAngle: d.endAngle,\n    value: d.value,\n    padAngle: d.padAngle,\n    index: d.index,\n  }),\n\n  // Background css and fill scales.\n  arcBgWedgeCssScale: noop,\n  arcBgWedgeCssScaleAccessor: PolarChart.generateScaleAccessor('arcBgWedgeCssScale', 'itemValue'),\n  arcBgWedgeFillScale: noop,\n  arcBgWedgeFillScaleAccessor: PolarChart.generateScaleAccessor('arcBgWedgeFillScale', 'itemValue'),\n\n  itemValueProp: 'value',\n  pieStartAngle: 0,\n  pieEndAngle: TAU,\n  piePadAngle: 0.02,\n\n  includeLabels: false,\n  labelPlacement: polarLabelCentroid,\n  labelRotation: polarLabelRotateTangentFlip,\n  labelAngle: (d) => d.startAngle + (d.endAngle - d.startAngle) / 2,\n\n  labelProp: 'value',\n  labelFillScale: noop,\n  labelFillScaleAccessor: PolarChart.generateScaleAccessor('labelFillScale', 'label'),\n  label: function(d) {\n    return this.getProp('label', d.data);\n  },\n  labelXAdjust: '',\n  labelYAdjust: '0.35em',\n\n  dataKey: function(d, i) {\n    return (d && d.data && d.data.id) || i;\n  },\n};\n\nexport class ArcChart extends PolarChart {\n  _initOptions(...options) {\n    super._initOptions(...options, ARC_CHART_DEFAULTS);\n  }\n\n  _initCore() {\n    super._initCore();\n\n    // Initialize the arc generator\n    this.arc = d3.arc()\n      .cornerRadius(this.tryInvoke(this.opts.cornerRadius));\n\n    this.pie = d3.pie().value((d) => this.getProp('itemValue', d))\n      .sortValues(null)\n      .startAngle(this.tryInvoke(this.opts.pieStartAngle))\n      .endAngle(this.tryInvoke(this.opts.pieEndAngle))\n      .padAngle(this.tryInvoke(this.opts.piePadAngle));\n  }\n\n  _initCustomize() {\n    super._initCustomize();\n    if (this.opts.arcCustomize) { this.opts.arcCustomize(this.arc); }\n    if (this.opts.pieCustomize) { this.opts.pieCustomize(this.pie); }\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...commonEventNames(WEDGE),   // Wedge events\n      ...EVENTS\n    );\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.arcWedgeCssScale);\n    resetScaleDomain(this.opts.arcWedgeFillScale);\n    resetScaleDomain(this.opts.arcWedgeStrokeScale);\n    resetScaleDomain(this.opts.arcBgWedgeCssScale);\n    resetScaleDomain(this.opts.arcBgWedgeFillScale);\n    resetScaleDomain(this.opts.labelFillScale);\n  }\n\n  _boundsUpdate() {\n    super._boundsUpdate();\n\n    this.arc\n      .innerRadius(this.tryInvoke(this.opts.innerRadius, this.width, this.height))\n      .outerRadius(this.tryInvoke(this.opts.outerRadius, this.width, this.height));\n  }\n\n  _data(data) {\n    this.pieDisplayData = this.pie(data);\n    super._data(data);\n  }\n\n  _render() {\n    if (!this.hasRendered) {\n      super._render();\n      this._updateBackground();\n    }\n  }\n\n  _update() {\n    const arcGrps = this._updateArcs();\n\n    if (this.opts.includeLabels) {\n      this._updateLabels(arcGrps);\n    }\n  }\n\n  _updateArcs() {\n    const arcs = this.draw.selectAll('.monte-arc').data(this.pieDisplayData, this.opts.dataKey);\n    const arc = this.arc;\n\n    arcs.enter().append('g')\n        .attr('class', `monte-arc ${this.opts.arcCss}`)\n        .append('path')\n          .attr('class', (d, i) => this._buildCss([\n            'monte-arc-wedge',\n            this.opts.arcWedgeCss,\n            this.opts.arcWedgeCssScaleAccessor,\n            d.data.css], d, i))\n          .call(this.__bindCommonEvents(WEDGE))\n          .call((sel) => this.fnInvoke(this.opts.wedgeEnterSelectionCustomize, sel))\n          .transition()\n            .call(this._transitionSetup(WEDGE, ENTER))\n            .attrTween('d', (d) => {\n              const start = this.tryInvoke(this.opts.arcWedgeEnter, d);\n              return arcSimpleTween(arc, start, d);\n            })\n            .style('stroke', this.optionReaderFunc('arcWedgeStrokeScaleAccessor'))\n            .style('fill', this.optionReaderFunc('arcWedgeFillScaleAccessor'))\n            .call((sel) => this.fnInvoke(this.opts.wedgeEnterTransitionCustomize, sel));\n\n    arcs.selectAll('.monte-arc-wedge')\n        .each(function() {\n          // Sync data to containing element since it is not done automatically.\n          const pd = d3.select(this.parentElement).datum();\n          const n = d3.select(this);\n          const nd = n.datum();\n          pd.prev = nd;\n          n.datum(pd);\n\n          // TODO: Convert `prev` to use `d3.local` instead?\n          delete nd.prev; // Remove old records to prevent building a history tree.\n        })\n        .attr('class', (d, i) => this._buildCss([\n          'monte-arc-wedge',\n          this.opts.arcWedgeCss,\n          this.opts.arcWedgeCssScaleAccessor,\n          d.data.css], d, i))\n        .call((sel) => this.fnInvoke(this.opts.wedgeUpdateSelectionCustomize, sel))\n        .transition()\n          .call(this._transitionSetup(WEDGE, UPDATE))\n          .attrTween('d', function(d) {\n            return arcSimpleTween(arc, d.prev, d);\n          })\n          .style('stroke', this.optionReaderFunc('arcWedgeStrokeScaleAccessor'))\n          .style('fill', this.optionReaderFunc('arcWedgeFillScaleAccessor'))\n          .call((sel) => this.fnInvoke(this.opts.wedgeUpdateTransitionCustomize, sel));\n\n    arcs.exit()\n      .call((sel) => this.fnInvoke(this.opts.wedgeExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(WEDGE, EXIT))\n        .style('opacity', 0)\n        .call((sel) => this.fnInvoke(this.opts.wedgeExitTransitionCustomize, sel))\n      .remove();\n\n    return arcs.merge(arcs.enter().selectAll('.monte-arc'));\n  }\n\n  _updateBackground() {\n    const pieSum = this.displayData.reduce((accum, cur) => accum + cur.value, 0);\n    const bgArc = this.arc({\n      index: 0,\n      startAngle: this.opts.pieStartAngle,\n      endAngle: this.opts.pieEndAngle,\n      value: pieSum,\n    });\n    const wedge = this.bg.selectAll('.monte-arc-bg').data([bgArc]);\n\n    wedge.enter()\n        .append('path')\n      .merge(wedge)\n        .attr('d', (d) => d)\n        .style('fill', this.optionReaderFunc('arcBgWedgeFillScaleAccessor'))\n        .attr('class', (d, i) => this._buildCss([\n          'monte-arc-bg',\n          this.opts.arcBgWedgeCssScaleAccessor], d, i))\n        .call((sel) => this.fnInvoke(this.opts.bgUpdateSelectionCustomize, sel));\n  }\n\n  _updateLabels(arcGrps) {\n    this.emit(EVENT_UPDATING_LABELS);\n\n    const labelPlacement = this.tryInvoke(this.opts.labelPlacement);\n    const css = this.tryInvoke(labelPlacement.css);\n\n    // Clear old label CSS from chart and add new.\n    removeClassByPattern(this.bound, LABEL_CSS_PATTERN);\n    this.classed(css, true);\n\n    arcGrps.each((d, i, nodes) => {\n      const node = d3.select(nodes[i]);\n      this._updateArcLabel(node, d, i, nodes);\n    });\n\n    this.emit(EVENT_UPDATED_LABELS);\n  }\n\n  _updateArcLabel(arcGrp, d, i, nodes) {\n    const lbl = arcGrp.selectAll('.monte-arc-label').data([d]);\n    const labelPlacement = this.tryInvoke(this.opts.labelPlacement);\n    const labelRadius = this.tryInvoke(labelPlacement.radius, this.width, this.height);\n    const radius = this.tryInvoke(labelRadius, d, i, nodes);\n    const angle = this.tryInvoke(this.opts.labelAngle, d, i, nodes);\n    const rotate = radiansToDegrees(this.tryInvoke(this.opts.labelRotation, d, i, nodes));\n    const coord = getPolarCoord(radius, angle);\n\n    lbl.enter().append('text')\n      .attr('class', 'monte-arc-label')\n      .attr('dx', (d1) => this.tryInvoke(this.opts.labelXAdjust, d1, i, nodes))\n      .attr('dy', (d1) => this.tryInvoke(this.opts.labelYAdjust, d1, i, nodes))\n      .attr('transform', () => `translate(${coord}) rotate(${rotate})`)\n      .attr('angle', angle)\n      .attr('radius', labelRadius)\n      .style('opacity', 0)\n      .style('fill', this.optionReaderFunc('labelFillScaleAccessor'))\n      .text((d1) => this.tryInvoke(this.opts.label, d1, i, nodes))\n      .call((sel) => this.fnInvoke(this.opts.labelEnterSelectionCustomize, sel))\n      .transition()\n        .call((t) => {\n          const ts = this._transitionSettings('label', ENTER);\n          this._transitionConfigure(t, ts, d, i, nodes);\n        })\n        .style('opacity', 1)\n        .call((sel) => this.fnInvoke(this.opts.labelEnterTransitionCustomize, sel));\n\n    lbl.style('fill', this.optionReaderFunc('labelFillScaleAccessor'))\n        .style('opacity', 1)\n        .attr('dx', (d1) => this.tryInvoke(this.opts.labelXAdjust, d1, i, nodes))\n        .attr('dy', (d1) => this.tryInvoke(this.opts.labelYAdjust, d1, i, nodes))\n        .call((sel) => this.fnInvoke(this.opts.labelUpdateSelectionCustomize, sel))\n        .transition()\n          .call((t) => {\n            const ts = this._transitionSettings('label', UPDATE);\n            this._transitionConfigure(t, ts, d, i, nodes);\n          })\n          .attrTween('transform', () => {\n            const currentTransforms = readTransforms(lbl.attr('transform'));\n            const from = {\n              angle: +lbl.attr('angle'),\n              radius: +lbl.attr('radius'),\n              rotate: currentTransforms.rotate || 0,\n            };\n            const to = { angle, radius, rotate };\n\n            return arcLabelTween(from, to, radius);\n          })\n          .attr('angle', angle)\n          .attr('radius', labelRadius)\n          .text((d1) => this.tryInvoke(this.opts.label, d1, i, nodes))\n          .call((sel) => this.fnInvoke(this.opts.labelUpdateTransitionCustomize, sel));\n\n    lbl.exit()\n      .call((sel) => this.fnInvoke(this.opts.labelExitSelectionCustomize, sel))\n      .transition()\n        .call((t) => {\n          const ts = this._transitionSettings('label', EXIT);\n          this._transitionConfigure(t, ts, d, i, nodes);\n        })\n        .attr('opacity', 0)\n        .call((sel) => this.fnInvoke(this.opts.labelExitTransitionCustomize, sel))\n      .remove();\n  }\n}\n\nArcChart.EVENTS = EVENTS;\n","import { ENTER, EXIT, UPDATE } from '../../const/d3';\nimport { ArcChart } from './ArcChart';\nimport { HALF_PI } from '../../const/math';\nimport { UNDEF } from '../../const/undef';\nimport { gaugeLabelRotateNone } from '../../util/polarLabelRotations';\nimport { isDefined } from '../../tools/is';\nimport { needleRoundedEnd } from '../../util/needle';\nimport { noop } from '../../tools/noop';\nimport { polarLabelInner } from '../../util/polarLabels';\nimport { radiusContrain } from '../../util/dimension';\nimport { resetScaleDomain } from '../../tools/resetScaleDomain';\n\nconst EVENT_UPDATING_BACKGROUND_ARC = 'updatingBackgroundArc';\nconst EVENT_UPDATED_BACKGROUND_ARC = 'updatedBackgroundArc';\nconst EVENT_UPDATING_NEEDLE = 'updatingNeedle';\nconst EVENT_UPDATED_NEEDLE = 'updatedNeedle';\n\nconst EVENTS = [\n  EVENT_UPDATING_BACKGROUND_ARC, EVENT_UPDATED_BACKGROUND_ARC,\n  EVENT_UPDATING_NEEDLE, EVENT_UPDATED_NEEDLE,\n];\n\nconst NEEDLE = 'needle';\n\nconst GAUGE_CHART_DEFAULTS = {\n  chartCss: 'monte-arc-chart monte-gauge-chart',\n  piePadAngle: 0,\n  pieStartAngle: -HALF_PI,\n  pieEndAngle: HALF_PI,\n\n  arcBgCssScale: noop,\n  arcBgCssScaleAccessor: ArcChart.generateScaleAccessor('arcBgCssScale', 'itemValue'),\n  arcBgFillScale: noop,\n  arcBgFillScaleAccessor: ArcChart.generateScaleAccessor('arcBgFillScale', 'itemValue'),\n\n  needleBase: 20,\n  needleHeight: function(innerRadius, outerRadius) {\n    return (innerRadius + outerRadius) / 2;\n  },\n  needlePath: needleRoundedEnd(),\n\n  innerRadius: (w, h) => radiusContrain(w, h) * 0.9,\n  labelPlacement: polarLabelInner,\n  labelRotation: gaugeLabelRotateNone,\n\n  segmentsProp: 'segments',\n  itemValueProp: 'interval',\n  startValueProp: 'start',\n  startLabelProp: 'startLabel',\n  needleValueProp: 'value',\n  labelProp: 'label',\n  labelAngle: (d) => d.endAngle,\n  suppressLabels: false,\n  includeLabels: function() { return !this.tryInvoke(this.opts.suppressLabels); },\n};\n\nexport class GaugeChart extends ArcChart {\n  _initOptions(...options) {\n    super._initOptions(...options, GAUGE_CHART_DEFAULTS);\n  }\n\n  _initCore() {\n    super._initCore();\n\n    this._prevNeedleAngleValueData = 0;\n    this.needleValueData = 0;\n    this.needleValueAngleData = 0;\n  }\n\n  _initRender() {\n    super._initRender();\n\n    this.bgArc = d3.arc()\n      .startAngle(this.tryInvoke(this.opts.pieStartAngle))\n      .endAngle(this.tryInvoke(this.opts.pieEndAngle))\n      .innerRadius(0)\n      .outerRadius(this.tryInvoke(this.opts.outerRadius, this.width, this.height))\n      .cornerRadius(this.tryInvoke(this.opts.cornerRadius));\n\n    this.angleScale = d3.scaleLinear().range([this.opts.pieStartAngle, this.opts.pieEndAngle]);\n  }\n\n  _initPublicEvents(...events) {\n    super._initPublicEvents(...events,\n      ...EVENTS // Gauge events\n    );\n  }\n\n  _getLayerTranslate() {\n    const or = this.tryInvoke(this.opts.outerRadius, this.width, this.height);\n    const l = this.width / 2 + this.margin.left;\n    const t = this.height - (this.height - or) + this.margin.top;\n    return `translate(${l}, ${t})`;\n  }\n\n  _resetStyleDomains() {\n    super._resetStyleDomains();\n\n    resetScaleDomain(this.opts.arcBgCssScale);\n    resetScaleDomain(this.opts.arcBgFillScale);\n  }\n\n  _data(data) {\n    this.rawData = data;\n\n    const segmentsProp = this.tryInvoke(this.opts.segmentsProp);\n    const startProp = this.tryInvoke(this.opts.startValueProp);\n    const startLabelProp = this.tryInvoke(this.opts.startLabelProp);\n    const itemValueProp = this.tryInvoke(this.opts.itemValueProp);\n    const needleValueProp = this.tryInvoke(this.opts.needleValueProp);\n\n    // Insert starting label item\n    if (isDefined(data[startLabelProp])) {\n      data[segmentsProp].unshift({\n        interval: 0,\n        label: data[startLabelProp],\n      });\n    }\n\n    super._data(data[segmentsProp]);\n    const intervalSum = this.displayData.reduce((acc, d) => acc + Math.abs(d[itemValueProp]), 0);\n    const start = data[startProp] || 0;\n\n    this.angleScale.domain([start, start + intervalSum]);\n    this.needleValue(data[needleValueProp], true);\n  }\n\n  needleValue(value, suppressUpdate = false) {\n    if (value === UNDEF) {\n      return this.needleValueData;\n    }\n\n    this._prevNeedleAngleValueData = this.needleValueAngleData;\n    this.needleValueData = value;\n    this.needleValueAngleData = this.angleScale(value);\n\n    if (!suppressUpdate) { this.update(); }\n\n    return this;\n  }\n\n  needleValueAngle(angle) {\n    if (angle === UNDEF) {\n      return this.needleValueAngleData;\n    }\n\n    this.needleValue(this.angleScale.invert(angle));\n    return this;\n  }\n\n  _render() {\n    if (!this.hasRendered) {\n      super._render();\n      this._updateBackgroundArc();\n    }\n  }\n\n  _update() {\n    super._update();\n\n    this._updateNeedle();\n  }\n\n  _updateBackgroundArc() {\n    this.emit(EVENT_UPDATING_BACKGROUND_ARC);\n\n    this.bg.append('path')\n      .style('fill', this.optionReaderFunc('arcBgFillScaleAccessor'))\n      .attr('class', (d, i) => this._buildCss([\n        'monte-gauge-bg',\n        this.opts.arcBgCssScaleAccessor], d, i))\n      .attr('d', this.bgArc());\n\n    this.emit(EVENT_UPDATED_BACKGROUND_ARC);\n  }\n\n  _updateNeedle() {\n    const baseWidth = this.tryInvoke(this.opts.needleBase);\n    const or = this.tryInvoke(this.opts.outerRadius, this.width, this.height);\n    const ir = this.tryInvoke(this.opts.innerRadius, this.width, this.height);\n    const height = this.tryInvoke(this.opts.needleHeight, ir, or);\n    const path = this.tryInvoke(this.opts.needlePath, height, baseWidth);\n\n    const needle = this.overlay.selectAll('.monte-gauge-needle').data([this.needleValueAngleData || 0]);\n\n    this.emit(EVENT_UPDATING_NEEDLE);\n\n    needle.enter().append('path')\n      .attr('class', 'monte-gauge-needle')\n      .attr('d', path)\n      .call((sel) => this.fnInvoke(this.opts.needleEnterSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(NEEDLE, ENTER))\n        .style('transform', (d) => 'rotate(' + d + 'rad)')\n        .call((t) => this.fnInvoke(this.opts.needleEnterTransitionCustomize, t));\n\n    needle.call((sel) => this.fnInvoke(this.opts.needleExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(NEEDLE, UPDATE))\n        .styleTween('transform', (d) => {\n          const a = this._prevNeedleAngleValueData;\n          const b = d;\n\n          return function(t) {\n            const r = a * (1 - t) + b * t;\n            return 'rotate(' + r + 'rad)';\n          };\n        })\n        .call((t) => this.fnInvoke(this.opts.needleExitTransitionCustomize, t));\n\n    needle.exit()\n      .call((sel) => this.fnInvoke(this.opts.needleExitSelectionCustomize, sel))\n      .transition()\n        .call(this._transitionSetup(NEEDLE, EXIT))\n        .call((t) => this.fnInvoke(this.opts.needleExitTransitionCustomize, t))\n        .remove();\n\n    this.emit(EVENT_UPDATED_NEEDLE);\n  }\n\n  static createInstanceGroup(charts, ...additionalMethodsToProxy) {\n    additionalMethodsToProxy.push(GROUP_PROXY_METHODS);\n    return super.createInstanceGroup(charts, ...additionalMethodsToProxy);\n  }\n}\n\nGaugeChart.EVENTS = EVENTS;\n\nexport const GROUP_PROXY_METHODS = [ 'needleValue' ];\n","import { isArray, isDefined } from '../../tools/is';\nimport { ArcChart } from './ArcChart';\n\nconst POLAR_AREA_CHART_DEFAULTS = {\n  chartCss: 'monte-arc-chart monte-polar-area-chart',\n\n  innerRadius: 30,\n  outerRadiusProp: '',\n  outerRadiusScale: d3.scaleSqrt,\n  outerRadiusRange: function (w, h) {\n    const v = d3.min([w, h]); // Constrain to smaller value\n    const maxOuterRadius = v / 2;\n    const ir = this.tryInvoke(this.opts.innerRadius, w, h);\n\n    return [ir, maxOuterRadius];\n  },\n\n  outerRadiusDomainCustomize: function(extent) {\n    return [0, extent[1]];\n  },\n\n  outerRadius: function(/* w, h */) {\n    const chart = this;\n\n    return function(d) {\n      return chart.getScaledProp('outerRadius', 'itemValue', d.data);\n    };\n  },\n};\n\nexport class PolarAreaChart extends ArcChart {\n  _initOptions(...options) {\n    super._initOptions(...options, POLAR_AREA_CHART_DEFAULTS);\n  }\n\n  _initCore() {\n    super._initCore();\n\n    this.outerRadius = this.opts.outerRadiusScale();\n    this.updateRadiusRange();\n\n    // Force all wedges to be equally sized in terms of angle because radius will be sized to show\n    // value.\n    this.pie.value(() => 1);\n  }\n\n  _boundsUpdate() {\n    super._boundsUpdate();\n    this.updateRadiusRange();\n  }\n\n  _data(data) {\n    super._data(data);\n    this.updateRadiusDomain();\n  }\n\n  updateRadiusRange() {\n    const range = this.tryInvoke(this.opts.outerRadiusRange, this.width, this.height);\n\n    if (isDefined(range) && isArray(range)) {\n      this.outerRadius.range(range);\n    }\n  }\n\n  updateRadiusDomain() {\n    const data = this.data();\n    const customize = this.opts.outerRadiusDomainCustomize;\n    let extent = data ? this._domainExtent(data) : [];\n\n    if (customize) { extent = this.tryInvoke(customize, extent); }\n\n    this.outerRadius.domain(extent);\n  }\n\n  _domainExtent(data) {\n    return d3.extent(data, (d) => this.getProp('itemValue', d));\n  }\n}\n","import { ArcChart } from './ArcChart';\nimport { UNDEF } from '../../const/undef';\n\nconst WEDGE_CHART_DEFAULTS = {\n  chartCss: 'monte-arc-chart monte-wedge-chart',\n  piePadAngle: 0,\n\n  margin: {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1,\n  },\n\n  // NOTE: Wedge's use startAngle for the preset angle positions. (ArcChart uses endAngle)\n  arcWedgeEnter: (d) => ({\n    startAngle: d.startAngle,\n    endAngle: d.startAngle,\n    value: d.value,\n    padAngle: d.padAngle,\n    index: d.index,\n  }),\n};\n\nexport class WedgeChart extends ArcChart {\n  _initOptions(...options) {\n    super._initOptions(...options, WEDGE_CHART_DEFAULTS);\n  }\n\n  _initCore() {\n    super._initCore();\n\n    this.pie.sortValues((a, b) => a.value - b.value);\n  }\n\n  _data(data, ...tail) {\n    this.wedgeValueData = data;\n    this.rawData = data;\n    const itemValueProp = this.tryInvoke(this.opts.itemValueProp);\n\n    // Data is expected to be a single value between 0 and 100.\n    const pieData = [\n       // Wrapped value to\n      { [itemValueProp]: data, css: 'monte-wedge' },\n\n      // The special case wedge to scale\n      { [itemValueProp]: 100 - data, css: 'monte-arc-placeholder' },\n    ];\n\n    return super._data(pieData, ...tail);\n  }\n\n  wedgeValue(value) {\n    if (value === UNDEF) {\n      return this.wedgeValueData;\n    }\n\n    this.data(value);\n    return this;\n  }\n\n  static createInstanceGroup(charts, ...additionalMethodsToProxy) {\n    additionalMethodsToProxy.push(GROUP_PROXY_METHODS);\n    return super.createInstanceGroup(charts, ...additionalMethodsToProxy);\n  }\n}\n\nexport const GROUP_PROXY_METHODS = [ 'wedgeValue' ];\n","export const HORIZONTAL = 'horizontal';\nexport const VERTICAL = 'vertical';\nexport const NONE = 'none';\nexport const ANY = 'any';\n","import { HALF_PI, PI } from './math';\n// Constants for angles:\n//    -- Common (quarters / cardinal):\n//        North/Top (0), West/Left (-1/2 PI), East/Right (1/2 PI), South/Bottom (PI)\n//\n//    -- Intermediates (eights / ordinal / intercardinal) (i.e. cardinal bisects):\n//        Northwest/TopLeft (-1/4 PI), etc...\n//\n//    [Note: The top eight points collectively are called the principal (or main) winds]\n//\n//    -- Tertiary (sixteenths / half-winds):\n//        NNE (North-northeast) (1/8 PI), etc...\nexport const NORTH = 0;\nexport const NORTH_NORTHWEST = -1/8 * PI;\nexport const NORTHWEST = -1/4 * PI;\nexport const WEST_NORTHWEST = -3/8 * PI;\nexport const WEST = -HALF_PI;\nexport const WEST_SOUTHWEST = -5/8 * PI;\nexport const SOUTHWEST = -3/4 * PI;\nexport const SOUTH_SOUTHWEST = -7/8 * PI;\nexport const SOUTH = PI;\nexport const SOUTH_SOUTHEAST = 7/8 * PI;\nexport const SOUTHEAST = 3/4 * PI;\nexport const EAST_SOUTHEAST = 5/8 * PI;\nexport const EAST = HALF_PI;\nexport const EAST_NORTHEAST = 3/8 * PI;\nexport const NORTHEAST = 1/4 * PI;\nexport const NORTH_NORTHEAST = 1/8 * PI;\n\nexport const TOP = NORTH;\nexport const TOP_BY_TOP_LEFT = NORTH_NORTHWEST;\nexport const TOP_LEFT = NORTHWEST;\nexport const LEFT_BY_TOP_LEFT = WEST_NORTHWEST;\nexport const LEFT = WEST;\nexport const LEFT_BY_BOTTOM_LEFT = WEST_SOUTHWEST;\nexport const BOTTOM_LEFT = SOUTHWEST;\nexport const BOTTOM_BY_BOTTOM_LEFT = SOUTH_SOUTHWEST;\nexport const BOTTOM = SOUTH;\nexport const BOTTOM_BY_BOTTOM_RIGHT = SOUTH_SOUTHEAST;\nexport const BOTTOM_RIGHT = SOUTHEAST;\nexport const RIGHT_BY_BOTTOM_RIGHT = EAST_SOUTHEAST;\nexport const RIGHT = EAST;\nexport const RIGHT_BY_TOP_RIGHT = EAST_NORTHEAST;\nexport const TOP_RIGHT = NORTHEAST;\nexport const TOP_BY_TOP_RIGHT = NORTH_NORTHEAST;\n","import * as EV from '../const/events';\nimport { isDefined, isFunc } from '../tools/is';\nimport { MonteError } from '../support/MonteError';\nimport { MonteOptionError } from '../support/MonteOptionError';\nimport { UNDEF } from '../const/undef';\nimport { global } from '../support/MonteGlobal';\nimport { mergeOptions } from '../tools/mergeOptions';\nimport { pascalCase } from '../tools/string';\n\n// TODO: Allow setting presets that are automatically merged with settings to create \"subtypes\"?\n//       For example a \"Horizontal\" preset for ReferenceLine that makes assumptions about x1 being 0\n//       and x2 being `this.chart.width`. This could apply to charts to create standardized transistion\n//       effects.\nconst DEFAULTS = {\n  // The layer for drawing operations\n  layer: 'bg',\n\n  // The chart events to listen for.\n  binding: [EV.BEFORE_DESTROY, EV.RENDERED, EV.UPDATED, EV.BOUNDS_UPDATED],\n\n  // Flag for global updates for any option change.\n  // Subclasses can override `_shouldOptionUpdate` for nuanced behavior.\n  optionsTriggerUpdate: false,\n\n  // Special prefix for all events originating *from* the extension.\n  eventPrefix: null,\n\n  customEvents: [],\n};\n\nexport class Extension {\n  constructor(options) {\n    this.__extId = null; // Not set until a chart is bound\n\n    // Configure the data options.\n    this._initOptions(options);\n\n    this._initPublicEvents(\n      ...EV.EXTENSION_LIFECYCLE_EVENTS,\n\n      // Custom events provided by the user\n      ...this.opts.customEvents);\n\n    this.lastUpdateEvent = '';\n  }\n\n  _initOptions(...options) {\n    this.opts = mergeOptions(...options, DEFAULTS);\n\n    if (!this.opts.eventPrefix) {\n      throw MonteOptionError.RequiredOption('eventPrefix');\n    }\n\n    // Always require the \"destroying\" event to ensure extension clean up.\n    if (this.opts.binding.indexOf(EV.BEFORE_DESTROY) === -1) {\n      this.opts.binding.push(EV.BEFORE_DESTROY);\n    }\n  }\n\n  _initPublicEvents(...events) {\n    this._events = events;\n  }\n\n  /**\n   * Associate a chart instance with the extension. The chart instance will be acted upon by the\n   * extension instance.\n   *\n   * @Chainable\n   */\n  setChart(chart) {\n    // Prevent setting chart more than once.\n    if (this.chart && this.chart !== chart) {\n      throw new MonteError('An extension should only have the chart set once.');\n    }\n\n    this.chart = chart;\n\n    const layerName = this.tryInvoke(this.opts.layer);\n    if (layerName) { this.layer = this.chart[layerName]; }\n\n    // Get and store extension ID from MonteGlobal\n    this.__extId = global.getNextExtensionId();\n\n    return this;\n  }\n\n  option(prop, value) {\n    if (value === UNDEF) {\n      return this.opts[prop];\n    }\n\n    this.opts[prop] = value;\n    if (this._shouldOptionUpdate(prop) && this.cachedChart) {\n      this.fire(EV.OPTION_CHANGED, prop);\n    }\n\n    return this;\n  }\n\n  // Indicates whether an option change should cause an update to occur.\n  _shouldOptionUpdate(prop) { // eslint-disable-line no-unused-vars\n    return this.opts.optionsTriggerUpdate;\n  }\n\n  /**\n   * Binds an event to a given `callback`. If no `callback` is provided it returns the callback.\n   *\n   * @Chainable <setter>\n   */\n  on(typenames, callback) {\n    if (!this.dispatch) { // Lazy construct the dispatcher.\n      this.dispatch = d3.dispatch(...this.events);\n    }\n\n    if (callback) {\n      this.dispatch.on(typenames, callback);\n      return this;\n    }\n\n    return this.dispatch.on(typenames);\n  }\n\n  /**\n   * Force the triggering of an event with the given arguments. The event is notified through the\n   * extension's dispatcher and the parent chart's dispatcher. The `on` callbacks are invoked in\n   * the context of the extension for the extension's dispatcher and in the context of the chart\n   * for the chart's dispatcher.\n   *\n   * Uses:\n   *  + Trigger event for listeners as needed such as force an extension to update.\n   *\n   * @Chainable\n   */\n  __notify(eventName, ...args) {\n    if (this.dispatch) {\n      this.dispatch.call(eventName, this, ...args);\n    }\n\n    this.chart.emit('extension', `${this.opts.eventPrefix}:${eventName}`, this, ...args);\n  }\n\n  emit(eventName, ...args) {\n    this.__notify(eventName, ...args);\n  }\n\n  /**\n   * Remove the data elements.\n   *\n   * @Chainable\n   */\n  clear() {\n    this.__notify(EV.BEFORE_CLEAR);\n    this._clearDataElements();\n    this.__notify(EV.CLEARED);\n\n    return this;\n  }\n\n  _clearDataElements() {\n    // Clear elements based on extension ID.\n    this._extCreateSelection.remove();\n  }\n\n  /**\n   * Invokes a lifecycle event ('destroying', 'boundsUpdated', 'rendered', 'optionChanged') with\n   * all other events resulting in an 'updated' event and invoking the update-cycle.\n   *\n   * The 'boundsUpdated' and 'rendered' chart events result in update-cycle invocation if the\n   * extension does not override the event-bound methods (`_boundsUpdate`, `_render`).\n   *\n   * The 'optionChanged' extension event results in `_option<>`\n   */\n  fire(event, ...args) {\n    if (!this.chart) {\n      throw new MonteError('A chart must be associated with the extension prior to use.');\n    }\n\n    try {\n      switch (event) {\n      case EV.BEFORE_DESTROY:\n        this.destroy();\n        break;\n\n      case EV.BOUNDS_UPDATED:\n        this.updateBounds(...args);\n        break;\n\n      case EV.RENDERED:\n        this.render(...args);\n        break;\n\n      case EV.OPTION_CHANGED:\n        this._optionChanged(...args);\n        break;\n\n      default:\n        this.lastUpdateEvent = event;\n        this.update(...args);\n      }\n    }\n    catch (e) {\n      if (console && console.error) { console.error(e); } // eslint-disable-line no-console\n      this.__notify(EV.SUPPRESSED_ERROR, e, e.stack || 'No stack available.');\n    }\n  }\n\n  /**\n   * Invoke the extension update-cycle.\n   */\n  update(...args) {\n    this.__notify(EV.BEFORE_UPDATE);\n    this._update(...args);\n    this.__notify(EV.UPDATED);\n  }\n\n  _update(binding, chart) { // eslint-disable-line no-unused-vars\n    throw MonteError.UnimplementedMethod('Update', '_update', 'extension');\n  }\n\n  /**\n   * Invoke `_render` if defined.\n   */\n  render(...args) {\n    if (this._render) {\n      this.__notify(EV.BEFORE_RENDER);\n      this._render(...args);\n      this.__notify(EV.RENDERED);\n    }\n\n    this.rendered = true;\n  }\n\n  /**\n   * Invoke `_boundsUpdate` if defined.\n   */\n  updateBounds(...args) {\n    if (this._boundsUpdate) {\n      this.__notify(EV.BEFORE_BOUNDS_UPDATE);\n      this._boundsUpdate(...args);\n      this.__notify(EV.BOUNDS_UPDATED);\n    }\n  }\n\n  /**\n   * Invoke the method related directly to the option (`_option<OptionName>`) if defined; otherwise\n   * invoke the extension update-cycle.\n   */\n  _optionChanged(...args) {\n    const prop = args[0];\n    const optionMethodName = `_option${pascalCase(prop)}`;\n\n    this.__notify(EV.BEFORE_OPTION_CHANGE, prop);\n\n    if (this[optionMethodName]) {\n      this[optionMethodName]();\n    }\n    else {\n      this.update(...args);\n    }\n\n    this.__notify(EV.OPTION_CHANGED, prop);\n  }\n\n  // Access an option that may need to be invoked as a function or that may be a literal value.\n  tryInvoke(value, ...args) {\n    try {\n      return isFunc(value) ? value.call(this, ...args) : value;\n    }\n    catch (e) {\n      if (console && console.error) { console.error(e); } // eslint-disable-line no-console\n      this.__notify(EV.SUPPRESSED_ERROR, e, e.stack || 'No stack available.');\n      return null;\n    }\n  }\n\n  /**\n   * Reads a property from a datum and returns the raw (unscaled) value.\n   */\n  getProp(propShortName, d, defaultValue=null) {\n    const propFullName = `${propShortName}Prop`;\n    const dataPropName = this.opts[propFullName];\n\n    if (dataPropName) {\n      return d[dataPropName];\n    }\n\n    return defaultValue;\n  }\n\n  // Build a string of CSS classes that may include invokable options.\n  _buildCss(cssSources, d, i, nodes) {\n    const cssClasses = [];\n    const sources = Array.isArray(cssSources) ? cssSources : [cssSources];\n\n    sources.forEach((source) => {\n      if (isDefined(source)) {\n        cssClasses.push(this.tryInvoke(source, d, i, nodes));\n      }\n    });\n\n    return cssClasses.join(' ');\n  }\n\n  getExtId() {\n    return this.__extId;\n  }\n\n  _getExtAttr() {\n    return `monte-ext-${this.getExtId()}`; // ID is stored on the element as an attribute.\n  }\n\n  // Sets the extension ID selector ('the ID attribute') on the element.\n  _setExtAttrs(selection) {\n    selection.attr(this._getExtAttr(), '');\n  }\n\n  _extCreateSelection(cssClass) {\n    const extAttr = this._getExtAttr();\n    let selector = `[${extAttr}]`;\n\n    if (cssClass) {\n      selector += `.${cssClass}`;\n    }\n\n    return this.layer.selectAll(selector);\n  }\n\n  /**\n   * Invoke `_destroy`.\n   */\n  destroy() {\n    this.__notify(EV.BEFORE_DESTROY);\n    this._destroy();\n    this.__notify(EV.DESTROYED);\n  }\n\n  // Clean up if necessary.\n  _destroy() {}\n\n  toString() {\n    return this.constructor.name;\n  }\n\n  static featureEventName(featurePrefix, eventName) {\n    if (featurePrefix === 'chart') {\n      return eventName;\n    }\n\n    return `${featurePrefix}:${eventName}`;\n  }\n}\n","import { ENTER, EXIT, UPDATE } from '../const/d3';\nimport { Extension } from './Extension';\nimport { TAU } from '../const/math';\nimport { arcSimpleTween } from '../util/tween';\nimport { isDefined } from '../tools/is';\n\nconst ARC_DEFAULTS = {\n  eventPrefix: 'arc',\n  startAngle: 0,\n  endAngle: TAU,\n  arcCss: 'monte-ext-arc',\n  innerRadius: 0,\n  outerRadius: 100,\n  cornerRadius: 0,\n};\n\nexport class Arc extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, ARC_DEFAULTS);\n\n    this.arc = d3.arc()\n      .innerRadius(this.tryInvoke(this.opts.innerRadius))\n      .outerRadius(this.tryInvoke(this.opts.outerRadius))\n      .cornerRadius(this.tryInvoke(this.opts.cornerRadius));\n  }\n\n  _update() {\n    const css = this.tryInvoke(this.opts.arcCss);\n    const startAngle = this.tryInvoke(this.opts.startAngle);\n    const endAngle = this.tryInvoke(this.opts.endAngle);\n    const arcAngles = (isDefined(startAngle) && isDefined(endAngle)) ? {\n      startAngle: startAngle,\n      endAngle: endAngle,\n    } : {\n      startAngle: isDefined(startAngle) ? startAngle : endAngle,\n      endAngle: isDefined(startAngle) ? startAngle : endAngle,\n    };\n\n    const segment = this._extCreateSelection().data([arcAngles]);\n    segment.enter().append('path')\n      .call(this._setExtAttrs.bind(this))\n      .attr('class', css)\n      .transition()\n        .call(this.chart._transitionSetup('extArc', ENTER))\n        .attrTween('d', (d) => arcSimpleTween(this.arc, this.prev, d))\n        .on('end', (d) => this.prev = d);\n\n    segment.transition()\n      .call(this.chart._transitionSetup('extArc', UPDATE))\n      .attrTween('d', (d) => arcSimpleTween(this.arc, this.prev, d))\n      .on('end', (d) => this.prev = d);\n\n    segment.exit()\n      .transition()\n        .call(this.chart._transitionSetup('extArc', EXIT))\n        .style('opacity', 0.01)\n        .remove();\n  }\n}\n","// Returns a wrapping function that invokes a series of functions all with the same arguments used\n// to invoke the wrapper. The return value of each function is ignored.\nexport function invokeMany(...funcs) {\n  return function(...args) {\n    funcs.forEach((f) => f(...args));\n  };\n}\n","import { combineTransforms, readTransforms } from '../tools/transform';\nimport { isDefined, isFunc } from '../tools/is';\nimport { Extension } from './Extension';\nimport { ReplacePreceding } from '../tools/mergeOptions';\nimport { noop } from '../tools';\n\n// TODO: Add support for angle units? DEG, RAD, etc...\nconst AXIS_TICK_TRANSFORM_DEFAULTS = {\n  binding: new ReplacePreceding(['axisRendered']),\n  layer: 'support',\n  eventPrefix: 'axisrotatelabel',\n  axis: 'x',\n  rotate: 0, // The rotation amount in degrees (SVG default units)\n  textAnchor: '',\n  x: function(d, i, nodes, axis) {\n    if (axis.substring(0, 1) === 'y') {\n      return 0;\n    }\n\n    return 10;\n  },\n  y: function(d, i, nodes, axis) {\n    if (axis.substring(0, 1) === 'y') {\n      return 10;\n    }\n\n    return 0;\n  },\n\n  transformCustomize: noop,\n};\n\nexport class AxisTickTransform extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, AXIS_TICK_TRANSFORM_DEFAULTS);\n  }\n\n  _update(scaleName) {\n    const ext = this;\n    const axis = this.tryInvoke(this.opts.axis);\n\n    if (axis === scaleName) {\n      const ticks = this.layer.selectAll(`.${axis}-axis.axis .tick text`);\n\n      if (ext.opts.textAnchor) {\n        ticks.style('text-anchor', function(d, i, nodes) {\n          return ext.tryInvoke(ext.opts.textAnchor, d, i, nodes, axis);\n        });\n      }\n\n      ticks.attr('transform', function(d, i, nodes) {\n        let currentTransforms = readTransforms(this.getAttribute('transform'));\n\n        const rotate = ext.tryInvoke(ext.opts.rotate, d, i, nodes, axis);\n        if (isDefined(rotate)) { currentTransforms.rotate = [rotate]; }\n\n        const x = ext.tryInvoke(ext.opts.x, d, i, nodes, axis);\n        const y = ext.tryInvoke(ext.opts.y, d, i, nodes, axis);\n        if (isDefined(x) && isDefined(y)) { currentTransforms.translate = [x, y]; }\n\n        if (ext.opts.transformCustomize && isFunc(ext.opts.transformCustomize) &&\n          ext.opts.transformCustomize !== noop) {\n          currentTransforms = ext.opts.transformCustomize(currentTransforms);\n        }\n\n        return combineTransforms(currentTransforms);\n      });\n    }\n  }\n}\n","import { AXIS_SHIFT, EXIT, UPDATE } from '../const/d3';\nimport { INTERACTION_HIDE_EVENTS, INTERACTION_SHOW_EVENTS } from '../const/events';\nimport { isArray, isDefined, isFunc } from '../tools/is';\nimport { Extension } from './Extension';\nimport { noop } from '../tools/noop';\n\n// TODO: Add support for \"always active\" (i.e chart:mousemove)\nconst CROSSHAIR_DEFAULTS = {\n  featurePrefix: 'point',\n  eventPrefix: 'crosshair',\n  crosshairCss: '',\n  lines: ['bottom', 'left'],\n  alignmentShift: AXIS_SHIFT, // Use a slight shift to match default d3-axis drawing.\n  showBindings: INTERACTION_SHOW_EVENTS,\n  hideBindings: INTERACTION_HIDE_EVENTS,\n  topCustomize: noop,\n  leftCustomize: noop,\n  rightCustomize: noop,\n  bottomCustomize: noop,\n};\n\n// Draws lines connecting a chart feature to axes and/or chart edges.\nexport class Crosshair extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, CROSSHAIR_DEFAULTS);\n\n    const showBindings = this.tryInvoke(this.opts.showBindings);\n    const hideBindings = this.tryInvoke(this.opts.hideBindings);\n    let featurePrefix = this.tryInvoke(this.opts.featurePrefix);\n    if (!isArray(featurePrefix)) { featurePrefix = [featurePrefix]; }\n\n    this.showEvents = [];\n    this.hideEvents = [];\n\n    featurePrefix.forEach((fp) => {\n      showBindings.forEach((ev) => {\n        const fev = Extension.featureEventName(fp, ev);\n        this.opts.binding.push(fev);\n        this.showEvents.push(fev);\n      });\n\n      hideBindings.forEach((ev) => {\n        const fev = Extension.featureEventName(fp, ev);\n        this.opts.binding.push(fev);\n        this.hideEvents.push(fev);\n      });\n    });\n  }\n\n  _update(...args) {\n    const ext = this;\n    const css = this.tryInvoke(this.opts.crosshairCss);\n    const linesToDraw = this.tryInvoke(this.opts.lines);\n    const lines = this._extCreateSelection().data(linesToDraw).order();\n    const shift = this.tryInvoke(this.opts.alignmentShift);\n    const coords = {\n      top: {\n        x1: (d) => this.chart.getScaledProp('x', d) + shift,\n        y1: 0,\n        x2: (d) => this.chart.getScaledProp('x', d) + shift,\n        y2: (d) => this.chart.getScaledProp('y', d),\n      },\n\n      left: {\n        x1: 0,\n        y1: (d) => this.chart.getScaledProp('y', d) + shift,\n        x2: (d) => this.chart.getScaledProp('x', d),\n        y2: (d) => this.chart.getScaledProp('y', d) + shift,\n      },\n\n      right: {\n        x1: (d) => this.chart.getScaledProp('x', d),\n        y1: (d) => this.chart.getScaledProp('y', d) + shift,\n        x2: this.chart.width,\n        y2: (d) => this.chart.getScaledProp('y', d) + shift,\n      },\n\n      bottom: {\n        x1: (d) => this.chart.getScaledProp('x', d) + shift,\n        y1: (d) => this.chart.getScaledProp('y', d),\n        x2: (d) => this.chart.getScaledProp('x', d) + shift,\n        y2: this.chart.height,\n      },\n    };\n\n    if (this.lastUpdateEvent === 'updated') {\n      lines.enter().append('line')\n          .call(this._setExtAttrs.bind(this))\n          .attr('opacity', 0)\n          .attr('class', css)\n          .classed('monte-ext-crosshair', true);\n\n      if (this.activeFeatureDatum) {\n        lines.transition()\n          .call(this.chart._transitionSetup('extCrosshair', UPDATE))\n          .each(setLinePoints);\n      }\n\n      lines.exit()\n        .transition()\n          .call(this.chart._transitionSetup('extCrosshair', EXIT))\n          .attr('opacity', 0)\n          .remove();\n    }\n    else if (this.isShowEvent(this.lastUpdateEvent)) {\n      const featureDatum = args[0];\n      this.activeFeatureDatum = featureDatum;\n\n      lines.interrupt()\n        .attr('opacity', 1)\n        .each(setLinePoints);\n    }\n    else if (this.isHideEvent(this.lastUpdateEvent)) {\n      this.activeFeatureDatum = null;\n      lines.interrupt().attr('opacity', 0);\n    }\n\n    // Function is invoked in the `d3.each` context (i.e. `this` is the current element)\n    function setLinePoints(d) {\n      const node = d3.select(this);\n      const customize = ext.opts[d + 'Customize'];\n      let points = {\n        x1: ext.tryInvoke(coords[d].x1, ext.activeFeatureDatum),\n        y1: ext.tryInvoke(coords[d].y1, ext.activeFeatureDatum),\n        x2: ext.tryInvoke(coords[d].x2, ext.activeFeatureDatum),\n        y2: ext.tryInvoke(coords[d].y2, ext.activeFeatureDatum),\n      };\n\n      if (isDefined(customize) && isFunc(customize) && customize !== noop) {\n        points = ext.tryInvoke(customize, points);\n      }\n\n      node.attr('x1', points.x1)\n        .attr('y1', points.y1)\n        .attr('x2', points.x2)\n        .attr('y2', points.y2);\n    }\n  }\n\n  isShowEvent(event) {\n    return this.showEvents.indexOf(event) > -1;\n  }\n\n  isHideEvent(event) {\n    return this.hideEvents.indexOf(event) > -1;\n  }\n}\n","import { AXIS_SHIFT, UPDATE } from '../const/d3';\nimport { Extension } from './Extension';\n\nconst FRAME_DEFAULTS = {\n  eventPrefix: 'frame',\n  frameLineCss: 'monte-ext-frame-line',\n  edges: ['top', 'right', 'bottom', 'left'],\n  alignmentShift: AXIS_SHIFT, // Use a slight shift to match default d3-axis drawing.\n};\n\n// BG Frame (drawn by edges) and observes the \"Margin Convention\".\nexport class Frame extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, FRAME_DEFAULTS);\n  }\n\n  _shouldOptionUpdate(prop) {\n    return prop === 'edges' || prop === 'alignmentShift';\n  }\n\n  _update() {\n    const chart = this.chart;\n    const css = this.tryInvoke(this.opts.frameLineCss);\n    const edgesToDraw = this.tryInvoke(this.opts.edges);\n    const edges = this._extCreateSelection().data(edgesToDraw).order();\n    const shift = this.tryInvoke(this.opts.alignmentShift);\n    const coords = {\n      top: [[0 + shift, 0 + shift], [chart.width + shift, 0 + shift]],\n      right: [[chart.width + shift, 0 + shift], [chart.width + shift, chart.height + shift]],\n      bottom: [[0 + shift, chart.height + shift], [chart.width + shift, chart.height + shift]],\n      left: [[0 + shift, 0 + shift], [0 + shift, chart.height + shift]],\n    };\n\n    edges.enter().append('line')\n        .call(this._setExtAttrs.bind(this))\n        .attr('class', css)\n        .attr('x1', (d) => coords[d][0][0])\n        .attr('y1', (d) => coords[d][0][1])\n        .attr('x2', (d) => coords[d][1][0])\n        .attr('y2', (d) => coords[d][1][1]);\n\n    edges.transition()\n      .call(this.chart._transitionSetup('extFrame', UPDATE))\n      .attr('x1', (d) => coords[d][0][0])\n      .attr('y1', (d) => coords[d][0][1])\n      .attr('x2', (d) => coords[d][1][0])\n      .attr('y2', (d) => coords[d][1][1]);\n\n    edges.exit().remove();\n  }\n}\n","import { ENTER, UPDATE } from '../const/d3';\nimport { HORIZONTAL, VERTICAL } from '../const/direction';\nimport { AXIS_SHIFT } from '../const/d3';\nimport { Extension } from './Extension';\nimport { MonteOptionError } from '../support/MonteOptionError';\nimport { ReplacePreceding } from '../tools/mergeOptions';\nimport { isDefined } from '../tools/is';\n\nconst GRID_DEFAULTS = {\n  eventPrefix: 'grid',\n  scalePrefixes: ['x', 'y'],\n  axisLayer: 'support',\n  prefixCssMap: {\n    'x': 'v-line',\n    'y': 'h-line',\n  },\n  lineCss: 'monte-ext-grid-line',\n  binding: new ReplacePreceding(['axisRendered']),\n  x1Adjust: 0,\n  x2Adjust: 0,\n  y1Adjust: 0,\n  y2Adjust: 0,\n\n  // Draw vertical lines for X, and horziontal for Y\n  orient: function(scaleName) {\n    if (scaleName.charAt(0) === 'x') {\n      return VERTICAL;\n    }\n    else if (scaleName.charAt(0) === 'y') {\n      return HORIZONTAL;\n    }\n\n    throw new MonteOptionError(`Unknown grid direction for scale ${scaleName}`);\n  },\n};\n\n// BG Grid\nexport class Grid extends Extension {\n\n  _initOptions(...options) {\n    super._initOptions(...options, GRID_DEFAULTS);\n  }\n\n  _update(scaleName, axis, axisTransition) {\n    const axesChart = this.chart;\n\n    // Set transition defaults if `axisTransition` is undefined or null.\n    if (!isDefined(axisTransition)) {\n      const action = this.chart.hasRendered ? UPDATE : ENTER;\n      const axisLayerName = this.tryInvoke(this.opts.axisLayer);\n      const axisLayer = this.chart[axisLayerName];\n      axisTransition = axisLayer.transition().call(this.chart._transitionSetup('axis', action));\n    }\n\n    const prefixCssMap = this.tryInvoke(this.opts.prefixCssMap);\n\n    // Draw all axis\n    axesChart.forEachAxisScale((scaleName) => {\n      if (!prefixCssMap[scaleName]) { return; }\n\n      const css = this.getCss(scaleName, prefixCssMap);\n      const scale = axesChart[scaleName];\n      const axis = axesChart[scaleName + 'Axis'];\n      const orient = this.tryInvoke(this.opts.orient, scaleName);\n\n      if (css && scale && axis) {\n        // Next three lines match internal workings of the D3 Axis object.\n        const tickValues = axis.tickValues();\n        const tickArguments = axis.tickArguments();\n        const values = tickValues == null ?\n          (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) :\n          tickValues;\n\n        const ticks = this._extCreateSelection(css).data(values, (d) => d);\n\n        this._updateTicks(ticks, axisTransition, {\n          axesChart, axis, axisTransition, css, orient, scale, scaleName,\n          lineCss: this.option('lineCss'),\n        });\n      }\n    });\n  }\n\n  _updateTicks(ticks, axisTransition, cfg) {\n    const fullCss = [cfg.lineCss, cfg.css].join(' ');\n    const x1 = this.tryInvoke(this.opts.x1Adjust);\n    const x2 = this.tryInvoke(this.opts.x2Adjust);\n    const y1 = this.tryInvoke(this.opts.y1Adjust);\n    const y2 = this.tryInvoke(this.opts.y2Adjust);\n\n    if (cfg.orient === HORIZONTAL) {\n      ticks.enter().append('line')\n        .call(this._setExtAttrs.bind(this))\n        .attr('class', fullCss)\n        .attr('x1', 0)\n        .attr('x2', 0)\n        .attr('x1', 0 + x1)\n        .attr('x2', cfg.axesChart.width + x2)\n        .attr('y1', AXIS_SHIFT + y1)\n        .attr('y2', AXIS_SHIFT + y2)\n        .attr('transform', (d) => 'translate(0,' + cfg.scale(d) + ')')\n        .style('opacity', 0)\n        .transition(axisTransition)\n          .style('opacity', 1);\n\n      ticks.transition(axisTransition)\n        .attr('x1', () => 0 + x1)\n        .attr('x2', () => cfg.axesChart.width + x2)\n        .attr('transform', (d) => 'translate(0,' + cfg.scale(d) + ')')\n        .style('opacity', 1);\n    }\n    else if (cfg.orient === VERTICAL) {\n      ticks.enter().append('line')\n        .call(this._setExtAttrs.bind(this))\n        .attr('class', fullCss)\n        .attr('x1', AXIS_SHIFT + x1)\n        .attr('x2', AXIS_SHIFT + x2)\n        .attr('y1', 0 + y1)\n        .attr('y2', cfg.axesChart.height + y2)\n        .attr('transform', (d) => 'translate(' + cfg.scale(d) + ', 0)')\n        .style('opacity', 0)\n        .transition(axisTransition)\n          .style('opacity', 1);\n\n      ticks.transition(axisTransition)\n        .attr('y1', () => 0 + y1)\n        .attr('y2', () => cfg.axesChart.height + y2)\n        .attr('transform', (d) => 'translate(' + cfg.scale(d) + ', 0)')\n        .style('opacity', 1);\n    }\n\n    ticks.exit()\n      .transition(axisTransition)\n      .style('opacity', 0)\n      .remove();\n  }\n\n  getCss(scaleName, prefixCssMap) {\n    for (let prefix in prefixCssMap) {\n      if (this.opts.prefixCssMap.hasOwnProperty(prefix)) {\n        const hasPrefix = scaleName.substr(0, prefix.length) === prefix;\n\n        if (hasPrefix) {\n          return this.tryInvoke(this.opts.prefixCssMap[prefix]);\n        }\n      }\n    }\n\n    return '';\n  }\n}\n\nexport class HorizontalLines extends Grid {\n  _updateTicks(ticks, axisTransition, cfg) {\n    if (cfg.orient === HORIZONTAL) {\n      super._updateTicks(ticks, axisTransition, cfg);\n    }\n  }\n}\n\nexport class VerticalLines extends Grid {\n  _updateTicks(ticks, axisTransition, cfg) {\n    if (cfg.orient === VERTICAL) {\n      super._updateTicks(ticks, axisTransition, cfg);\n    }\n  }\n}\n","import { Extension } from './Extension';\nimport { TAU } from '../const/math';\nimport { isDefined } from '../tools/is';\n\nconst POLAR_GRID_DEFAULTS = {\n  eventPrefix: 'polargrid',\n  startAngle: 0,\n  endAngle: TAU,\n  arcRadii: [100],\n  arcCss: 'monte-ext-polar-grid-arc',\n  arcSpecificCss: null,\n  arcSort: (a, b) => b - a,\n  arcWidth: 0,\n  cornerRadius: 0,\n};\n\n/**\n * Creates a set of concentric arcs with the given `arcRadii` that start and end at `startAngle` and\n * `endAngle` respectively.\n */\nexport class PolarGrid extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, POLAR_GRID_DEFAULTS);\n\n    const arcWidth = this.tryInvoke(this.opts.arcWidth);\n    this.arc = d3.arc()\n      .innerRadius(function(d) { return d.radius; })\n      .outerRadius(function(d) { return d.radius + arcWidth; })\n      .cornerRadius(this.tryInvoke(this.opts.cornerRadius));\n  }\n\n  _update() {\n    const radii = this.tryInvoke(this.opts.arcRadii);\n    const data = radii.sort(this.opts.arcSort);\n    const arcs = this._extCreateSelection().data(data);\n    const startAngle = this.tryInvoke(this.opts.startAngle);\n    const endAngle = this.tryInvoke(this.opts.endAngle);\n    const arcAngles = (isDefined(startAngle) && isDefined(endAngle)) ? {\n      startAngle: startAngle,\n      endAngle: endAngle,\n    } : {\n      startAngle: isDefined(startAngle) ? startAngle : endAngle,\n      endAngle: isDefined(startAngle) ? startAngle : endAngle,\n    };\n\n    arcs.enter().append('path')\n      .call(this._setExtAttrs.bind(this))\n      .merge(arcs)\n        .attr('class', this.tryInvoke(this.opts.arcCss))\n        .attr('d', (d) => {\n          arcAngles.radius = d;\n          return this.arc(arcAngles);\n        });\n\n    arcs.exit().remove();\n  }\n}\n","import { Extension } from './Extension';\nimport { UPDATE } from '../const/d3';\nimport { isDefined } from '../tools/is';\n\nconst POLAR_LINE_DEFAULTS = {\n  eventPrefix: 'polarline',\n  layer: 'overlay',\n  angle: 0, // Straight up\n  lineCss: 'monte-ext-polar-line',\n  innerRadius: 0,\n  outerRadius: 100,\n};\n\n/**\n * Draws a line oriented from the origin outward. The line begins at the `innerRadius` and ends at\n * the `outerRadius`.\n */\nexport class PolarLine extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, POLAR_LINE_DEFAULTS);\n  }\n\n  _render() {\n    this.innerArc = d3.arc();\n    this.outerArc = d3.arc();\n  }\n\n  _update() {\n    const innerRadius = this.tryInvoke(this.opts.innerRadius);\n    const outerRadius = this.tryInvoke(this.opts.outerRadius);\n    const css = this.tryInvoke(this.opts.lineCss);\n    const angle = this.tryInvoke(this.opts.angle);\n    const line = this._extCreateSelection().data([{ startAngle: angle, endAngle: angle}]);\n    const newLine = line.enter().append('line')\n      .call(this._setExtAttrs.bind(this))\n      .attr('class', css);\n\n    this.innerArc.innerRadius(innerRadius).outerRadius(innerRadius);\n    this.outerArc.innerRadius(outerRadius).outerRadius(outerRadius);\n\n    if (isDefined(angle)) {\n      newLine.merge(line)\n        .transition()\n          .call(this.chart._transitionSetup('extPolarLine', UPDATE))\n          .attr('x1', (d) => this.innerArc.centroid(d)[0])\n          .attr('y1', (d) => this.innerArc.centroid(d)[1])\n          .attr('x2', (d) => this.outerArc.centroid(d)[0])\n          .attr('y2', (d) => this.outerArc.centroid(d)[1]);\n    }\n    else {\n      newLine.merge(line)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', 0)\n        .attr('y2', 0);\n    }\n\n    line.exit().remove();\n  }\n}\n","import { combineTransforms, readTransforms } from '../tools/transform';\nimport { Extension } from './Extension';\nimport { polarLabelRotateTangentFlip } from '../util/polarLabelRotations';\nimport { radiansToDegrees } from '../tools/polar';\n\nconst POLAR_ROTATE_LABEL_DEFAULTS = {\n  layer: 'draw',\n  eventPrefix: 'polarRotateLabel',\n  labelCss: 'monte-arc-label',\n  rotation: polarLabelRotateTangentFlip,\n};\n\nexport class PolarRotateLabel extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, POLAR_ROTATE_LABEL_DEFAULTS);\n  }\n\n  _update() {\n    const css = this.tryInvoke(this.opts.labelCss);\n    const labels = this.layer.selectAll(`.${css}`);\n\n    labels.attr('transform', (d, i, nodes) => {\n      const nodeSel = d3.select(nodes[i]);\n      const rotate = radiansToDegrees(this.tryInvoke(this.opts.rotation, d, i, nodes));\n      const currentTransforms = readTransforms(nodeSel.attr('transform'));\n      currentTransforms.rotate = [rotate]; // Replace existing if it's there; otherwise add it.\n\n      return combineTransforms(currentTransforms);\n    });\n  }\n}\n","import { Extension } from './Extension';\nimport { TAU } from '../const/math';\nimport { areCoterminalAngles } from '../tools/polar';\n\nconst POLAR_TICKS_DEFAULTS = {\n  eventPrefix: 'polarticks',\n  startAngle: 0,\n  endAngle: TAU,\n  tickInterval: 1/8 * TAU, // 8 ticks, one every 45 deg\n  innerRadius: 0,\n  outerRadius: 100,\n  tickCss: 'monte-ext-polar-tick',\n  suppressEnd: false,\n};\n\nexport class PolarTicks extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, POLAR_TICKS_DEFAULTS);\n\n    const innerRadius = this.tryInvoke(this.opts.innerRadius);\n    const outerRadius = this.tryInvoke(this.opts.outerRadius);\n    this.innerArc = d3.arc().innerRadius(innerRadius).outerRadius(innerRadius);\n    this.outerArc = d3.arc().innerRadius(outerRadius).outerRadius(outerRadius);\n  }\n\n  _update() {\n    const data = [];\n    const startAngle = this.tryInvoke(this.opts.startAngle);\n    const endAngle = this.tryInvoke(this.opts.endAngle);\n    const tickInterval = this.tryInvoke(this.opts.tickInterval);\n    const suppressEnd = this.tryInvoke(this.opts.suppressEnd);\n    const tickCss = this.tryInvoke(this.opts.tickCss);\n\n    let tickCount = Math.abs(endAngle - startAngle) / tickInterval;\n\n    // Include every tick, within the arc unless they would overlap at the start and end (such as\n    // start (0) and end of a circle (2Pi)).\n    if (!suppressEnd && !areCoterminalAngles(startAngle, endAngle)) {\n      tickCount++;\n    }\n\n    for (let i = 0; i < tickCount; i++) {\n      const angle = startAngle + (i * tickInterval);\n\n      // Create data structure that `arc` handles.\n      data.push({\n        startAngle: angle,\n        endAngle: angle,\n        value: i,\n      });\n    }\n\n    const ticks = this._extCreateSelection().data(data);\n\n    ticks.enter().append('line')\n      .call(this._setExtAttrs.bind(this))\n      .merge(ticks)\n        .attr('class', tickCss)\n        .attr('x1', (d) => this.innerArc.centroid(d)[0])\n        .attr('y1', (d) => this.innerArc.centroid(d)[1])\n        .attr('x2', (d) => this.outerArc.centroid(d)[0])\n        .attr('y2', (d) => this.outerArc.centroid(d)[1]);\n\n    ticks.exit().remove();\n  }\n}\n","import { Extension } from './Extension';\n\nconst BAR_BG_DEFAULTS = {\n  eventPrefix: 'barbg',\n  barBgCss: 'monte-ext-bar-bg',\n  data: null,\n  maxValue: null,     // Maximum value\n  maxValueProp: null, // Maximum value taken from chart data\n  minValue: null,     // Minimum value\n  minValueProp: null, // Minimum value taken from chart data\n  enlarge: 0.05,\n  cornerRadius: 0,\n};\n\nexport class BarBg extends Extension {\n  _initOptions(...options) {\n    super._initOptions(...options, BAR_BG_DEFAULTS);\n  }\n\n  _update() {\n    const barChart = this.chart;\n    const chartData = barChart.data() || [];\n    let data;\n\n    if (this.opts.data) {\n      data = this.tryInvoke(this.opts.data);\n    }\n    else {\n      data = this._buildData(barChart, chartData);\n    }\n\n    const bgs = this._extCreateSelection().data(data);\n    const sizeAdjust = this._sizeAdjust(barChart);\n    const css = this.tryInvoke(this.opts.barBgCss);\n\n    bgs.enter().append('rect')\n      .call(this._setExtAttrs.bind(this))\n      .merge(bgs)\n        .attr('class', css)\n        .attr('x', (...args) => this._x(barChart, sizeAdjust, ...args))\n        .attr('y', (...args) => this._y(barChart, sizeAdjust, ...args))\n        .attr('width', (...args) => this._width(barChart, sizeAdjust, ...args))\n        .attr('height', (...args) => this._height(barChart, sizeAdjust, ...args))\n        .attr('rx', (d, i) => this.tryInvoke(this.opts.cornerRadius, d, i));\n\n    bgs.exit().remove();\n  }\n\n  _buildData(barChart, chartData) {\n    const data = new Array(chartData.length);\n    const domain = barChart.y.domain();\n\n    for (let i = 0; i < data.length; i++) {\n      const minValueProp = this.tryInvoke(this.opts.minValueProp);\n      const maxValueProp = this.tryInvoke(this.opts.maxValueProp);\n      const minVal = minValueProp ? chartData[i][minValueProp] : null;\n      const maxVal = maxValueProp ? chartData[i][maxValueProp] : null;\n\n      data[i] = {\n        [barChart.option('xProp')]: chartData[i][barChart.option('xProp')],\n        'min': minVal || this.opts.minValue || domain[0],\n        'max': maxVal || this.opts.maxValue || domain[1],\n      };\n    }\n\n    return data;\n  }\n\n  _sizeAdjust(barChart) {\n    const enlarge = this.tryInvoke(this.opts.enlarge);\n    return barChart.x.bandwidth() * enlarge;\n  }\n\n  _x(barChart, sizeAdjust, ...args) {\n    const v = barChart._barX.bind(barChart)(...args) + this._xShift(sizeAdjust);\n    return v;\n  }\n\n  _xShift(sizeAdjust) {\n    return -sizeAdjust;\n  }\n\n  _y(barChart, sizeAdjust, d) {\n    return barChart.y(d.max) + this._yShift(sizeAdjust);\n  }\n\n  _yShift(sizeAdjust) { // eslint-disable-line no-unused-vars\n    return 0;\n  }\n\n  _widthAdjust(sizeAdjust) {\n    return 2 * sizeAdjust;\n  }\n\n  _width(barChart, sizeAdjust, d) {\n    const bw = barChart._barWidth(d);\n    const wa = this._widthAdjust(sizeAdjust);\n    return bw + wa;\n  }\n\n  _heightAdjust(sizeAdjust) { // eslint-disable-line no-unused-vars\n    return 0;\n  }\n\n  _height(barChart, sizeAdjust, d) {\n    const z = barChart.y(0);\n    const h = (barChart.y(d.min) - z) + (z - barChart.y(d.max));\n    return h + this._heightAdjust(sizeAdjust);\n  }\n}\n\nexport class HorizontalBarBg extends BarBg {\n  _buildData(hBarChart, chartData) {\n    const data = new Array(chartData.length);\n    const domain = hBarChart.x.domain();\n\n    for (let i = 0; i < data.length; i++) {\n      const minValueProp = this.tryInvoke(this.opts.minValueProp);\n      const maxValueProp = this.tryInvoke(this.opts.maxValueProp);\n      const minVal = minValueProp ? chartData[i][minValueProp] : null;\n      const maxVal = maxValueProp ? chartData[i][maxValueProp] : null;\n\n      data[i] = {\n        [hBarChart.option('yProp')]: chartData[i][hBarChart.option('yProp')],\n        'min': minVal || this.opts.minValue || domain[0],\n        'max': maxVal || this.opts.maxValue || domain[1],\n      };\n    }\n\n    return data;\n  }\n\n  _sizeAdjust(barChart) {\n    return barChart.y.bandwidth() * this.opts.enlarge;\n  }\n\n  _x(barChart, sizeAdjust, d) {\n    return barChart.x(d.min) + this._xShift(sizeAdjust);\n  }\n\n  _xShift(sizeAdjust) { // eslint-disable-line no-unused-vars\n    return 0;\n  }\n\n  _y(barChart, sizeAdjust, ...args) {\n    const v = barChart._barY.bind(barChart)(...args) + this._yShift(sizeAdjust);\n    return v;\n  }\n\n  _yShift(sizeAdjust) {\n    return -sizeAdjust;\n  }\n\n  _widthAdjust(sizeAdjust) { // eslint-disable-line no-unused-vars\n    return 0;\n  }\n\n  _width(barChart, sizeAdjust, d) {\n    const z = barChart.x(0);\n    const w = (z - barChart.x(d.min)) + (barChart.x(d.max) - z);\n    return w + this._widthAdjust(sizeAdjust);\n  }\n\n  _heightAdjust(sizeAdjust) {\n    return 2 * sizeAdjust;\n  }\n\n  _height(barChart, sizeAdjust, d) {\n    const bh = barChart._barHeight(d);\n    const ha = this._heightAdjust(sizeAdjust);\n    return bh + ha;\n  }\n}\n","import { isArray, isDefined } from '../tools/is';\nimport { Extension } from './Extension';\nimport { noop } from '../tools/noop';\n\nconst REF_LINE_DEFAULTS = {\n  eventPrefix: 'refline',\n  css: 'monte-ext-ref-line-grp',\n  data: noop,\n  layer: 'overlay',\n  labelPlacement: 'nw',\n  textAnchor: 'start',\n  textProp: 'text',\n  x1Prop: 'x1',\n  x2Prop: 'x2',\n  y1Prop: 'y1',\n  y2Prop: 'y2',\n};\n\n// Strategies for placing labels.\nconst LABEL_PLACEMENT = {\n  'nw': (text, c) => {\n    text.attr('dy', '-0.35em').attr('x', c.x1).attr('y', c.y1);\n  },\n\n  'n': (text, c) => {\n    text.attr('dy', '-0.35em').attr('x', (c.x2 - c.x1) / 2 + c.x1).attr('y', c.y2);\n  },\n\n  'ne': (text, c) => {\n    text.attr('dy', '-0.35em').attr('x', c.x2).attr('y', c.y2);\n  },\n\n  'w': (text, c) => {\n    text.attr('dy', '0.35em').attr('x', c.x1).attr('y', c.y1);\n  },\n\n  'e': (text, c) => {\n    text.attr('dy', '0.35em').attr('x', c.x2).attr('y', c.y2);\n  },\n\n  'sw': (text, c) => {\n    text.attr('dy', '1em').attr('x', c.x1).attr('y', c.y1);\n  },\n\n  's': (text, c) => {\n    text.attr('dy', '1em').attr('x', (c.x2 - c.x1) / 2 + c.x1).attr('y', c.y2);\n  },\n\n  'se': (text, c) => {\n    text.attr('dy', '1em').attr('x', c.x2).attr('y', c.y2);\n  },\n};\n\n// A static line with an optional label.\nexport class ReferenceLine extends Extension {\n  constructor(options) {\n    super(options);\n\n    this.lineData = [];\n  }\n\n  _initOptions(...options) {\n    super._initOptions(...options, REF_LINE_DEFAULTS);\n  }\n\n  _update() {\n    this.lineData = this.tryInvoke(this.opts.data);\n\n    if (!isArray(this.lineData) && isDefined(this.lineData)) {\n      this.lineData = [this.lineData];\n    }\n    else if (!isDefined(this.lineData)) {\n      this.lineData = [];\n    }\n\n    const lines = this._extCreateSelection().data(this.lineData);\n    const css = this.tryInvoke(this.opts.css);\n    const anchor = this.tryInvoke(this.opts.textAnchor);\n\n    // Enter\n    const enter = lines.enter().append('g')\n      .call(this._setExtAttrs.bind(this))\n      .attr('class', css);\n    enter.append('text');\n    enter.append('line');\n\n    // Update + Enter\n    const update = enter.merge(lines);\n    update.select('line')\n      .attr('x1', (d) => this.getProp('x1', d))\n      .attr('x2', (d) => this.getProp('x2', d))\n      .attr('y1', (d) => this.getProp('y1', d))\n      .attr('y2', (d) => this.getProp('y2', d));\n\n    update.select('text')\n      .attr('text-anchor', anchor)\n      .text((d) => this.getProp('text', d))\n      .each(this._placeLabel.bind(this));\n\n    // Exit\n    lines.exit().remove();\n  }\n\n  _placeLabel(d, i, nodes) {\n    const text = d3.select(nodes[i]);\n    const labelPlacement = this.tryInvoke(this.opts.labelPlacement, d, i, nodes);\n    const placement = LABEL_PLACEMENT[labelPlacement];\n    const coords = {\n      x1: this.getProp('x1', d),\n      x2: this.getProp('x2', d),\n      y1: this.getProp('y1', d),\n      y2: this.getProp('y2', d),\n    };\n\n    placement.call(this, text, coords);\n  }\n}\n"],"names":["baseSlice","array","start","end","index","length","result","Array","castSlice","undefined","hasUnicode","string","reHasUnicode","test","asciiToArray","split","unicodeToArray","match","reUnicode","stringToArray","arrayMap","iteratee","getRawTag","value","isOwn","hasOwnProperty","call","symToStringTag","tag","unmasked","e","nativeObjectToString","objectToString","baseGetTag","undefinedTag","nullTag","Object","isObjectLike","isSymbol","symbolTag","baseToString","isArray","symbolToString","INFINITY","toString","arrayReduce","accumulator","initAccum","deburr","replace","reLatin","deburrLetter","reComboMark","asciiWords","reAsciiWord","hasUnicodeWord","reHasUnicodeWord","unicodeWords","reUnicodeWord","words","pattern","guard","createCompounder","callback","reApos","capitalize","upperFirst","toLowerCase","eq","other","assocIndexOf","key","ListCache","entries","clear","entry","set","isObject","type","isFunction","funcTag","genTag","asyncTag","proxyTag","isMasked","func","maskSrcKey","toSource","funcToString","baseIsNative","reIsNative","reIsHostCtor","getValue","object","getNative","Hash","isKeyable","getMapData","map","data","__data__","MapCache","Stack","this","size","SetCache","values","add","arraySome","predicate","cacheHas","cache","has","equalArrays","bitmask","customizer","equalFunc","stack","isPartial","COMPARE_PARTIAL_FLAG","arrLength","othLength","stacked","get","seen","COMPARE_UNORDERED_FLAG","arrValue","othValue","compared","othIndex","push","mapToArray","forEach","setToArray","equalByTag","dataViewTag","byteLength","byteOffset","buffer","arrayBufferTag","Uint8Array","boolTag","dateTag","numberTag","errorTag","name","message","regexpTag","stringTag","mapTag","convert","setTag","symbolValueOf","arrayPush","offset","baseGetAllKeys","keysFunc","symbolsFunc","arrayFilter","resIndex","baseTimes","n","baseIsArguments","argsTag","isIndex","MAX_SAFE_INTEGER","reIsUint","isLength","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isBuffer","isType","isTypedArray","skipIndexes","String","isPrototype","Ctor","constructor","prototype","objectProto","overArg","transform","arg","baseKeys","nativeKeys","isArrayLike","keys","getAllKeys","getSymbols","equalObjects","objProps","objLength","skipCtor","objValue","objCtor","othCtor","baseIsEqualDeep","objIsArr","othIsArr","objTag","arrayTag","getTag","othTag","objIsObj","objectTag","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","isFlattenable","spreadableSymbol","baseFlatten","depth","isStrict","baseHas","isKey","reIsPlainProp","reIsDeepProp","memoize","resolver","TypeError","FUNC_ERROR_TEXT","memoized","args","arguments","apply","Cache","castPath","stringToPath","toKey","hasPath","path","hasFunc","baseGet","baseAssignValue","defineProperty","assignValue","baseSet","lastIndex","nested","newValue","thisArg","identity","overRest","nativeMax","otherArgs","constant","baseRest","setToString","assignMergeValue","cloneBuffer","isDeep","slice","allocUnsafe","copy","cloneArrayBuffer","arrayBuffer","cloneTypedArray","typedArray","copyArray","source","initCloneObject","baseCreate","getPrototype","isArrayLikeObject","isPlainObject","proto","objectCtorString","copyObject","props","isNew","nativeKeysIn","baseKeysIn","isProto","keysIn","toPlainObject","baseMergeDeep","srcIndex","mergeFunc","srcValue","isCommon","isTyped","baseMerge","customDefaultsMerge","isIterateeCall","noop","v","isFinite","isNumberLike","isNumeric","isString","isFunc","isNoop","isDefined","UNDEF","getTreeSetting","obj","levels","property","defaultValue","i","propPath","join","_i","_propPath","unpack","checkValue","OptionValueWrap","replaceCheck","out","sliceIndex","ReplacePreceding","mergeOptions","options","opts","defaultsDeep","prop","chartClipPathId","chartId","num","MonteError","CLIP_PATH_ID_BASE","defaultDataKey","d","id","commonEventNames","names","leads","lead","INTERACTION_EVENTS","eventName","resetScaleDomain","scale","domain","pascalCase","str","camelCase","extentFromZero","extent","extentBalanced","min","max","absMin","Math","abs","absMax","extreme","nonMatchingMapValues","keyToExclude","iconTransform","nodes","col","tryInvoke","arrangement","columnIndex","row","rowIndex","getScaledProp","iconTransformShift","x","y","iconSvgWidth","iconSvgHeight","areCoterminalAngles","a1","a2","TAU","Number","isInteger","getPolarCoord","radius","angle","a","HALF_PI","cos","sin","radiansToDegrees","rad","PI","arcBisect","startAngle","endAngle","wedgeBisect","arcSimpleTween","arc","from","to","d3","interpolate","t","arcLabelTween","defaultRadius","rotate","interpolateObject","polarLabelCentroid","LABEL_PLACEMENT","CENTROID","polarLabelInner","INNER","polarLabelOuter","OUTER","getDatum","baseLabelRotateTangentOrigin","baseLabelRotateTangentFlip","absAngle","baseLabelRotateRay","baseLabelRotateRayOpposite","baseLabelRotateRayFlip","baseLabelRotateNone","polarLabelRotateTangentFlip","gaugeLabelRotateTangentFlip","gaugeLabelRotateNone","radiusContrain","width","height","wr","hr","readTransforms","transformSplit","transforms","transformPattern","filter","rule","matches","exec","trim","k","indexOf","j","combineTransforms","transformObj","transformStrs","sort","removeClassByPattern","selection","classList","node","getAttribute","re","RegExp","InvalidArgumentType","c","classed","needleRoundedEnd","needleHeight","needleBaseWidth","r","findBy","objArray","searchKey","searchKeyMatch","valueKey","wrap","text","lineHeightEm","each","select","reverse","attr","dy","parseFloat","line","tspan","append","lineNumber","word","pop","getComputedTextLength","limit","indicator","textSel","w","origText","wasTruncated","getFontSize","el","style","window","getComputedStyle","getPropertyValue","mid","b","axisXLabelCenter","lbl","axisYLabelCenter","h","readStyleProp","val","isNaN","getStyle","s","getBoundingClientRect","INTERACTION_SHOW_EVENTS","INTERACTION_HIDE_EVENTS","CHART_SUPPORT_EVENTS","CHART_LIFECYCLE_EVENTS","EXTENSION_LIFECYCLE_EVENTS","INTERACTION_EVENT_CSS_MAP","action","css","rsCombo","rsFitz","rsRegional","rsSurrPair","reOptMod","rsModifier","rsSeq","rsSymbol","freeGlobal","global","freeSelf","self","root","Function","_Symbol","Symbol","toStringTag","symbolProto","methodName","strSymbols","chr","charAt","trailing","Á","Â","Ã","Ä","Å","á","â","ã","ä","å","ç","ð","É","Ê","Ë","é","ê","ë","Í","Î","Ï","í","î","ï","ñ","Ó","Ô","Õ","Ö","Ø","ó","ô","õ","ö","ø","Ú","Û","Ü","ú","û","ü","ý","ÿ","æ","þ","Ă","Ą","ă","ą","Ĉ","Ċ","Č","ĉ","ċ","č","Đ","ď","đ","Ĕ","Ė","Ę","Ě","ĕ","ė","ę","ě","Ğ","Ġ","Ģ","ğ","ġ","ģ","Ħ","ĥ","ħ","Ī","Ĭ","Į","İ","ī","ĭ","į","ı","ĵ","ķ","ĸ","Ļ","Ľ","Ŀ","Ł","ļ","ľ","ŀ","ł","Ņ","Ň","Ŋ","ņ","ň","ŋ","Ŏ","Ő","ŏ","ő","Ŗ","Ř","ŗ","ř","Ŝ","Ş","Š","ŝ","ş","š","Ť","Ŧ","ť","ŧ","Ū","Ŭ","Ů","Ű","Ų","ū","ŭ","ů","ű","ų","ŵ","ŷ","Ÿ","Ż","Ž","ż","ž","ĳ","œ","ſ","rsBreakRange","rsMathOpRange","rsBreak","rsLower","rsMisc","rsUpper","rsMiscLower","rsEmoji","rsMiscUpper","snakeCase","kebabCase","splice","coreJsData","uid","IE_PROTO","reRegExpChar","funcProto","Map","nativeCreate","HASH_UNDEFINED","LARGE_ARRAY_SIZE","pairs","valueOf","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","symbol","freeExports","exports","nodeType","freeModule","module","Buffer","typedArrayTags","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","DataView","Promise","Set","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","resolve","ctorString","isConcatSpreadable","MAX_MEMOIZE_SIZE","reLeadingDot","rePropName","reEscapeChar","number","quote","baseSetToString","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","count","lastCalled","stamp","remaining","baseFor","fromRight","iterable","objectCreate","create","getPrototypeOf","mergeWith","assigner","sources","flattenDeep","isEqual","DEFAULT_MSG","msgs","msg","_this","Error","captureStackTrace","method","sourceType","argumentName","expectedType","received","InstanceGroup","instances","proxyMethodSet","_instances","additionalMethodsToProxy","_methodsToProxy","concat","m","addProxyMethod","instance","addInstance","invokeProxyMethod","bind","MonteOptionError","optionName","badValue","TRANSITION_EASE","easeCubic","ENTER","UPDATE","EXIT","UPDATE_PATTERN","standard","transitionSettings","DEFAULTS","FPS_15","EventWatcher","callbacks","running","pendingFrame","pendingTimeout","listenerAttached","documentReady","EventWatcherException","documentLoadRun","eventWatcher","ready","removeEventListener","runCallbacks","addEventListener","document","readyState","run","_runCallbacks","requestAnimationFrame","setTimeout","timeoutDelayMs","target","_fired","cancelAnimationFrame","_developerMode","_developerModeEvents","_resizeWatch","extensionId","MonteGlobal","defaultTransition","Chart","parentSelector","_constructed","_optsSet","hasRendered","layers","extensions","_optionReaderCache","__chartId","getNextChartId","_initOptions","_initPublicEvents","EV.INTERACTION_EVENTS","EV.CHART_SUPPORT_EVENTS","EV.CHART_LIFECYCLE_EVENTS","customEvents","developerMode","isDeveloperMode","_initDeveloperMode","_initCore","_initCustomize","_boundsUpdate","_bindExt","_initRender","_resizeHandler","getResizeWatcher","getChartId","option","parent","tagName","bound","_getChartAttr","monteChart","_buildCss","chartCss","defs","clip","clipRect","_initLayers","chart","ev","on","__notify","resizer","resize","addLayer","events","_events","dispatch","echo","log","getDeveloperModeEvents","_this2","developerOptions","listeners","suppressNotify","suppressUpdate","margin","boundingWidth","left","right","boundingHeight","top","bottom","l","_this3","_getLayerTranslate","boundingWidthAttr","boundingHeightAttr","notify","update","remove","_destroy","innerHTML","layerName","elementType","layer","pathId","minWidth","minHeight","typenames","eventLead","typename","_","current","_get","updateBounds","__handleMarginOptions","newVal","optionKey","_this4","console","error","fn","propShortName","propFullName","propIndex","expected","substring","dataPropName","getPropKey","scaleName","propPrefix","datum","propPre","displayData","_clearDataElements","autoResetStyleDomains","resetStyleDomains","_resetStyleDomains","cssSources","cssClasses","_this5","transition","_this6","_transitionSettings","duration","delay","ease","_transitionConfigureDuration","_transitionConfigureDelay","durationWrap","delayWrap","transitions","f","_data","isUpdate","rawData","exts","ext","setChart","bindingName","extArgs","fire","newScaleConstructor","range","_render","_update","directUse","UnimplementedMethod","sel","__elemEvent","__updateExt","eventType","eventNameFull","cssAction","EV.INTERACTION_EVENT_CSS_MAP","scalePath","scales","charts","GROUP_PROXY_METHODS","EVENTS","AXES_CHART_DEFAULTS","scaleLinear","axisBottom","axisLeft","AxesChart","axes","forEachAxisScale","__axisOpt","customize","axis","customFunc","support","updateAxesTransforms","actions","updateAxesRanges","renderAxes","updateAxesDomains","axisGrp","trans","_this7","_domainExtent","suppressAxes","isSuppressArray","stage","_transitionSetup","_this8","emit","_setLabel","label","selectAll","enter","merge","lbls","opt","lblCustomize","_this9","OptionMustBeFunction","fnInvoke","exit","PolarChart","origin","LINE_CHART_DEFAULTS","generateScaleAccessor","symbolCircle","LineChart","lineCustomize","valuesProp","itemProp","extents","lineStrokeScale","lineCssScale","pointFillScale","pointStrokeScale","pointCssScale","lineGrps","_updateLines","includePoints","_updateLinePoints","draw","dataKey","enterLines","__bindCommonEvents","_updateLineSelection","updateLines","selectionFnName","transitionFnName","lineCss","lineCssScaleAccessor","getProp","optionReaderFunc","lineDatum","lineIndex","points","pointDataKey","genSym","pointSize","symbase","pointSymbol","_translatePoint","pointCss","pointCssScaleAccessor","pointEnterSelectionCustomize","pointEnterTransitionCustomize","pointUpdateSelectionCustomize","pointUpdateTransitionCustomize","pointExitSelectionCustomize","pointExitTransitionCustomize","AREA_CHART_DEFAULTS","AreaChart","area","y0","y1","areaCustomize","areaCssScale","areaFillScale","_updateLineArea","lineNodes","enterAreas","insert","_updateLineAreaSelections","areaExitSelectionCustomize","areaExitTransitionCustomize","areaCss","areaCssScaleAccessor","SPARKLINE_CHART_DEFAULTS","SparklineChart","tail","BAR_CHART_DEFAULTS","scaleBand","paddingInner","round","_barX","bandwidth","_barY","_barHeight","BarChart","barCssScale","barFillScale","labelFillScale","barGrps","_updateBars","includeLabels","_updateBarLabel","barX","barY","barWidth","_barWidth","barHeight","barGrpCss","barCss","barCssScaleAccessor","barEnterSelectionCustomize","barEnterTransitionCustomize","barUpdateSelectionCustomize","barUpdateTransitionCustomize","barExitSelectionCustomize","barExitTransitionCustomize","barGrp","d1","labelFillScaleAccessor","labelX","labelXAdjust","labelY","labelYAdjust","labelEnterSelectionCustomize","ts","_transitionConfigure","labelEnterTransitionCustomize","labelUpdateSelectionCustomize","labelUpdateTransitionCustomize","labelExitSelectionCustomize","labelExitTransitionCustomize","HBAR_CHART_DEFAULTS","HorizontalBarChart","xProp","yProp","SIMPLE_BAR_CHART_DEFAULTS","SimpleBarChart","valueProp","_updateSupport","barSupport","bgBar","bg","frame","SIMPLE_HORT_BAR_CHART_DEFAULTS","HorizontalSimpleBarChart","SEGMENT_BAR_MODE","SEGMENT_BAR_MODE_CSS_MAP","GROUPED","STACKED","SEGMENT_BAR_CHART_DEFAULTS","paddingOuter","mode","_barXInnerGrouped","xInner","allNodes","_barYInnerStacked","_barYInnerGrouped","SegmentBarChart","_initInnerScales","xInnerScale","baseProp","vals","maxes","sum","segmentBarMode","_extentInner","InvalidEnumOption","_extentMaxes","barSegCssScale","barSegFillScale","_mode","setMode","_updateXInnerRange","_updateYInnerRange","xInnerProp","xInnerDomain","_updateXInnerDomain","_updateYInnerDomain","classToAdd","classesToRemove","_updateStackedBars","_updateGroupedBars","_updateLabels","classToRemove","barXInner","_barXInnerStacked","barYInner","_barWidthStacked","_barHeightStacked","_barWidthGrouped","_barHeightGrouped","fns","barGrpsEnter","_updateBarSelection","bargrpExitSelectionCustomize","settings","bargrpExitTransitionCustomize","translate","_barGroupTranslate","nestedData","_barProp","innerRects","innerDataKey","innerRectsEnter","innerRectsEnterUpdate","barSegCss","barSegCssScaleAccessor","barsegEnterSelectionCustomize","barsegEnterTransitionCustomize","barsegUpdateSelectionCustomize","barsegUpdateTransitionCustomize","barsegExitSelectionCustomize","barsegExitTransitionCustomize","_updateBarSegLabels","barData","barIndex","barNodes","_segLabels","enterLbls","updateLabels","raise","baseY","yShift","HSEGMENT_BAR_CHART_DEFAULTS","yInner","HorizontalSegmentBarChart","yInnerScale","yInnerProp","yInnerDomain","xShift","SPAN_CHART_DEFAULTS","catDatum","_spanX","_spanY","_spanHeight","VerticalSpanChart","y1Values","y2Values","spanCssScale","spanFillScale","spanCats","doUpdate","catSel","_updateSpans","_updateSpanLabel","spanGrpCss","catEnterSelectionCustomize","catEnterTransitionCustomize","active","catExitSelectionCustomize","catExitTransitionCustomize","spanCat","spanGrps","spanX","spanY","spanWidth","_spanWidth","spanHeight","spanCss","spanCssScaleAccessor","spanEnterSelectionCustomize","spanEnterTransitionCustomize","spanUpdateSelectionCustomize","spanUpdateTransitionCustomize","spanExitSelectionCustomize","spanExitTransitionCustomize","spanGrp","labelSet","labelSetCss","parentNode","HSPAN_CHART_DEFAULTS","HorizontalSpanChart","x1Values","x2Values","SCATTER_PLOT_DEFAULTS","ScatterPlot","_updatePoints","pointsEnter","_updatePointsSelection","ICON_MODE","iconArrangeBottomTop","floor","columns","iconArrangeTopBottom","rows","ICON_ARRAY_DEFAULTS","scalePoint","padding","D3_SYMBOL","IconArray","iconCssScale","iconFillScale","iconStrokeScale","fill","idx","iconMode","SVG_USE_DEF","iconSvgSymbol","_updateIcons","modeMap","_updateD3Symbol","_updateSvgUse","SVG_USE_EXTERNAL","icons","_updateCommon","iconSize","iconSymbol","href","iconDefId","iconHref","hrefAttr","svgVersion","iconCss","iconCssScaleAccessor","iconUpdateSelectionCustomize","iconUpdateTransitionCustomize","polarLabelCssPrefix","innerRadius","outerRadius","LABEL_CSS_PATTERN","ARC_CHART_DEFAULTS","padAngle","ArcChart","cornerRadius","pie","sortValues","pieStartAngle","pieEndAngle","piePadAngle","arcCustomize","pieCustomize","arcWedgeCssScale","arcWedgeFillScale","arcWedgeStrokeScale","arcBgWedgeCssScale","arcBgWedgeFillScale","pieDisplayData","_updateBackground","arcGrps","_updateArcs","arcs","arcCss","arcWedgeCss","arcWedgeCssScaleAccessor","wedgeEnterSelectionCustomize","attrTween","arcWedgeEnter","wedgeEnterTransitionCustomize","pd","parentElement","nd","prev","wedgeUpdateSelectionCustomize","wedgeUpdateTransitionCustomize","wedgeExitSelectionCustomize","wedgeExitTransitionCustomize","pieSum","reduce","accum","cur","bgArc","wedge","arcBgWedgeCssScaleAccessor","bgUpdateSelectionCustomize","labelPlacement","_updateArcLabel","arcGrp","labelRadius","labelAngle","labelRotation","coord","currentTransforms","NEEDLE_EXT","GAUGE_CHART_DEFAULTS","suppressLabels","GaugeChart","_prevNeedleAngleValueData","needleValueData","needleValueAngleData","angleScale","or","arcBgCssScale","arcBgFillScale","segmentsProp","startProp","startValueProp","startLabelProp","itemValueProp","needleValueProp","unshift","intervalSum","acc","needleValue","invert","_updateBackgroundArc","_updateNeedle","arcBgCssScaleAccessor","baseWidth","needleBase","ir","needlePath","needle","overlay","needleEnterSelectionCustomize","needleEnterTransitionCustomize","needleExitSelectionCustomize","styleTween","needleExitTransitionCustomize","POLAR_AREA_CHART_DEFAULTS","scaleSqrt","maxOuterRadius","PolarAreaChart","outerRadiusScale","updateRadiusRange","updateRadiusDomain","outerRadiusRange","outerRadiusDomainCustomize","WEB","RADAR_CHART_DEFAULTS","radiusLabelFillScale","ticks","RadarChart","radiusScale","areaRadialLine","radialLine","curve","curveLinearClosed","webArc","webArcCustomize","areaRadialLineCustomize","areaStrokeScale","propsMap","ray","rayId","currentMax","radiusDomainCustomize","__rayData","rayAngleMap","rayData","rayCount","rayInterval","activeAngle","rayGrps","_updateRays","areaGrps","_updateAreas","_updateWeb","suppressPoints","_updateRayLabels","suppressRadiusLabels","_updateRadiusLabels","_updateAreaSelections","areaValues","p","idKey","rayEnterSelectionCustomize","rayEnterTransitionCustomize","rayUpdateSelectionCustomize","rayUpdateTransitionCustomize","rayExitSelectionCustomize","rayExitTransitionCustomize","_updateRayLabel","rayGrp","webLevels","radiusLabelLayer","radiusLabelAngle","radiusLabelRotation","radiusLabelEnterSelectionCustomize","radiusLabelEnterTransitionCustomize","radiusLabelUpdateSelectionCustomize","radiusLabelUpdateTransitionCustomize","radiusLabelExitSelectionCustomize","radiusLabelExitTransitionCustomize","webMode","_updateWebArc","_updateWebLine","minorLevels","webInnerLevels","webs","_this10","webEnterSelectionCustomize","webEnterTransitionCustomize","webUpdateSelectionCustomize","webUpdateTransitionCustomize","webExitSelectionCustomize","webExitTransitionCustomize","lines","_this11","_this12","_updateAreaPoints","areaNode","areaDatum","areaIndex","areaGrp","pointsData","_this13","point","WEDGE_CHART_DEFAULTS","WedgeChart","wedgeValueData","pieData","NORTH_NORTHWEST","NORTHWEST","WEST_NORTHWEST","WEST","WEST_SOUTHWEST","SOUTHWEST","SOUTH_SOUTHWEST","SOUTH","SOUTH_SOUTHEAST","SOUTHEAST","EAST_SOUTHEAST","EAST","EAST_NORTHEAST","NORTHEAST","NORTH_NORTHEAST","TOP_BY_TOP_LEFT","TOP_LEFT","LEFT_BY_TOP_LEFT","LEFT","LEFT_BY_BOTTOM_LEFT","BOTTOM_LEFT","BOTTOM_BY_BOTTOM_LEFT","BOTTOM","BOTTOM_BY_BOTTOM_RIGHT","BOTTOM_RIGHT","RIGHT_BY_BOTTOM_RIGHT","RIGHT","RIGHT_BY_TOP_RIGHT","TOP_RIGHT","TOP_BY_TOP_RIGHT","Extension","__extId","EV.EXTENSION_LIFECYCLE_EVENTS","lastUpdateEvent","eventPrefix","RequiredOption","getNextExtensionId","_shouldOptionUpdate","cachedChart","optionsTriggerUpdate","_extCreateSelection","event","destroy","render","_optionChanged","rendered","optionMethodName","getExtId","_getExtAttr","cssClass","selector","featurePrefix","ARC_DEFAULTS","Arc","arcAngles","segment","_setExtAttrs","funcs","deg","AXIS_TICK_TRANSFORM_DEFAULTS","AxisTickTransform","textAnchor","transformCustomize","AXIS_LABEL_DEFAULTS","POSITIVE_INFINITY","AxisLabelWrap","maxWidth","labelCustomize","AxisLabelTruncate","CROSSHAIR_DEFAULTS","Crosshair","showBindings","hideBindings","showEvents","hideEvents","fp","fev","featureEventName","setLinePoints","coords","x1","activeFeatureDatum","x2","y2","crosshairCss","linesToDraw","order","shift","alignmentShift","isShowEvent","featureDatum","interrupt","isHideEvent","FRAME_DEFAULTS","Frame","frameLineCss","edgesToDraw","edges","GRID_DEFAULTS","Grid","axisTransition","axesChart","axisLayerName","axisLayer","prefixCssMap","getCss","orient","tickValues","tickArguments","_updateTicks","cfg","fullCss","x1Adjust","x2Adjust","y1Adjust","y2Adjust","prefix","substr","HorizontalLines","VerticalLines","LABEL_DEFAULTS","Label","labelCss","html","anchor","lblSel","_checkMaxWidth","dx","currentWidth","getBBox","currentFontSize","newFontSize","origFontSize","_newFontSize","POLAR_GRID_DEFAULTS","PolarGrid","arcWidth","arcRadii","arcSort","POLAR_LINE_DEFAULTS","PolarLine","innerArc","outerArc","newLine","centroid","POLAR_ROTATE_LABEL_DEFAULTS","PolarRotateLabel","nodeSel","rotation","POLAR_TICKS_DEFAULTS","PolarTicks","tickInterval","suppressEnd","tickCss","tickCount","BAR_BG_DEFAULTS","BarBg","barChart","chartData","_buildData","bgs","sizeAdjust","_sizeAdjust","barBgCss","_x","_y","_width","_height","minValueProp","maxValueProp","minVal","maxVal","minValue","maxValue","enlarge","_xShift","_yShift","_widthAdjust","z","_heightAdjust","HorizontalBarBg","hBarChart","REF_LINE_DEFAULTS","ReferenceLine","lineData","_placeLabel","placement","SELECTION_EVENTS","SELECTION_RECT_DEFAULTS","selectionDirection","isXYBrush","isXBrush","isYBrush","SelectionRect","brush","brushX","brushY","handleSize","initialSelection","brushDetails","_brush","_brushMove","brushSel","customHandlePath","_renderCustomHandles","move","_handles","usingCustomHandles","unscaleSelection","_selection","scaled","handle","raw","_handleX","_handleY","rawSelection","scaledSelection","brushSelection","scaleSelection","dir","isX","isY","X_LABEL_DEFAULTS","Y_LABEL_DEFAULTS","Resizer","body","contains","checkResize","HorizontalResizer","boundingRect","rect","pl","pr","HorizontalRatioResizer","ratio","AutoResizer","pt","pb","VerticalResizer","tickSize","tickFormat","format","percent","adjust","minOffset","maxOffset","smallNeedleHeight","smallNeedleRatio","h1","h2","INNER_EDGE","factor","OUTER_EDGE"],"mappings":"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"}